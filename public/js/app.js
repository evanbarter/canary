/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@ryangjchandler/spruce/dist/spruce.js":
/*!************************************************************!*\
  !*** ./node_modules/@ryangjchandler/spruce/dist/spruce.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var n=function(t){return null==t},r=function(t,e){return Object.keys(t).forEach(function(s){n(t[s])||Object.getPrototypeOf(t[s])!==Object.prototype||(t[s]=r(t[s],e))}),new Proxy(t,{get:function(t,n){return e.hasOwnProperty(\"get\")&&e.get(n),t[n]},set:function(t,s,o){var i=t[s];return n(o)||\"object\"!=typeof o||(o=r(o,e)),e.set(t,s,t[s]=o,i),!0}})},s={options:{globalStoreVariable:!1},events:{watchers:{},events:{},on:function(t,e,n){var r=this;return void 0===n&&(n=!1),this.events[t]||(this.events[t]=[]),this.events[t].push({callback:e,once:n}),function(){return r.off(t,e)}},once:function(t,e){this.on(t,e,!0)},off:function(t,e){this.events[t]=this.events[t].filter(function(t){return t.callback!==e&&!0!==t.once})},emit:function(t,e){var n=this;void 0===e&&(e={}),this.events[t]&&this.events[t].forEach(function(r){r.callback(e),r.once&&n.off(t,r)}),window.dispatchEvent(new CustomEvent(\"spruce:\"+t,{detail:e,bubbles:!0}))},watch:function(t,e){this.watchers[t]||(this.watchers[t]=[]),this.watchers[t].push(e)},runWatchers:function(t,e,n,r){var s=this;if(s.watchers[n])return s.watchers[n].forEach(function(t){return t(r,e[n])});Object.keys(s.watchers).filter(function(t){return t.includes(\".\")}).forEach(function(o){var i=o.split(\".\");n===i[i.length-1]&&i.reduce(function(t,i){return(t[n]===e[n]||Object.is(e,t))&&s.watchers[o].forEach(function(t){return t(r,e[n])}),t[i]},t)})}},stores:{},subscribers:[],start:function(){try{var t=this;return Promise.resolve(new Promise(function(t){\"loading\"==document.readyState?document.addEventListener(\"DOMContentLoaded\",t):t()})).then(function(){t.emit(\"init\"),t.attach(),document.addEventListener(\"turbolinks:render\",t.attach),t.stores=r(t.stores,{set:function(e,n,r,s){t.events.runWatchers(t.stores,e,n,s),t.updateSubscribers()}}),t.options.globalStoreVariable&&(document.querySelectorAll(\"[x-data]\").forEach(function(e){t.subscribers.includes(e)||t.subscribers.push(e)}),window.$store=t.stores)})}catch(t){return Promise.reject(t)}},attach:function(){document.querySelectorAll(\"[x-subscribe]\").forEach(function(t){t.setAttribute(\"x-init\",function(t){var e=\"$store = Spruce.subscribe($el)\";return t.hasAttribute(\"x-init\")&&(e=e+\"; \"+t.getAttribute(\"x-init\")),e}(t)),t.removeAttribute(\"x-subscribe\")})},store:function(t,e){return this.stores[t]||(this.stores[t]=e),this.stores[t]},reset:function(t,e){this.stores[t]=e},subscribe:function(t){return this.subscribers.push(t),this.stores},updateSubscribers:function(){this.subscribers.forEach(function(t){void 0!==t.__x&&t.__x.updateElements(t)})},config:function(t){void 0===t&&(t={}),this.options=Object.assign(this.options,t)},on:function(t,e){return this.events.on(t,e)},once:function(t,e){return this.events.once(t,e)},off:function(t,e){this.events.off(t,e)},emit:function(n,r){void 0===r&&(r={}),this.events.emit(n,function(n){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?e(Object(s),!0).forEach(function(e){t(n,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):e(Object(s)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}({},r,{store:this.stores}))},watch:function(t,e){this.events.watch(t,e)}},o=window.deferLoadingAlpine||function(t){t()};window.deferLoadingAlpine=function(t){window.Spruce=s,window.Spruce.start(),o(t)},module.exports=s;\n//# sourceMappingURL=spruce.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHJ5YW5namNoYW5kbGVyL3NwcnVjZS9kaXN0L3NwcnVjZS5qcz9kYzBiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQix5Q0FBeUMsa0RBQWtELFdBQVcsZ0JBQWdCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQscUJBQXFCLFNBQVMsa0JBQWtCLGVBQWUsaUJBQWlCLDBDQUEwQywwRUFBMEUsZUFBZSxrQkFBa0IsOENBQThDLHFCQUFxQixXQUFXLG9FQUFvRSxFQUFFLElBQUksU0FBUyx1QkFBdUIsU0FBUyxXQUFXLFVBQVUsb0JBQW9CLFdBQVcsbUZBQW1GLGtCQUFrQixhQUFhLG1CQUFtQixvQkFBb0IsZ0JBQWdCLG1CQUFtQixpREFBaUQsbUNBQW1DLEVBQUUsb0JBQW9CLFdBQVcsaUJBQWlCLHFEQUFxRCxpQ0FBaUMsb0RBQW9ELG9CQUFvQixHQUFHLHFCQUFxQixpRUFBaUUsK0JBQStCLFdBQVcsMERBQTBELGlCQUFpQixFQUFFLDJDQUEyQyx1QkFBdUIsc0JBQXNCLG1CQUFtQiwwQ0FBMEMsdUVBQXVFLGlCQUFpQixPQUFPLElBQUksR0FBRyxVQUFVLGlDQUFpQyxJQUFJLFdBQVcsK0NBQStDLG1GQUFtRixtQkFBbUIsdUdBQXVHLHNCQUFzQiw0REFBNEQsNEZBQTRGLGlEQUFpRCwwQkFBMEIsRUFBRSxTQUFTLDBCQUEwQixtQkFBbUIsK0RBQStELG9DQUFvQyx1Q0FBdUMsd0NBQXdDLCtCQUErQixzQ0FBc0MsRUFBRSxxQkFBcUIseURBQXlELHFCQUFxQixpQkFBaUIsdUJBQXVCLDRDQUE0Qyw4QkFBOEIscUNBQXFDLHdDQUF3QyxFQUFFLG9CQUFvQixpQkFBaUIsNkNBQTZDLGtCQUFrQiwyQkFBMkIsb0JBQW9CLDZCQUE2QixtQkFBbUIscUJBQXFCLG9CQUFvQixpQkFBaUIsaUNBQWlDLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHdDQUF3QyxZQUFZLG1JQUFtSSxnRUFBZ0UsRUFBRSxTQUFTLEdBQUcsSUFBSSxrQkFBa0IsR0FBRyxxQkFBcUIsd0JBQXdCLDBDQUEwQyxLQUFLLHNDQUFzQywyQ0FBMkM7QUFDcm5IIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0ByeWFuZ2pjaGFuZGxlci9zcHJ1Y2UvZGlzdC9zcHJ1Y2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB0KHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiBlKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIG49ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXR9LHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihzKXtuKHRbc10pfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodFtzXSkhPT1PYmplY3QucHJvdG90eXBlfHwodFtzXT1yKHRbc10sZSkpfSksbmV3IFByb3h5KHQse2dldDpmdW5jdGlvbih0LG4pe3JldHVybiBlLmhhc093blByb3BlcnR5KFwiZ2V0XCIpJiZlLmdldChuKSx0W25dfSxzZXQ6ZnVuY3Rpb24odCxzLG8pe3ZhciBpPXRbc107cmV0dXJuIG4obyl8fFwib2JqZWN0XCIhPXR5cGVvZiBvfHwobz1yKG8sZSkpLGUuc2V0KHQscyx0W3NdPW8saSksITB9fSl9LHM9e29wdGlvbnM6e2dsb2JhbFN0b3JlVmFyaWFibGU6ITF9LGV2ZW50czp7d2F0Y2hlcnM6e30sZXZlbnRzOnt9LG9uOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybiB2b2lkIDA9PT1uJiYobj0hMSksdGhpcy5ldmVudHNbdF18fCh0aGlzLmV2ZW50c1t0XT1bXSksdGhpcy5ldmVudHNbdF0ucHVzaCh7Y2FsbGJhY2s6ZSxvbmNlOm59KSxmdW5jdGlvbigpe3JldHVybiByLm9mZih0LGUpfX0sb25jZTpmdW5jdGlvbih0LGUpe3RoaXMub24odCxlLCEwKX0sb2ZmOmZ1bmN0aW9uKHQsZSl7dGhpcy5ldmVudHNbdF09dGhpcy5ldmVudHNbdF0uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhbGxiYWNrIT09ZSYmITAhPT10Lm9uY2V9KX0sZW1pdDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pLHRoaXMuZXZlbnRzW3RdJiZ0aGlzLmV2ZW50c1t0XS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IuY2FsbGJhY2soZSksci5vbmNlJiZuLm9mZih0LHIpfSksd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwic3BydWNlOlwiK3Qse2RldGFpbDplLGJ1YmJsZXM6ITB9KSl9LHdhdGNoOmZ1bmN0aW9uKHQsZSl7dGhpcy53YXRjaGVyc1t0XXx8KHRoaXMud2F0Y2hlcnNbdF09W10pLHRoaXMud2F0Y2hlcnNbdF0ucHVzaChlKX0scnVuV2F0Y2hlcnM6ZnVuY3Rpb24odCxlLG4scil7dmFyIHM9dGhpcztpZihzLndhdGNoZXJzW25dKXJldHVybiBzLndhdGNoZXJzW25dLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQocixlW25dKX0pO09iamVjdC5rZXlzKHMud2F0Y2hlcnMpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmNsdWRlcyhcIi5cIil9KS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBpPW8uc3BsaXQoXCIuXCIpO249PT1pW2kubGVuZ3RoLTFdJiZpLnJlZHVjZShmdW5jdGlvbih0LGkpe3JldHVybih0W25dPT09ZVtuXXx8T2JqZWN0LmlzKGUsdCkpJiZzLndhdGNoZXJzW29dLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQocixlW25dKX0pLHRbaV19LHQpfSl9fSxzdG9yZXM6e30sc3Vic2NyaWJlcnM6W10sc3RhcnQ6ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9dGhpcztyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe1wibG9hZGluZ1wiPT1kb2N1bWVudC5yZWFkeVN0YXRlP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsdCk6dCgpfSkpLnRoZW4oZnVuY3Rpb24oKXt0LmVtaXQoXCJpbml0XCIpLHQuYXR0YWNoKCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvbGlua3M6cmVuZGVyXCIsdC5hdHRhY2gpLHQuc3RvcmVzPXIodC5zdG9yZXMse3NldDpmdW5jdGlvbihlLG4scixzKXt0LmV2ZW50cy5ydW5XYXRjaGVycyh0LnN0b3JlcyxlLG4scyksdC51cGRhdGVTdWJzY3JpYmVycygpfX0pLHQub3B0aW9ucy5nbG9iYWxTdG9yZVZhcmlhYmxlJiYoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIlt4LWRhdGFdXCIpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5zdWJzY3JpYmVycy5pbmNsdWRlcyhlKXx8dC5zdWJzY3JpYmVycy5wdXNoKGUpfSksd2luZG93LiRzdG9yZT10LnN0b3Jlcyl9KX1jYXRjaCh0KXtyZXR1cm4gUHJvbWlzZS5yZWplY3QodCl9fSxhdHRhY2g6ZnVuY3Rpb24oKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW3gtc3Vic2NyaWJlXVwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc2V0QXR0cmlidXRlKFwieC1pbml0XCIsZnVuY3Rpb24odCl7dmFyIGU9XCIkc3RvcmUgPSBTcHJ1Y2Uuc3Vic2NyaWJlKCRlbClcIjtyZXR1cm4gdC5oYXNBdHRyaWJ1dGUoXCJ4LWluaXRcIikmJihlPWUrXCI7IFwiK3QuZ2V0QXR0cmlidXRlKFwieC1pbml0XCIpKSxlfSh0KSksdC5yZW1vdmVBdHRyaWJ1dGUoXCJ4LXN1YnNjcmliZVwiKX0pfSxzdG9yZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0b3Jlc1t0XXx8KHRoaXMuc3RvcmVzW3RdPWUpLHRoaXMuc3RvcmVzW3RdfSxyZXNldDpmdW5jdGlvbih0LGUpe3RoaXMuc3RvcmVzW3RdPWV9LHN1YnNjcmliZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdWJzY3JpYmVycy5wdXNoKHQpLHRoaXMuc3RvcmVzfSx1cGRhdGVTdWJzY3JpYmVyczpmdW5jdGlvbigpe3RoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2b2lkIDAhPT10Ll9feCYmdC5fX3gudXBkYXRlRWxlbWVudHModCl9KX0sY29uZmlnOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PXt9KSx0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsdCl9LG9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZXZlbnRzLm9uKHQsZSl9LG9uY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ldmVudHMub25jZSh0LGUpfSxvZmY6ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50cy5vZmYodCxlKX0sZW1pdDpmdW5jdGlvbihuLHIpe3ZvaWQgMD09PXImJihyPXt9KSx0aGlzLmV2ZW50cy5lbWl0KG4sZnVuY3Rpb24obil7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHM9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/ZShPYmplY3QocyksITApLmZvckVhY2goZnVuY3Rpb24oZSl7dChuLGUsc1tlXSl9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHMpKTplKE9iamVjdChzKSkuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkobix0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocyx0KSl9KX1yZXR1cm4gbn0oe30scix7c3RvcmU6dGhpcy5zdG9yZXN9KSl9LHdhdGNoOmZ1bmN0aW9uKHQsZSl7dGhpcy5ldmVudHMud2F0Y2godCxlKX19LG89d2luZG93LmRlZmVyTG9hZGluZ0FscGluZXx8ZnVuY3Rpb24odCl7dCgpfTt3aW5kb3cuZGVmZXJMb2FkaW5nQWxwaW5lPWZ1bmN0aW9uKHQpe3dpbmRvdy5TcHJ1Y2U9cyx3aW5kb3cuU3BydWNlLnN0YXJ0KCksbyh0KX0sbW9kdWxlLmV4cG9ydHM9cztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcnVjZS5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@ryangjchandler/spruce/dist/spruce.js\n");

/***/ }),

/***/ "./node_modules/alpinejs/dist/alpine.js":
/*!**********************************************!*\
  !*** ./node_modules/alpinejs/dist/alpine.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function (global, factory) {\n   true ? module.exports = factory() :\n  undefined;\n}(this, (function () { 'use strict';\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  // Thanks @stimulus:\n  // https://github.com/stimulusjs/stimulus/blob/master/packages/%40stimulus/core/src/application.ts\n  function domReady() {\n    return new Promise(resolve => {\n      if (document.readyState == \"loading\") {\n        document.addEventListener(\"DOMContentLoaded\", resolve);\n      } else {\n        resolve();\n      }\n    });\n  }\n  function arrayUnique(array) {\n    return Array.from(new Set(array));\n  }\n  function isTesting() {\n    return navigator.userAgent.includes(\"Node.js\") || navigator.userAgent.includes(\"jsdom\");\n  }\n  function checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB;\n  }\n  function warnIfMalformedTemplate(el, directive) {\n    if (el.tagName.toLowerCase() !== 'template') {\n      console.warn(`Alpine: [${directive}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${directive}`);\n    } else if (el.content.childElementCount !== 1) {\n      console.warn(`Alpine: <template> tag with [${directive}] encountered with multiple element roots. Make sure <template> only has a single child element.`);\n    }\n  }\n  function kebabCase(subject) {\n    return subject.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[_\\s]/, '-').toLowerCase();\n  }\n  function camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase());\n  }\n  function walk(el, callback) {\n    if (callback(el) === false) return;\n    let node = el.firstElementChild;\n\n    while (node) {\n      walk(node, callback);\n      node = node.nextElementSibling;\n    }\n  }\n  function debounce(func, wait) {\n    var timeout;\n    return function () {\n      var context = this,\n          args = arguments;\n\n      var later = function later() {\n        timeout = null;\n        func.apply(context, args);\n      };\n\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    };\n  }\n\n  const handleError = (el, expression, error) => {\n    console.warn(`Alpine Error: \"${error}\"\\n\\nExpression: \"${expression}\"\\nElement:`, el);\n\n    if (!isTesting()) {\n      throw error;\n    }\n  };\n\n  function tryCatch(cb, {\n    el,\n    expression\n  }) {\n    try {\n      const value = cb();\n      return value instanceof Promise ? value.catch(e => handleError(el, expression, e)) : value;\n    } catch (e) {\n      handleError(el, expression, e);\n    }\n  }\n\n  function saferEval(el, expression, dataContext, additionalHelperVariables = {}) {\n    return tryCatch(() => {\n      if (typeof expression === 'function') {\n        return expression.call(dataContext);\n      }\n\n      return new Function(['$data', ...Object.keys(additionalHelperVariables)], `var __alpine_result; with($data) { __alpine_result = ${expression} }; return __alpine_result`)(dataContext, ...Object.values(additionalHelperVariables));\n    }, {\n      el,\n      expression\n    });\n  }\n  function saferEvalNoReturn(el, expression, dataContext, additionalHelperVariables = {}) {\n    return tryCatch(() => {\n      if (typeof expression === 'function') {\n        return Promise.resolve(expression.call(dataContext, additionalHelperVariables['$event']));\n      }\n\n      let AsyncFunction = Function;\n      /* MODERN-ONLY:START */\n\n      AsyncFunction = Object.getPrototypeOf(async function () {}).constructor;\n      /* MODERN-ONLY:END */\n      // For the cases when users pass only a function reference to the caller: `x-on:click=\"foo\"`\n      // Where \"foo\" is a function. Also, we'll pass the function the event instance when we call it.\n\n      if (Object.keys(dataContext).includes(expression)) {\n        let methodReference = new Function(['dataContext', ...Object.keys(additionalHelperVariables)], `with(dataContext) { return ${expression} }`)(dataContext, ...Object.values(additionalHelperVariables));\n\n        if (typeof methodReference === 'function') {\n          return Promise.resolve(methodReference.call(dataContext, additionalHelperVariables['$event']));\n        } else {\n          return Promise.resolve();\n        }\n      }\n\n      return Promise.resolve(new AsyncFunction(['dataContext', ...Object.keys(additionalHelperVariables)], `with(dataContext) { ${expression} }`)(dataContext, ...Object.values(additionalHelperVariables)));\n    }, {\n      el,\n      expression\n    });\n  }\n  const xAttrRE = /^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\\b/;\n  function isXAttr(attr) {\n    const name = replaceAtAndColonWithStandardSyntax(attr.name);\n    return xAttrRE.test(name);\n  }\n  function getXAttrs(el, component, type) {\n    let directives = Array.from(el.attributes).filter(isXAttr).map(parseHtmlAttribute); // Get an object of directives from x-spread.\n\n    let spreadDirective = directives.filter(directive => directive.type === 'spread')[0];\n\n    if (spreadDirective) {\n      let spreadObject = saferEval(el, spreadDirective.expression, component.$data); // Add x-spread directives to the pile of existing directives.\n\n      directives = directives.concat(Object.entries(spreadObject).map(([name, value]) => parseHtmlAttribute({\n        name,\n        value\n      })));\n    }\n\n    if (type) return directives.filter(i => i.type === type);\n    return sortDirectives(directives);\n  }\n\n  function sortDirectives(directives) {\n    let directiveOrder = ['bind', 'model', 'show', 'catch-all'];\n    return directives.sort((a, b) => {\n      let typeA = directiveOrder.indexOf(a.type) === -1 ? 'catch-all' : a.type;\n      let typeB = directiveOrder.indexOf(b.type) === -1 ? 'catch-all' : b.type;\n      return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB);\n    });\n  }\n\n  function parseHtmlAttribute({\n    name,\n    value\n  }) {\n    const normalizedName = replaceAtAndColonWithStandardSyntax(name);\n    const typeMatch = normalizedName.match(xAttrRE);\n    const valueMatch = normalizedName.match(/:([a-zA-Z0-9\\-:]+)/);\n    const modifiers = normalizedName.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || [];\n    return {\n      type: typeMatch ? typeMatch[1] : null,\n      value: valueMatch ? valueMatch[1] : null,\n      modifiers: modifiers.map(i => i.replace('.', '')),\n      expression: value\n    };\n  }\n  function isBooleanAttr(attrName) {\n    // As per HTML spec table https://html.spec.whatwg.org/multipage/indices.html#attributes-3:boolean-attribute\n    // Array roughly ordered by estimated usage\n    const booleanAttributes = ['disabled', 'checked', 'required', 'readonly', 'hidden', 'open', 'selected', 'autofocus', 'itemscope', 'multiple', 'novalidate', 'allowfullscreen', 'allowpaymentrequest', 'formnovalidate', 'autoplay', 'controls', 'loop', 'muted', 'playsinline', 'default', 'ismap', 'reversed', 'async', 'defer', 'nomodule'];\n    return booleanAttributes.includes(attrName);\n  }\n  function replaceAtAndColonWithStandardSyntax(name) {\n    if (name.startsWith('@')) {\n      return name.replace('@', 'x-on:');\n    } else if (name.startsWith(':')) {\n      return name.replace(':', 'x-bind:');\n    }\n\n    return name;\n  }\n  function convertClassStringToArray(classList, filterFn = Boolean) {\n    return classList.split(' ').filter(filterFn);\n  }\n  const TRANSITION_TYPE_IN = 'in';\n  const TRANSITION_TYPE_OUT = 'out';\n  const TRANSITION_CANCELLED = 'cancelled';\n  function transitionIn(el, show, reject, component, forceSkip = false) {\n    // We don't want to transition on the initial page load.\n    if (forceSkip) return show();\n\n    if (el.__x_transition && el.__x_transition.type === TRANSITION_TYPE_IN) {\n      // there is already a similar transition going on, this was probably triggered by\n      // a change in a different property, let's just leave the previous one doing its job\n      return;\n    }\n\n    const attrs = getXAttrs(el, component, 'transition');\n    const showAttr = getXAttrs(el, component, 'show')[0]; // If this is triggered by a x-show.transition.\n\n    if (showAttr && showAttr.modifiers.includes('transition')) {\n      let modifiers = showAttr.modifiers; // If x-show.transition.out, we'll skip the \"in\" transition.\n\n      if (modifiers.includes('out') && !modifiers.includes('in')) return show();\n      const settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out'); // If x-show.transition.in...out... only use \"in\" related modifiers for this transition.\n\n      modifiers = settingBothSidesOfTransition ? modifiers.filter((i, index) => index < modifiers.indexOf('out')) : modifiers;\n      transitionHelperIn(el, modifiers, show, reject); // Otherwise, we can assume x-transition:enter.\n    } else if (attrs.some(attr => ['enter', 'enter-start', 'enter-end'].includes(attr.value))) {\n      transitionClassesIn(el, component, attrs, show, reject);\n    } else {\n      // If neither, just show that damn thing.\n      show();\n    }\n  }\n  function transitionOut(el, hide, reject, component, forceSkip = false) {\n    // We don't want to transition on the initial page load.\n    if (forceSkip) return hide();\n\n    if (el.__x_transition && el.__x_transition.type === TRANSITION_TYPE_OUT) {\n      // there is already a similar transition going on, this was probably triggered by\n      // a change in a different property, let's just leave the previous one doing its job\n      return;\n    }\n\n    const attrs = getXAttrs(el, component, 'transition');\n    const showAttr = getXAttrs(el, component, 'show')[0];\n\n    if (showAttr && showAttr.modifiers.includes('transition')) {\n      let modifiers = showAttr.modifiers;\n      if (modifiers.includes('in') && !modifiers.includes('out')) return hide();\n      const settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out');\n      modifiers = settingBothSidesOfTransition ? modifiers.filter((i, index) => index > modifiers.indexOf('out')) : modifiers;\n      transitionHelperOut(el, modifiers, settingBothSidesOfTransition, hide, reject);\n    } else if (attrs.some(attr => ['leave', 'leave-start', 'leave-end'].includes(attr.value))) {\n      transitionClassesOut(el, component, attrs, hide, reject);\n    } else {\n      hide();\n    }\n  }\n  function transitionHelperIn(el, modifiers, showCallback, reject) {\n    // Default values inspired by: https://material.io/design/motion/speed.html#duration\n    const styleValues = {\n      duration: modifierValue(modifiers, 'duration', 150),\n      origin: modifierValue(modifiers, 'origin', 'center'),\n      first: {\n        opacity: 0,\n        scale: modifierValue(modifiers, 'scale', 95)\n      },\n      second: {\n        opacity: 1,\n        scale: 100\n      }\n    };\n    transitionHelper(el, modifiers, showCallback, () => {}, reject, styleValues, TRANSITION_TYPE_IN);\n  }\n  function transitionHelperOut(el, modifiers, settingBothSidesOfTransition, hideCallback, reject) {\n    // Make the \"out\" transition .5x slower than the \"in\". (Visually better)\n    // HOWEVER, if they explicitly set a duration for the \"out\" transition,\n    // use that.\n    const duration = settingBothSidesOfTransition ? modifierValue(modifiers, 'duration', 150) : modifierValue(modifiers, 'duration', 150) / 2;\n    const styleValues = {\n      duration: duration,\n      origin: modifierValue(modifiers, 'origin', 'center'),\n      first: {\n        opacity: 1,\n        scale: 100\n      },\n      second: {\n        opacity: 0,\n        scale: modifierValue(modifiers, 'scale', 95)\n      }\n    };\n    transitionHelper(el, modifiers, () => {}, hideCallback, reject, styleValues, TRANSITION_TYPE_OUT);\n  }\n\n  function modifierValue(modifiers, key, fallback) {\n    // If the modifier isn't present, use the default.\n    if (modifiers.indexOf(key) === -1) return fallback; // If it IS present, grab the value after it: x-show.transition.duration.500ms\n\n    const rawValue = modifiers[modifiers.indexOf(key) + 1];\n    if (!rawValue) return fallback;\n\n    if (key === 'scale') {\n      // Check if the very next value is NOT a number and return the fallback.\n      // If x-show.transition.scale, we'll use the default scale value.\n      // That is how a user opts out of the opacity transition.\n      if (!isNumeric(rawValue)) return fallback;\n    }\n\n    if (key === 'duration') {\n      // Support x-show.transition.duration.500ms && duration.500\n      let match = rawValue.match(/([0-9]+)ms/);\n      if (match) return match[1];\n    }\n\n    if (key === 'origin') {\n      // Support chaining origin directions: x-show.transition.top.right\n      if (['top', 'right', 'left', 'center', 'bottom'].includes(modifiers[modifiers.indexOf(key) + 2])) {\n        return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(' ');\n      }\n    }\n\n    return rawValue;\n  }\n\n  function transitionHelper(el, modifiers, hook1, hook2, reject, styleValues, type) {\n    // clear the previous transition if exists to avoid caching the wrong styles\n    if (el.__x_transition) {\n      el.__x_transition.cancel && el.__x_transition.cancel();\n    } // If the user set these style values, we'll put them back when we're done with them.\n\n\n    const opacityCache = el.style.opacity;\n    const transformCache = el.style.transform;\n    const transformOriginCache = el.style.transformOrigin; // If no modifiers are present: x-show.transition, we'll default to both opacity and scale.\n\n    const noModifiers = !modifiers.includes('opacity') && !modifiers.includes('scale');\n    const transitionOpacity = noModifiers || modifiers.includes('opacity');\n    const transitionScale = noModifiers || modifiers.includes('scale'); // These are the explicit stages of a transition (same stages for in and for out).\n    // This way you can get a birds eye view of the hooks, and the differences\n    // between them.\n\n    const stages = {\n      start() {\n        if (transitionOpacity) el.style.opacity = styleValues.first.opacity;\n        if (transitionScale) el.style.transform = `scale(${styleValues.first.scale / 100})`;\n      },\n\n      during() {\n        if (transitionScale) el.style.transformOrigin = styleValues.origin;\n        el.style.transitionProperty = [transitionOpacity ? `opacity` : ``, transitionScale ? `transform` : ``].join(' ').trim();\n        el.style.transitionDuration = `${styleValues.duration / 1000}s`;\n        el.style.transitionTimingFunction = `cubic-bezier(0.4, 0.0, 0.2, 1)`;\n      },\n\n      show() {\n        hook1();\n      },\n\n      end() {\n        if (transitionOpacity) el.style.opacity = styleValues.second.opacity;\n        if (transitionScale) el.style.transform = `scale(${styleValues.second.scale / 100})`;\n      },\n\n      hide() {\n        hook2();\n      },\n\n      cleanup() {\n        if (transitionOpacity) el.style.opacity = opacityCache;\n        if (transitionScale) el.style.transform = transformCache;\n        if (transitionScale) el.style.transformOrigin = transformOriginCache;\n        el.style.transitionProperty = null;\n        el.style.transitionDuration = null;\n        el.style.transitionTimingFunction = null;\n      }\n\n    };\n    transition(el, stages, type, reject);\n  }\n\n  const ensureStringExpression = (expression, el, component) => {\n    return typeof expression === 'function' ? component.evaluateReturnExpression(el, expression) : expression;\n  };\n\n  function transitionClassesIn(el, component, directives, showCallback, reject) {\n    const enter = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter') || {\n      expression: ''\n    }).expression, el, component));\n    const enterStart = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter-start') || {\n      expression: ''\n    }).expression, el, component));\n    const enterEnd = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter-end') || {\n      expression: ''\n    }).expression, el, component));\n    transitionClasses(el, enter, enterStart, enterEnd, showCallback, () => {}, TRANSITION_TYPE_IN, reject);\n  }\n  function transitionClassesOut(el, component, directives, hideCallback, reject) {\n    const leave = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave') || {\n      expression: ''\n    }).expression, el, component));\n    const leaveStart = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave-start') || {\n      expression: ''\n    }).expression, el, component));\n    const leaveEnd = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave-end') || {\n      expression: ''\n    }).expression, el, component));\n    transitionClasses(el, leave, leaveStart, leaveEnd, () => {}, hideCallback, TRANSITION_TYPE_OUT, reject);\n  }\n  function transitionClasses(el, classesDuring, classesStart, classesEnd, hook1, hook2, type, reject) {\n    // clear the previous transition if exists to avoid caching the wrong classes\n    if (el.__x_transition) {\n      el.__x_transition.cancel && el.__x_transition.cancel();\n    }\n\n    const originalClasses = el.__x_original_classes || [];\n    const stages = {\n      start() {\n        el.classList.add(...classesStart);\n      },\n\n      during() {\n        el.classList.add(...classesDuring);\n      },\n\n      show() {\n        hook1();\n      },\n\n      end() {\n        // Don't remove classes that were in the original class attribute.\n        el.classList.remove(...classesStart.filter(i => !originalClasses.includes(i)));\n        el.classList.add(...classesEnd);\n      },\n\n      hide() {\n        hook2();\n      },\n\n      cleanup() {\n        el.classList.remove(...classesDuring.filter(i => !originalClasses.includes(i)));\n        el.classList.remove(...classesEnd.filter(i => !originalClasses.includes(i)));\n      }\n\n    };\n    transition(el, stages, type, reject);\n  }\n  function transition(el, stages, type, reject) {\n    const finish = once(() => {\n      stages.hide(); // Adding an \"isConnected\" check, in case the callback\n      // removed the element from the DOM.\n\n      if (el.isConnected) {\n        stages.cleanup();\n      }\n\n      delete el.__x_transition;\n    });\n    el.__x_transition = {\n      // Set transition type so we can avoid clearing transition if the direction is the same\n      type: type,\n      // create a callback for the last stages of the transition so we can call it\n      // from different point and early terminate it. Once will ensure that function\n      // is only called one time.\n      cancel: once(() => {\n        reject(TRANSITION_CANCELLED);\n        finish();\n      }),\n      finish,\n      // This store the next animation frame so we can cancel it\n      nextFrame: null\n    };\n    stages.start();\n    stages.during();\n    el.__x_transition.nextFrame = requestAnimationFrame(() => {\n      // Note: Safari's transitionDuration property will list out comma separated transition durations\n      // for every single transition property. Let's grab the first one and call it a day.\n      let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, '').replace('s', '')) * 1000;\n\n      if (duration === 0) {\n        duration = Number(getComputedStyle(el).animationDuration.replace('s', '')) * 1000;\n      }\n\n      stages.show();\n      el.__x_transition.nextFrame = requestAnimationFrame(() => {\n        stages.end();\n        setTimeout(el.__x_transition.finish, duration);\n      });\n    });\n  }\n  function isNumeric(subject) {\n    return !Array.isArray(subject) && !isNaN(subject);\n  } // Thanks @vuejs\n  // https://github.com/vuejs/vue/blob/4de4649d9637262a9b007720b59f80ac72a5620c/src/shared/util.js\n\n  function once(callback) {\n    let called = false;\n    return function () {\n      if (!called) {\n        called = true;\n        callback.apply(this, arguments);\n      }\n    };\n  }\n\n  function handleForDirective(component, templateEl, expression, initialUpdate, extraVars) {\n    warnIfMalformedTemplate(templateEl, 'x-for');\n    let iteratorNames = typeof expression === 'function' ? parseForExpression(component.evaluateReturnExpression(templateEl, expression)) : parseForExpression(expression);\n    let items = evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement(component, templateEl, iteratorNames, extraVars); // As we walk the array, we'll also walk the DOM (updating/creating as we go).\n\n    let currentEl = templateEl;\n    items.forEach((item, index) => {\n      let iterationScopeVariables = getIterationScopeVariables(iteratorNames, item, index, items, extraVars());\n      let currentKey = generateKeyForIteration(component, templateEl, index, iterationScopeVariables);\n      let nextEl = lookAheadForMatchingKeyedElementAndMoveItIfFound(currentEl.nextElementSibling, currentKey); // If we haven't found a matching key, insert the element at the current position.\n\n      if (!nextEl) {\n        nextEl = addElementInLoopAfterCurrentEl(templateEl, currentEl); // And transition it in if it's not the first page load.\n\n        transitionIn(nextEl, () => {}, () => {}, component, initialUpdate);\n        nextEl.__x_for = iterationScopeVariables;\n        component.initializeElements(nextEl, () => nextEl.__x_for); // Otherwise update the element we found.\n      } else {\n        // Temporarily remove the key indicator to allow the normal \"updateElements\" to work.\n        delete nextEl.__x_for_key;\n        nextEl.__x_for = iterationScopeVariables;\n        component.updateElements(nextEl, () => nextEl.__x_for);\n      }\n\n      currentEl = nextEl;\n      currentEl.__x_for_key = currentKey;\n    });\n    removeAnyLeftOverElementsFromPreviousUpdate(currentEl, component);\n  } // This was taken from VueJS 2.* core. Thanks Vue!\n\n  function parseForExpression(expression) {\n    let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/;\n    let stripParensRE = /^\\(|\\)$/g;\n    let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/;\n    let inMatch = expression.match(forAliasRE);\n    if (!inMatch) return;\n    let res = {};\n    res.items = inMatch[2].trim();\n    let item = inMatch[1].trim().replace(stripParensRE, '');\n    let iteratorMatch = item.match(forIteratorRE);\n\n    if (iteratorMatch) {\n      res.item = item.replace(forIteratorRE, '').trim();\n      res.index = iteratorMatch[1].trim();\n\n      if (iteratorMatch[2]) {\n        res.collection = iteratorMatch[2].trim();\n      }\n    } else {\n      res.item = item;\n    }\n\n    return res;\n  }\n\n  function getIterationScopeVariables(iteratorNames, item, index, items, extraVars) {\n    // We must create a new object, so each iteration has a new scope\n    let scopeVariables = extraVars ? _objectSpread2({}, extraVars) : {};\n    scopeVariables[iteratorNames.item] = item;\n    if (iteratorNames.index) scopeVariables[iteratorNames.index] = index;\n    if (iteratorNames.collection) scopeVariables[iteratorNames.collection] = items;\n    return scopeVariables;\n  }\n\n  function generateKeyForIteration(component, el, index, iterationScopeVariables) {\n    let bindKeyAttribute = getXAttrs(el, component, 'bind').filter(attr => attr.value === 'key')[0]; // If the dev hasn't specified a key, just return the index of the iteration.\n\n    if (!bindKeyAttribute) return index;\n    return component.evaluateReturnExpression(el, bindKeyAttribute.expression, () => iterationScopeVariables);\n  }\n\n  function evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement(component, el, iteratorNames, extraVars) {\n    let ifAttribute = getXAttrs(el, component, 'if')[0];\n\n    if (ifAttribute && !component.evaluateReturnExpression(el, ifAttribute.expression)) {\n      return [];\n    }\n\n    let items = component.evaluateReturnExpression(el, iteratorNames.items, extraVars); // This adds support for the `i in n` syntax.\n\n    if (isNumeric(items) && items > 0) {\n      items = Array.from(Array(items).keys(), i => i + 1);\n    }\n\n    return items;\n  }\n\n  function addElementInLoopAfterCurrentEl(templateEl, currentEl) {\n    let clone = document.importNode(templateEl.content, true);\n    currentEl.parentElement.insertBefore(clone, currentEl.nextElementSibling);\n    return currentEl.nextElementSibling;\n  }\n\n  function lookAheadForMatchingKeyedElementAndMoveItIfFound(nextEl, currentKey) {\n    if (!nextEl) return; // If we are already past the x-for generated elements, we don't need to look ahead.\n\n    if (nextEl.__x_for_key === undefined) return; // If the the key's DO match, no need to look ahead.\n\n    if (nextEl.__x_for_key === currentKey) return nextEl; // If they don't, we'll look ahead for a match.\n    // If we find it, we'll move it to the current position in the loop.\n\n    let tmpNextEl = nextEl;\n\n    while (tmpNextEl) {\n      if (tmpNextEl.__x_for_key === currentKey) {\n        return tmpNextEl.parentElement.insertBefore(tmpNextEl, nextEl);\n      }\n\n      tmpNextEl = tmpNextEl.nextElementSibling && tmpNextEl.nextElementSibling.__x_for_key !== undefined ? tmpNextEl.nextElementSibling : false;\n    }\n  }\n\n  function removeAnyLeftOverElementsFromPreviousUpdate(currentEl, component) {\n    var nextElementFromOldLoop = currentEl.nextElementSibling && currentEl.nextElementSibling.__x_for_key !== undefined ? currentEl.nextElementSibling : false;\n\n    while (nextElementFromOldLoop) {\n      let nextElementFromOldLoopImmutable = nextElementFromOldLoop;\n      let nextSibling = nextElementFromOldLoop.nextElementSibling;\n      transitionOut(nextElementFromOldLoop, () => {\n        nextElementFromOldLoopImmutable.remove();\n      }, () => {}, component);\n      nextElementFromOldLoop = nextSibling && nextSibling.__x_for_key !== undefined ? nextSibling : false;\n    }\n  }\n\n  function handleAttributeBindingDirective(component, el, attrName, expression, extraVars, attrType, modifiers) {\n    var value = component.evaluateReturnExpression(el, expression, extraVars);\n\n    if (attrName === 'value') {\n      if (Alpine.ignoreFocusedForValueBinding && document.activeElement.isSameNode(el)) return; // If nested model key is undefined, set the default value to empty string.\n\n      if (value === undefined && expression.match(/\\./)) {\n        value = '';\n      }\n\n      if (el.type === 'radio') {\n        // Set radio value from x-bind:value, if no \"value\" attribute exists.\n        // If there are any initial state values, radio will have a correct\n        // \"checked\" value since x-bind:value is processed before x-model.\n        if (el.attributes.value === undefined && attrType === 'bind') {\n          el.value = value;\n        } else if (attrType !== 'bind') {\n          el.checked = checkedAttrLooseCompare(el.value, value);\n        }\n      } else if (el.type === 'checkbox') {\n        // If we are explicitly binding a string to the :value, set the string,\n        // If the value is a boolean, leave it alone, it will be set to \"on\"\n        // automatically.\n        if (typeof value !== 'boolean' && ![null, undefined].includes(value) && attrType === 'bind') {\n          el.value = String(value);\n        } else if (attrType !== 'bind') {\n          if (Array.isArray(value)) {\n            // I'm purposely not using Array.includes here because it's\n            // strict, and because of Numeric/String mis-casting, I\n            // want the \"includes\" to be \"fuzzy\".\n            el.checked = value.some(val => checkedAttrLooseCompare(val, el.value));\n          } else {\n            el.checked = !!value;\n          }\n        }\n      } else if (el.tagName === 'SELECT') {\n        updateSelect(el, value);\n      } else {\n        if (el.value === value) return;\n        el.value = value;\n      }\n    } else if (attrName === 'class') {\n      if (Array.isArray(value)) {\n        const originalClasses = el.__x_original_classes || [];\n        el.setAttribute('class', arrayUnique(originalClasses.concat(value)).join(' '));\n      } else if (typeof value === 'object') {\n        // Sorting the keys / class names by their boolean value will ensure that\n        // anything that evaluates to `false` and needs to remove classes is run first.\n        const keysSortedByBooleanValue = Object.keys(value).sort((a, b) => value[a] - value[b]);\n        keysSortedByBooleanValue.forEach(classNames => {\n          if (value[classNames]) {\n            convertClassStringToArray(classNames).forEach(className => el.classList.add(className));\n          } else {\n            convertClassStringToArray(classNames).forEach(className => el.classList.remove(className));\n          }\n        });\n      } else {\n        const originalClasses = el.__x_original_classes || [];\n        const newClasses = value ? convertClassStringToArray(value) : [];\n        el.setAttribute('class', arrayUnique(originalClasses.concat(newClasses)).join(' '));\n      }\n    } else {\n      attrName = modifiers.includes('camel') ? camelCase(attrName) : attrName; // If an attribute's bound value is null, undefined or false, remove the attribute\n\n      if ([null, undefined, false].includes(value)) {\n        el.removeAttribute(attrName);\n      } else {\n        isBooleanAttr(attrName) ? setIfChanged(el, attrName, attrName) : setIfChanged(el, attrName, value);\n      }\n    }\n  }\n\n  function setIfChanged(el, attrName, value) {\n    if (el.getAttribute(attrName) != value) {\n      el.setAttribute(attrName, value);\n    }\n  }\n\n  function updateSelect(el, value) {\n    const arrayWrappedValue = [].concat(value).map(value => {\n      return value + '';\n    });\n    Array.from(el.options).forEach(option => {\n      option.selected = arrayWrappedValue.includes(option.value || option.text);\n    });\n  }\n\n  function handleTextDirective(el, output, expression) {\n    // If nested model key is undefined, set the default value to empty string.\n    if (output === undefined && expression.match(/\\./)) {\n      output = '';\n    }\n\n    el.textContent = output;\n  }\n\n  function handleHtmlDirective(component, el, expression, extraVars) {\n    el.innerHTML = component.evaluateReturnExpression(el, expression, extraVars);\n  }\n\n  function handleShowDirective(component, el, value, modifiers, initialUpdate = false) {\n    const hide = () => {\n      el.style.display = 'none';\n      el.__x_is_shown = false;\n    };\n\n    const show = () => {\n      if (el.style.length === 1 && el.style.display === 'none') {\n        el.removeAttribute('style');\n      } else {\n        el.style.removeProperty('display');\n      }\n\n      el.__x_is_shown = true;\n    };\n\n    if (initialUpdate === true) {\n      if (value) {\n        show();\n      } else {\n        hide();\n      }\n\n      return;\n    }\n\n    const handle = (resolve, reject) => {\n      if (value) {\n        if (el.style.display === 'none' || el.__x_transition) {\n          transitionIn(el, () => {\n            show();\n          }, reject, component);\n        }\n\n        resolve(() => {});\n      } else {\n        if (el.style.display !== 'none') {\n          transitionOut(el, () => {\n            resolve(() => {\n              hide();\n            });\n          }, reject, component);\n        } else {\n          resolve(() => {});\n        }\n      }\n    }; // The working of x-show is a bit complex because we need to\n    // wait for any child transitions to finish before hiding\n    // some element. Also, this has to be done recursively.\n    // If x-show.immediate, foregoe the waiting.\n\n\n    if (modifiers.includes('immediate')) {\n      handle(finish => finish(), () => {});\n      return;\n    } // x-show is encountered during a DOM tree walk. If an element\n    // we encounter is NOT a child of another x-show element we\n    // can execute the previous x-show stack (if one exists).\n\n\n    if (component.showDirectiveLastElement && !component.showDirectiveLastElement.contains(el)) {\n      component.executeAndClearRemainingShowDirectiveStack();\n    }\n\n    component.showDirectiveStack.push(handle);\n    component.showDirectiveLastElement = el;\n  }\n\n  function handleIfDirective(component, el, expressionResult, initialUpdate, extraVars) {\n    warnIfMalformedTemplate(el, 'x-if');\n    const elementHasAlreadyBeenAdded = el.nextElementSibling && el.nextElementSibling.__x_inserted_me === true;\n\n    if (expressionResult && (!elementHasAlreadyBeenAdded || el.__x_transition)) {\n      const clone = document.importNode(el.content, true);\n      el.parentElement.insertBefore(clone, el.nextElementSibling);\n      transitionIn(el.nextElementSibling, () => {}, () => {}, component, initialUpdate);\n      component.initializeElements(el.nextElementSibling, extraVars);\n      el.nextElementSibling.__x_inserted_me = true;\n    } else if (!expressionResult && elementHasAlreadyBeenAdded) {\n      transitionOut(el.nextElementSibling, () => {\n        el.nextElementSibling.remove();\n      }, () => {}, component, initialUpdate);\n    }\n  }\n\n  function registerListener(component, el, event, modifiers, expression, extraVars = {}) {\n    const options = {\n      passive: modifiers.includes('passive')\n    };\n\n    if (modifiers.includes('camel')) {\n      event = camelCase(event);\n    }\n\n    if (modifiers.includes('away')) {\n      let handler = e => {\n        // Don't do anything if the click came from the element or within it.\n        if (el.contains(e.target)) return; // Don't do anything if this element isn't currently visible.\n\n        if (el.offsetWidth < 1 && el.offsetHeight < 1) return; // Now that we are sure the element is visible, AND the click\n        // is from outside it, let's run the expression.\n\n        runListenerHandler(component, expression, e, extraVars);\n\n        if (modifiers.includes('once')) {\n          document.removeEventListener(event, handler, options);\n        }\n      }; // Listen for this event at the root level.\n\n\n      document.addEventListener(event, handler, options);\n    } else {\n      let listenerTarget = modifiers.includes('window') ? window : modifiers.includes('document') ? document : el;\n\n      let handler = e => {\n        // Remove this global event handler if the element that declared it\n        // has been removed. It's now stale.\n        if (listenerTarget === window || listenerTarget === document) {\n          if (!document.body.contains(el)) {\n            listenerTarget.removeEventListener(event, handler, options);\n            return;\n          }\n        }\n\n        if (isKeyEvent(event)) {\n          if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\n            return;\n          }\n        }\n\n        if (modifiers.includes('prevent')) e.preventDefault();\n        if (modifiers.includes('stop')) e.stopPropagation(); // If the .self modifier isn't present, or if it is present and\n        // the target element matches the element we are registering the\n        // event on, run the handler\n\n        if (!modifiers.includes('self') || e.target === el) {\n          const returnValue = runListenerHandler(component, expression, e, extraVars);\n          returnValue.then(value => {\n            if (value === false) {\n              e.preventDefault();\n            } else {\n              if (modifiers.includes('once')) {\n                listenerTarget.removeEventListener(event, handler, options);\n              }\n            }\n          });\n        }\n      };\n\n      if (modifiers.includes('debounce')) {\n        let nextModifier = modifiers[modifiers.indexOf('debounce') + 1] || 'invalid-wait';\n        let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250;\n        handler = debounce(handler, wait);\n      }\n\n      listenerTarget.addEventListener(event, handler, options);\n    }\n  }\n\n  function runListenerHandler(component, expression, e, extraVars) {\n    return component.evaluateCommandExpression(e.target, expression, () => {\n      return _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        '$event': e\n      });\n    });\n  }\n\n  function isKeyEvent(event) {\n    return ['keydown', 'keyup'].includes(event);\n  }\n\n  function isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\n    let keyModifiers = modifiers.filter(i => {\n      return !['window', 'document', 'prevent', 'stop'].includes(i);\n    });\n\n    if (keyModifiers.includes('debounce')) {\n      let debounceIndex = keyModifiers.indexOf('debounce');\n      keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex + 1] || 'invalid-wait').split('ms')[0]) ? 2 : 1);\n    } // If no modifier is specified, we'll call it a press.\n\n\n    if (keyModifiers.length === 0) return false; // If one is passed, AND it matches the key pressed, we'll call it a press.\n\n    if (keyModifiers.length === 1 && keyModifiers[0] === keyToModifier(e.key)) return false; // The user is listening for key combinations.\n\n    const systemKeyModifiers = ['ctrl', 'shift', 'alt', 'meta', 'cmd', 'super'];\n    const selectedSystemKeyModifiers = systemKeyModifiers.filter(modifier => keyModifiers.includes(modifier));\n    keyModifiers = keyModifiers.filter(i => !selectedSystemKeyModifiers.includes(i));\n\n    if (selectedSystemKeyModifiers.length > 0) {\n      const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter(modifier => {\n        // Alias \"cmd\" and \"super\" to \"meta\"\n        if (modifier === 'cmd' || modifier === 'super') modifier = 'meta';\n        return e[`${modifier}Key`];\n      }); // If all the modifiers selected are pressed, ...\n\n      if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\n        // AND the remaining key is pressed as well. It's a press.\n        if (keyModifiers[0] === keyToModifier(e.key)) return false;\n      }\n    } // We'll call it NOT a valid keypress.\n\n\n    return true;\n  }\n\n  function keyToModifier(key) {\n    switch (key) {\n      case '/':\n        return 'slash';\n\n      case ' ':\n      case 'Spacebar':\n        return 'space';\n\n      default:\n        return key && kebabCase(key);\n    }\n  }\n\n  function registerModelListener(component, el, modifiers, expression, extraVars) {\n    // If the element we are binding to is a select, a radio, or checkbox\n    // we'll listen for the change event instead of the \"input\" event.\n    var event = el.tagName.toLowerCase() === 'select' || ['checkbox', 'radio'].includes(el.type) || modifiers.includes('lazy') ? 'change' : 'input';\n    const listenerExpression = `${expression} = rightSideOfExpression($event, ${expression})`;\n    registerListener(component, el, event, modifiers, listenerExpression, () => {\n      return _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        rightSideOfExpression: generateModelAssignmentFunction(el, modifiers, expression)\n      });\n    });\n  }\n\n  function generateModelAssignmentFunction(el, modifiers, expression) {\n    if (el.type === 'radio') {\n      // Radio buttons only work properly when they share a name attribute.\n      // People might assume we take care of that for them, because\n      // they already set a shared \"x-model\" attribute.\n      if (!el.hasAttribute('name')) el.setAttribute('name', expression);\n    }\n\n    return (event, currentValue) => {\n      // Check for event.detail due to an issue where IE11 handles other events as a CustomEvent.\n      if (event instanceof CustomEvent && event.detail) {\n        return event.detail;\n      } else if (el.type === 'checkbox') {\n        // If the data we are binding to is an array, toggle its value inside the array.\n        if (Array.isArray(currentValue)) {\n          const newValue = modifiers.includes('number') ? safeParseNumber(event.target.value) : event.target.value;\n          return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter(el => !checkedAttrLooseCompare(el, newValue));\n        } else {\n          return event.target.checked;\n        }\n      } else if (el.tagName.toLowerCase() === 'select' && el.multiple) {\n        return modifiers.includes('number') ? Array.from(event.target.selectedOptions).map(option => {\n          const rawValue = option.value || option.text;\n          return safeParseNumber(rawValue);\n        }) : Array.from(event.target.selectedOptions).map(option => {\n          return option.value || option.text;\n        });\n      } else {\n        const rawValue = event.target.value;\n        return modifiers.includes('number') ? safeParseNumber(rawValue) : modifiers.includes('trim') ? rawValue.trim() : rawValue;\n      }\n    };\n  }\n\n  function safeParseNumber(rawValue) {\n    const number = rawValue ? parseFloat(rawValue) : null;\n    return isNumeric(number) ? number : rawValue;\n  }\n\n  /**\n   * Copyright (C) 2017 salesforce.com, inc.\n   */\n  const { isArray } = Array;\n  const { getPrototypeOf, create: ObjectCreate, defineProperty: ObjectDefineProperty, defineProperties: ObjectDefineProperties, isExtensible, getOwnPropertyDescriptor, getOwnPropertyNames, getOwnPropertySymbols, preventExtensions, hasOwnProperty, } = Object;\n  const { push: ArrayPush, concat: ArrayConcat, map: ArrayMap, } = Array.prototype;\n  function isUndefined(obj) {\n      return obj === undefined;\n  }\n  function isFunction(obj) {\n      return typeof obj === 'function';\n  }\n  function isObject(obj) {\n      return typeof obj === 'object';\n  }\n  const proxyToValueMap = new WeakMap();\n  function registerProxy(proxy, value) {\n      proxyToValueMap.set(proxy, value);\n  }\n  const unwrap = (replicaOrAny) => proxyToValueMap.get(replicaOrAny) || replicaOrAny;\n\n  function wrapValue(membrane, value) {\n      return membrane.valueIsObservable(value) ? membrane.getProxy(value) : value;\n  }\n  /**\n   * Unwrap property descriptors will set value on original descriptor\n   * We only need to unwrap if value is specified\n   * @param descriptor external descrpitor provided to define new property on original value\n   */\n  function unwrapDescriptor(descriptor) {\n      if (hasOwnProperty.call(descriptor, 'value')) {\n          descriptor.value = unwrap(descriptor.value);\n      }\n      return descriptor;\n  }\n  function lockShadowTarget(membrane, shadowTarget, originalTarget) {\n      const targetKeys = ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      targetKeys.forEach((key) => {\n          let descriptor = getOwnPropertyDescriptor(originalTarget, key);\n          // We do not need to wrap the descriptor if configurable\n          // Because we can deal with wrapping it when user goes through\n          // Get own property descriptor. There is also a chance that this descriptor\n          // could change sometime in the future, so we can defer wrapping\n          // until we need to\n          if (!descriptor.configurable) {\n              descriptor = wrapDescriptor(membrane, descriptor, wrapValue);\n          }\n          ObjectDefineProperty(shadowTarget, key, descriptor);\n      });\n      preventExtensions(shadowTarget);\n  }\n  class ReactiveProxyHandler {\n      constructor(membrane, value) {\n          this.originalTarget = value;\n          this.membrane = membrane;\n      }\n      get(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const value = originalTarget[key];\n          const { valueObserved } = membrane;\n          valueObserved(originalTarget, key);\n          return membrane.getProxy(value);\n      }\n      set(shadowTarget, key, value) {\n          const { originalTarget, membrane: { valueMutated } } = this;\n          const oldValue = originalTarget[key];\n          if (oldValue !== value) {\n              originalTarget[key] = value;\n              valueMutated(originalTarget, key);\n          }\n          else if (key === 'length' && isArray(originalTarget)) {\n              // fix for issue #236: push will add the new index, and by the time length\n              // is updated, the internal length is already equal to the new length value\n              // therefore, the oldValue is equal to the value. This is the forking logic\n              // to support this use case.\n              valueMutated(originalTarget, key);\n          }\n          return true;\n      }\n      deleteProperty(shadowTarget, key) {\n          const { originalTarget, membrane: { valueMutated } } = this;\n          delete originalTarget[key];\n          valueMutated(originalTarget, key);\n          return true;\n      }\n      apply(shadowTarget, thisArg, argArray) {\n          /* No op */\n      }\n      construct(target, argArray, newTarget) {\n          /* No op */\n      }\n      has(shadowTarget, key) {\n          const { originalTarget, membrane: { valueObserved } } = this;\n          valueObserved(originalTarget, key);\n          return key in originalTarget;\n      }\n      ownKeys(shadowTarget) {\n          const { originalTarget } = this;\n          return ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      }\n      isExtensible(shadowTarget) {\n          const shadowIsExtensible = isExtensible(shadowTarget);\n          if (!shadowIsExtensible) {\n              return shadowIsExtensible;\n          }\n          const { originalTarget, membrane } = this;\n          const targetIsExtensible = isExtensible(originalTarget);\n          if (!targetIsExtensible) {\n              lockShadowTarget(membrane, shadowTarget, originalTarget);\n          }\n          return targetIsExtensible;\n      }\n      setPrototypeOf(shadowTarget, prototype) {\n      }\n      getPrototypeOf(shadowTarget) {\n          const { originalTarget } = this;\n          return getPrototypeOf(originalTarget);\n      }\n      getOwnPropertyDescriptor(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const { valueObserved } = this.membrane;\n          // keys looked up via hasOwnProperty need to be reactive\n          valueObserved(originalTarget, key);\n          let desc = getOwnPropertyDescriptor(originalTarget, key);\n          if (isUndefined(desc)) {\n              return desc;\n          }\n          const shadowDescriptor = getOwnPropertyDescriptor(shadowTarget, key);\n          if (!isUndefined(shadowDescriptor)) {\n              return shadowDescriptor;\n          }\n          // Note: by accessing the descriptor, the key is marked as observed\n          // but access to the value, setter or getter (if available) cannot observe\n          // mutations, just like regular methods, in which case we just do nothing.\n          desc = wrapDescriptor(membrane, desc, wrapValue);\n          if (!desc.configurable) {\n              // If descriptor from original target is not configurable,\n              // We must copy the wrapped descriptor over to the shadow target.\n              // Otherwise, proxy will throw an invariant error.\n              // This is our last chance to lock the value.\n              // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor#Invariants\n              ObjectDefineProperty(shadowTarget, key, desc);\n          }\n          return desc;\n      }\n      preventExtensions(shadowTarget) {\n          const { originalTarget, membrane } = this;\n          lockShadowTarget(membrane, shadowTarget, originalTarget);\n          preventExtensions(originalTarget);\n          return true;\n      }\n      defineProperty(shadowTarget, key, descriptor) {\n          const { originalTarget, membrane } = this;\n          const { valueMutated } = membrane;\n          const { configurable } = descriptor;\n          // We have to check for value in descriptor\n          // because Object.freeze(proxy) calls this method\n          // with only { configurable: false, writeable: false }\n          // Additionally, method will only be called with writeable:false\n          // if the descriptor has a value, as opposed to getter/setter\n          // So we can just check if writable is present and then see if\n          // value is present. This eliminates getter and setter descriptors\n          if (hasOwnProperty.call(descriptor, 'writable') && !hasOwnProperty.call(descriptor, 'value')) {\n              const originalDescriptor = getOwnPropertyDescriptor(originalTarget, key);\n              descriptor.value = originalDescriptor.value;\n          }\n          ObjectDefineProperty(originalTarget, key, unwrapDescriptor(descriptor));\n          if (configurable === false) {\n              ObjectDefineProperty(shadowTarget, key, wrapDescriptor(membrane, descriptor, wrapValue));\n          }\n          valueMutated(originalTarget, key);\n          return true;\n      }\n  }\n\n  function wrapReadOnlyValue(membrane, value) {\n      return membrane.valueIsObservable(value) ? membrane.getReadOnlyProxy(value) : value;\n  }\n  class ReadOnlyHandler {\n      constructor(membrane, value) {\n          this.originalTarget = value;\n          this.membrane = membrane;\n      }\n      get(shadowTarget, key) {\n          const { membrane, originalTarget } = this;\n          const value = originalTarget[key];\n          const { valueObserved } = membrane;\n          valueObserved(originalTarget, key);\n          return membrane.getReadOnlyProxy(value);\n      }\n      set(shadowTarget, key, value) {\n          return false;\n      }\n      deleteProperty(shadowTarget, key) {\n          return false;\n      }\n      apply(shadowTarget, thisArg, argArray) {\n          /* No op */\n      }\n      construct(target, argArray, newTarget) {\n          /* No op */\n      }\n      has(shadowTarget, key) {\n          const { originalTarget, membrane: { valueObserved } } = this;\n          valueObserved(originalTarget, key);\n          return key in originalTarget;\n      }\n      ownKeys(shadowTarget) {\n          const { originalTarget } = this;\n          return ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      }\n      setPrototypeOf(shadowTarget, prototype) {\n      }\n      getOwnPropertyDescriptor(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const { valueObserved } = membrane;\n          // keys looked up via hasOwnProperty need to be reactive\n          valueObserved(originalTarget, key);\n          let desc = getOwnPropertyDescriptor(originalTarget, key);\n          if (isUndefined(desc)) {\n              return desc;\n          }\n          const shadowDescriptor = getOwnPropertyDescriptor(shadowTarget, key);\n          if (!isUndefined(shadowDescriptor)) {\n              return shadowDescriptor;\n          }\n          // Note: by accessing the descriptor, the key is marked as observed\n          // but access to the value or getter (if available) cannot be observed,\n          // just like regular methods, in which case we just do nothing.\n          desc = wrapDescriptor(membrane, desc, wrapReadOnlyValue);\n          if (hasOwnProperty.call(desc, 'set')) {\n              desc.set = undefined; // readOnly membrane does not allow setters\n          }\n          if (!desc.configurable) {\n              // If descriptor from original target is not configurable,\n              // We must copy the wrapped descriptor over to the shadow target.\n              // Otherwise, proxy will throw an invariant error.\n              // This is our last chance to lock the value.\n              // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor#Invariants\n              ObjectDefineProperty(shadowTarget, key, desc);\n          }\n          return desc;\n      }\n      preventExtensions(shadowTarget) {\n          return false;\n      }\n      defineProperty(shadowTarget, key, descriptor) {\n          return false;\n      }\n  }\n  function createShadowTarget(value) {\n      let shadowTarget = undefined;\n      if (isArray(value)) {\n          shadowTarget = [];\n      }\n      else if (isObject(value)) {\n          shadowTarget = {};\n      }\n      return shadowTarget;\n  }\n  const ObjectDotPrototype = Object.prototype;\n  function defaultValueIsObservable(value) {\n      // intentionally checking for null\n      if (value === null) {\n          return false;\n      }\n      // treat all non-object types, including undefined, as non-observable values\n      if (typeof value !== 'object') {\n          return false;\n      }\n      if (isArray(value)) {\n          return true;\n      }\n      const proto = getPrototypeOf(value);\n      return (proto === ObjectDotPrototype || proto === null || getPrototypeOf(proto) === null);\n  }\n  const defaultValueObserved = (obj, key) => {\n      /* do nothing */\n  };\n  const defaultValueMutated = (obj, key) => {\n      /* do nothing */\n  };\n  const defaultValueDistortion = (value) => value;\n  function wrapDescriptor(membrane, descriptor, getValue) {\n      const { set, get } = descriptor;\n      if (hasOwnProperty.call(descriptor, 'value')) {\n          descriptor.value = getValue(membrane, descriptor.value);\n      }\n      else {\n          if (!isUndefined(get)) {\n              descriptor.get = function () {\n                  // invoking the original getter with the original target\n                  return getValue(membrane, get.call(unwrap(this)));\n              };\n          }\n          if (!isUndefined(set)) {\n              descriptor.set = function (value) {\n                  // At this point we don't have a clear indication of whether\n                  // or not a valid mutation will occur, we don't have the key,\n                  // and we are not sure why and how they are invoking this setter.\n                  // Nevertheless we preserve the original semantics by invoking the\n                  // original setter with the original target and the unwrapped value\n                  set.call(unwrap(this), membrane.unwrapProxy(value));\n              };\n          }\n      }\n      return descriptor;\n  }\n  class ReactiveMembrane {\n      constructor(options) {\n          this.valueDistortion = defaultValueDistortion;\n          this.valueMutated = defaultValueMutated;\n          this.valueObserved = defaultValueObserved;\n          this.valueIsObservable = defaultValueIsObservable;\n          this.objectGraph = new WeakMap();\n          if (!isUndefined(options)) {\n              const { valueDistortion, valueMutated, valueObserved, valueIsObservable } = options;\n              this.valueDistortion = isFunction(valueDistortion) ? valueDistortion : defaultValueDistortion;\n              this.valueMutated = isFunction(valueMutated) ? valueMutated : defaultValueMutated;\n              this.valueObserved = isFunction(valueObserved) ? valueObserved : defaultValueObserved;\n              this.valueIsObservable = isFunction(valueIsObservable) ? valueIsObservable : defaultValueIsObservable;\n          }\n      }\n      getProxy(value) {\n          const unwrappedValue = unwrap(value);\n          const distorted = this.valueDistortion(unwrappedValue);\n          if (this.valueIsObservable(distorted)) {\n              const o = this.getReactiveState(unwrappedValue, distorted);\n              // when trying to extract the writable version of a readonly\n              // we return the readonly.\n              return o.readOnly === value ? value : o.reactive;\n          }\n          return distorted;\n      }\n      getReadOnlyProxy(value) {\n          value = unwrap(value);\n          const distorted = this.valueDistortion(value);\n          if (this.valueIsObservable(distorted)) {\n              return this.getReactiveState(value, distorted).readOnly;\n          }\n          return distorted;\n      }\n      unwrapProxy(p) {\n          return unwrap(p);\n      }\n      getReactiveState(value, distortedValue) {\n          const { objectGraph, } = this;\n          let reactiveState = objectGraph.get(distortedValue);\n          if (reactiveState) {\n              return reactiveState;\n          }\n          const membrane = this;\n          reactiveState = {\n              get reactive() {\n                  const reactiveHandler = new ReactiveProxyHandler(membrane, distortedValue);\n                  // caching the reactive proxy after the first time it is accessed\n                  const proxy = new Proxy(createShadowTarget(distortedValue), reactiveHandler);\n                  registerProxy(proxy, value);\n                  ObjectDefineProperty(this, 'reactive', { value: proxy });\n                  return proxy;\n              },\n              get readOnly() {\n                  const readOnlyHandler = new ReadOnlyHandler(membrane, distortedValue);\n                  // caching the readOnly proxy after the first time it is accessed\n                  const proxy = new Proxy(createShadowTarget(distortedValue), readOnlyHandler);\n                  registerProxy(proxy, value);\n                  ObjectDefineProperty(this, 'readOnly', { value: proxy });\n                  return proxy;\n              }\n          };\n          objectGraph.set(distortedValue, reactiveState);\n          return reactiveState;\n      }\n  }\n  /** version: 0.26.0 */\n\n  function wrap(data, mutationCallback) {\n\n    let membrane = new ReactiveMembrane({\n      valueMutated(target, key) {\n        mutationCallback(target, key);\n      }\n\n    });\n    return {\n      data: membrane.getProxy(data),\n      membrane: membrane\n    };\n  }\n  function unwrap$1(membrane, observable) {\n    let unwrappedData = membrane.unwrapProxy(observable);\n    let copy = {};\n    Object.keys(unwrappedData).forEach(key => {\n      if (['$el', '$refs', '$nextTick', '$watch'].includes(key)) return;\n      copy[key] = unwrappedData[key];\n    });\n    return copy;\n  }\n\n  class Component {\n    constructor(el, componentForClone = null) {\n      this.$el = el;\n      const dataAttr = this.$el.getAttribute('x-data');\n      const dataExpression = dataAttr === '' ? '{}' : dataAttr;\n      const initExpression = this.$el.getAttribute('x-init');\n      let dataExtras = {\n        $el: this.$el\n      };\n      let canonicalComponentElementReference = componentForClone ? componentForClone.$el : this.$el;\n      Object.entries(Alpine.magicProperties).forEach(([name, callback]) => {\n        Object.defineProperty(dataExtras, `$${name}`, {\n          get: function get() {\n            return callback(canonicalComponentElementReference);\n          }\n        });\n      });\n      this.unobservedData = componentForClone ? componentForClone.getUnobservedData() : saferEval(el, dataExpression, dataExtras);\n      // Construct a Proxy-based observable. This will be used to handle reactivity.\n\n      let {\n        membrane,\n        data\n      } = this.wrapDataInObservable(this.unobservedData);\n      this.$data = data;\n      this.membrane = membrane; // After making user-supplied data methods reactive, we can now add\n      // our magic properties to the original data for access.\n\n      this.unobservedData.$el = this.$el;\n      this.unobservedData.$refs = this.getRefsProxy();\n      this.nextTickStack = [];\n\n      this.unobservedData.$nextTick = callback => {\n        this.nextTickStack.push(callback);\n      };\n\n      this.watchers = {};\n\n      this.unobservedData.$watch = (property, callback) => {\n        if (!this.watchers[property]) this.watchers[property] = [];\n        this.watchers[property].push(callback);\n      };\n      /* MODERN-ONLY:START */\n      // We remove this piece of code from the legacy build.\n      // In IE11, we have already defined our helpers at this point.\n      // Register custom magic properties.\n\n\n      Object.entries(Alpine.magicProperties).forEach(([name, callback]) => {\n        Object.defineProperty(this.unobservedData, `$${name}`, {\n          get: function get() {\n            return callback(canonicalComponentElementReference, this.$el);\n          }\n        });\n      });\n      /* MODERN-ONLY:END */\n\n      this.showDirectiveStack = [];\n      this.showDirectiveLastElement;\n      componentForClone || Alpine.onBeforeComponentInitializeds.forEach(callback => callback(this));\n      var initReturnedCallback; // If x-init is present AND we aren't cloning (skip x-init on clone)\n\n      if (initExpression && !componentForClone) {\n        // We want to allow data manipulation, but not trigger DOM updates just yet.\n        // We haven't even initialized the elements with their Alpine bindings. I mean c'mon.\n        this.pauseReactivity = true;\n        initReturnedCallback = this.evaluateReturnExpression(this.$el, initExpression);\n        this.pauseReactivity = false;\n      } // Register all our listeners and set all our attribute bindings.\n\n\n      this.initializeElements(this.$el); // Use mutation observer to detect new elements being added within this component at run-time.\n      // Alpine's just so darn flexible amirite?\n\n      this.listenForNewElementsToInitialize();\n\n      if (typeof initReturnedCallback === 'function') {\n        // Run the callback returned from the \"x-init\" hook to allow the user to do stuff after\n        // Alpine's got it's grubby little paws all over everything.\n        initReturnedCallback.call(this.$data);\n      }\n\n      componentForClone || setTimeout(() => {\n        Alpine.onComponentInitializeds.forEach(callback => callback(this));\n      }, 0);\n    }\n\n    getUnobservedData() {\n      return unwrap$1(this.membrane, this.$data);\n    }\n\n    wrapDataInObservable(data) {\n      var self = this;\n      let updateDom = debounce(function () {\n        self.updateElements(self.$el);\n      }, 0);\n      return wrap(data, (target, key) => {\n        if (self.watchers[key]) {\n          // If there's a watcher for this specific key, run it.\n          self.watchers[key].forEach(callback => callback(target[key]));\n        } else if (Array.isArray(target)) {\n          // Arrays are special cases, if any of the items change, we consider the array as mutated.\n          Object.keys(self.watchers).forEach(fullDotNotationKey => {\n            let dotNotationParts = fullDotNotationKey.split('.'); // Ignore length mutations since they would result in duplicate calls.\n            // For example, when calling push, we would get a mutation for the item's key\n            // and a second mutation for the length property.\n\n            if (key === 'length') return;\n            dotNotationParts.reduce((comparisonData, part) => {\n              if (Object.is(target, comparisonData[part])) {\n                self.watchers[fullDotNotationKey].forEach(callback => callback(target));\n              }\n\n              return comparisonData[part];\n            }, self.unobservedData);\n          });\n        } else {\n          // Let's walk through the watchers with \"dot-notation\" (foo.bar) and see\n          // if this mutation fits any of them.\n          Object.keys(self.watchers).filter(i => i.includes('.')).forEach(fullDotNotationKey => {\n            let dotNotationParts = fullDotNotationKey.split('.'); // If this dot-notation watcher's last \"part\" doesn't match the current\n            // key, then skip it early for performance reasons.\n\n            if (key !== dotNotationParts[dotNotationParts.length - 1]) return; // Now, walk through the dot-notation \"parts\" recursively to find\n            // a match, and call the watcher if one's found.\n\n            dotNotationParts.reduce((comparisonData, part) => {\n              if (Object.is(target, comparisonData)) {\n                // Run the watchers.\n                self.watchers[fullDotNotationKey].forEach(callback => callback(target[key]));\n              }\n\n              return comparisonData[part];\n            }, self.unobservedData);\n          });\n        } // Don't react to data changes for cases like the `x-created` hook.\n\n\n        if (self.pauseReactivity) return;\n        updateDom();\n      });\n    }\n\n    walkAndSkipNestedComponents(el, callback, initializeComponentCallback = () => {}) {\n      walk(el, el => {\n        // We've hit a component.\n        if (el.hasAttribute('x-data')) {\n          // If it's not the current one.\n          if (!el.isSameNode(this.$el)) {\n            // Initialize it if it's not.\n            if (!el.__x) initializeComponentCallback(el); // Now we'll let that sub-component deal with itself.\n\n            return false;\n          }\n        }\n\n        return callback(el);\n      });\n    }\n\n    initializeElements(rootEl, extraVars = () => {}) {\n      this.walkAndSkipNestedComponents(rootEl, el => {\n        // Don't touch spawns from for loop\n        if (el.__x_for_key !== undefined) return false; // Don't touch spawns from if directives\n\n        if (el.__x_inserted_me !== undefined) return false;\n        this.initializeElement(el, extraVars);\n      }, el => {\n        el.__x = new Component(el);\n      });\n      this.executeAndClearRemainingShowDirectiveStack();\n      this.executeAndClearNextTickStack(rootEl);\n    }\n\n    initializeElement(el, extraVars) {\n      // To support class attribute merging, we have to know what the element's\n      // original class attribute looked like for reference.\n      if (el.hasAttribute('class') && getXAttrs(el, this).length > 0) {\n        el.__x_original_classes = convertClassStringToArray(el.getAttribute('class'));\n      }\n\n      this.registerListeners(el, extraVars);\n      this.resolveBoundAttributes(el, true, extraVars);\n    }\n\n    updateElements(rootEl, extraVars = () => {}) {\n      this.walkAndSkipNestedComponents(rootEl, el => {\n        // Don't touch spawns from for loop (and check if the root is actually a for loop in a parent, don't skip it.)\n        if (el.__x_for_key !== undefined && !el.isSameNode(this.$el)) return false;\n        this.updateElement(el, extraVars);\n      }, el => {\n        el.__x = new Component(el);\n      });\n      this.executeAndClearRemainingShowDirectiveStack();\n      this.executeAndClearNextTickStack(rootEl);\n    }\n\n    executeAndClearNextTickStack(el) {\n      // Skip spawns from alpine directives\n      if (el === this.$el && this.nextTickStack.length > 0) {\n        // We run the tick stack after the next frame to allow any\n        // running transitions to pass the initial show stage.\n        requestAnimationFrame(() => {\n          while (this.nextTickStack.length > 0) {\n            this.nextTickStack.shift()();\n          }\n        });\n      }\n    }\n\n    executeAndClearRemainingShowDirectiveStack() {\n      // The goal here is to start all the x-show transitions\n      // and build a nested promise chain so that elements\n      // only hide when the children are finished hiding.\n      this.showDirectiveStack.reverse().map(handler => {\n        return new Promise((resolve, reject) => {\n          handler(resolve, reject);\n        });\n      }).reduce((promiseChain, promise) => {\n        return promiseChain.then(() => {\n          return promise.then(finishElement => {\n            finishElement();\n          });\n        });\n      }, Promise.resolve(() => {})).catch(e => {\n        if (e !== TRANSITION_CANCELLED) throw e;\n      }); // We've processed the handler stack. let's clear it.\n\n      this.showDirectiveStack = [];\n      this.showDirectiveLastElement = undefined;\n    }\n\n    updateElement(el, extraVars) {\n      this.resolveBoundAttributes(el, false, extraVars);\n    }\n\n    registerListeners(el, extraVars) {\n      getXAttrs(el, this).forEach(({\n        type,\n        value,\n        modifiers,\n        expression\n      }) => {\n        switch (type) {\n          case 'on':\n            registerListener(this, el, value, modifiers, expression, extraVars);\n            break;\n\n          case 'model':\n            registerModelListener(this, el, modifiers, expression, extraVars);\n            break;\n        }\n      });\n    }\n\n    resolveBoundAttributes(el, initialUpdate = false, extraVars) {\n      let attrs = getXAttrs(el, this);\n      attrs.forEach(({\n        type,\n        value,\n        modifiers,\n        expression\n      }) => {\n        switch (type) {\n          case 'model':\n            handleAttributeBindingDirective(this, el, 'value', expression, extraVars, type, modifiers);\n            break;\n\n          case 'bind':\n            // The :key binding on an x-for is special, ignore it.\n            if (el.tagName.toLowerCase() === 'template' && value === 'key') return;\n            handleAttributeBindingDirective(this, el, value, expression, extraVars, type, modifiers);\n            break;\n\n          case 'text':\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleTextDirective(el, output, expression);\n            break;\n\n          case 'html':\n            handleHtmlDirective(this, el, expression, extraVars);\n            break;\n\n          case 'show':\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleShowDirective(this, el, output, modifiers, initialUpdate);\n            break;\n\n          case 'if':\n            // If this element also has x-for on it, don't process x-if.\n            // We will let the \"x-for\" directive handle the \"if\"ing.\n            if (attrs.some(i => i.type === 'for')) return;\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleIfDirective(this, el, output, initialUpdate, extraVars);\n            break;\n\n          case 'for':\n            handleForDirective(this, el, expression, initialUpdate, extraVars);\n            break;\n\n          case 'cloak':\n            el.removeAttribute('x-cloak');\n            break;\n        }\n      });\n    }\n\n    evaluateReturnExpression(el, expression, extraVars = () => {}) {\n      return saferEval(el, expression, this.$data, _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        $dispatch: this.getDispatchFunction(el)\n      }));\n    }\n\n    evaluateCommandExpression(el, expression, extraVars = () => {}) {\n      return saferEvalNoReturn(el, expression, this.$data, _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        $dispatch: this.getDispatchFunction(el)\n      }));\n    }\n\n    getDispatchFunction(el) {\n      return (event, detail = {}) => {\n        el.dispatchEvent(new CustomEvent(event, {\n          detail,\n          bubbles: true\n        }));\n      };\n    }\n\n    listenForNewElementsToInitialize() {\n      const targetNode = this.$el;\n      const observerOptions = {\n        childList: true,\n        attributes: true,\n        subtree: true\n      };\n      const observer = new MutationObserver(mutations => {\n        for (let i = 0; i < mutations.length; i++) {\n          // Filter out mutations triggered from child components.\n          const closestParentComponent = mutations[i].target.closest('[x-data]');\n          if (!(closestParentComponent && closestParentComponent.isSameNode(this.$el))) continue;\n\n          if (mutations[i].type === 'attributes' && mutations[i].attributeName === 'x-data') {\n            const xAttr = mutations[i].target.getAttribute('x-data') || '{}';\n            const rawData = saferEval(this.$el, xAttr, {\n              $el: this.$el\n            });\n            Object.keys(rawData).forEach(key => {\n              if (this.$data[key] !== rawData[key]) {\n                this.$data[key] = rawData[key];\n              }\n            });\n          }\n\n          if (mutations[i].addedNodes.length > 0) {\n            mutations[i].addedNodes.forEach(node => {\n              if (node.nodeType !== 1 || node.__x_inserted_me) return;\n\n              if (node.matches('[x-data]') && !node.__x) {\n                node.__x = new Component(node);\n                return;\n              }\n\n              this.initializeElements(node);\n            });\n          }\n        }\n      });\n      observer.observe(targetNode, observerOptions);\n    }\n\n    getRefsProxy() {\n      var self = this;\n      var refObj = {};\n      // One of the goals of this is to not hold elements in memory, but rather re-evaluate\n      // the DOM when the system needs something from it. This way, the framework is flexible and\n      // friendly to outside DOM changes from libraries like Vue/Livewire.\n      // For this reason, I'm using an \"on-demand\" proxy to fake a \"$refs\" object.\n\n      return new Proxy(refObj, {\n        get(object, property) {\n          if (property === '$isAlpineProxy') return true;\n          var ref; // We can't just query the DOM because it's hard to filter out refs in\n          // nested components.\n\n          self.walkAndSkipNestedComponents(self.$el, el => {\n            if (el.hasAttribute('x-ref') && el.getAttribute('x-ref') === property) {\n              ref = el;\n            }\n          });\n          return ref;\n        }\n\n      });\n    }\n\n  }\n\n  const Alpine = {\n    version: \"2.8.0\",\n    pauseMutationObserver: false,\n    magicProperties: {},\n    onComponentInitializeds: [],\n    onBeforeComponentInitializeds: [],\n    ignoreFocusedForValueBinding: false,\n    start: async function start() {\n      if (!isTesting()) {\n        await domReady();\n      }\n\n      this.discoverComponents(el => {\n        this.initializeComponent(el);\n      }); // It's easier and more performant to just support Turbolinks than listen\n      // to MutationObserver mutations at the document level.\n\n      document.addEventListener(\"turbolinks:load\", () => {\n        this.discoverUninitializedComponents(el => {\n          this.initializeComponent(el);\n        });\n      });\n      this.listenForNewUninitializedComponentsAtRunTime();\n    },\n    discoverComponents: function discoverComponents(callback) {\n      const rootEls = document.querySelectorAll('[x-data]');\n      rootEls.forEach(rootEl => {\n        callback(rootEl);\n      });\n    },\n    discoverUninitializedComponents: function discoverUninitializedComponents(callback, el = null) {\n      const rootEls = (el || document).querySelectorAll('[x-data]');\n      Array.from(rootEls).filter(el => el.__x === undefined).forEach(rootEl => {\n        callback(rootEl);\n      });\n    },\n    listenForNewUninitializedComponentsAtRunTime: function listenForNewUninitializedComponentsAtRunTime() {\n      const targetNode = document.querySelector('body');\n      const observerOptions = {\n        childList: true,\n        attributes: true,\n        subtree: true\n      };\n      const observer = new MutationObserver(mutations => {\n        if (this.pauseMutationObserver) return;\n\n        for (let i = 0; i < mutations.length; i++) {\n          if (mutations[i].addedNodes.length > 0) {\n            mutations[i].addedNodes.forEach(node => {\n              // Discard non-element nodes (like line-breaks)\n              if (node.nodeType !== 1) return; // Discard any changes happening within an existing component.\n              // They will take care of themselves.\n\n              if (node.parentElement && node.parentElement.closest('[x-data]')) return;\n              this.discoverUninitializedComponents(el => {\n                this.initializeComponent(el);\n              }, node.parentElement);\n            });\n          }\n        }\n      });\n      observer.observe(targetNode, observerOptions);\n    },\n    initializeComponent: function initializeComponent(el) {\n      if (!el.__x) {\n        // Wrap in a try/catch so that we don't prevent other components\n        // from initializing when one component contains an error.\n        try {\n          el.__x = new Component(el);\n        } catch (error) {\n          setTimeout(() => {\n            throw error;\n          }, 0);\n        }\n      }\n    },\n    clone: function clone(component, newEl) {\n      if (!newEl.__x) {\n        newEl.__x = new Component(newEl, component);\n      }\n    },\n    addMagicProperty: function addMagicProperty(name, callback) {\n      this.magicProperties[name] = callback;\n    },\n    onComponentInitialized: function onComponentInitialized(callback) {\n      this.onComponentInitializeds.push(callback);\n    },\n    onBeforeComponentInitialized: function onBeforeComponentInitialized(callback) {\n      this.onBeforeComponentInitializeds.push(callback);\n    }\n  };\n\n  if (!isTesting()) {\n    window.Alpine = Alpine;\n\n    if (window.deferLoadingAlpine) {\n      window.deferLoadingAlpine(function () {\n        window.Alpine.start();\n      });\n    } else {\n      window.Alpine.start();\n    }\n  }\n\n  return Alpine;\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWxwaW5lanMvZGlzdC9hbHBpbmUuanM/ZGYyNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEVBQUUsS0FBNEQ7QUFDOUQsRUFBRSxTQUNvRDtBQUN0RCxDQUFDLHFCQUFxQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsVUFBVSw4RkFBOEYsVUFBVTtBQUNqSixLQUFLO0FBQ0wsbURBQW1ELFVBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxNQUFNLG9CQUFvQixXQUFXOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxnRkFBZ0Y7QUFDaEY7QUFDQTtB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QUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9hbHBpbmVqcy9kaXN0L2FscGluZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuQWxwaW5lID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KTtcbiAgICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcblxuICAgICAgaWYgKGkgJSAyKSB7XG4gICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgLy8gVGhhbmtzIEBzdGltdWx1czpcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N0aW11bHVzanMvc3RpbXVsdXMvYmxvYi9tYXN0ZXIvcGFja2FnZXMvJTQwc3RpbXVsdXMvY29yZS9zcmMvYXBwbGljYXRpb24udHNcbiAgZnVuY3Rpb24gZG9tUmVhZHkoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgcmVzb2x2ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYXJyYXlVbmlxdWUoYXJyYXkpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KGFycmF5KSk7XG4gIH1cbiAgZnVuY3Rpb24gaXNUZXN0aW5nKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwianNkb21cIik7XG4gIH1cbiAgZnVuY3Rpb24gY2hlY2tlZEF0dHJMb29zZUNvbXBhcmUodmFsdWVBLCB2YWx1ZUIpIHtcbiAgICByZXR1cm4gdmFsdWVBID09IHZhbHVlQjtcbiAgfVxuICBmdW5jdGlvbiB3YXJuSWZNYWxmb3JtZWRUZW1wbGF0ZShlbCwgZGlyZWN0aXZlKSB7XG4gICAgaWYgKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3RlbXBsYXRlJykge1xuICAgICAgY29uc29sZS53YXJuKGBBbHBpbmU6IFske2RpcmVjdGl2ZX1dIGRpcmVjdGl2ZSBzaG91bGQgb25seSBiZSBhZGRlZCB0byA8dGVtcGxhdGU+IHRhZ3MuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYWxwaW5lanMvYWxwaW5lIyR7ZGlyZWN0aXZlfWApO1xuICAgIH0gZWxzZSBpZiAoZWwuY29udGVudC5jaGlsZEVsZW1lbnRDb3VudCAhPT0gMSkge1xuICAgICAgY29uc29sZS53YXJuKGBBbHBpbmU6IDx0ZW1wbGF0ZT4gdGFnIHdpdGggWyR7ZGlyZWN0aXZlfV0gZW5jb3VudGVyZWQgd2l0aCBtdWx0aXBsZSBlbGVtZW50IHJvb3RzLiBNYWtlIHN1cmUgPHRlbXBsYXRlPiBvbmx5IGhhcyBhIHNpbmdsZSBjaGlsZCBlbGVtZW50LmApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBrZWJhYkNhc2Uoc3ViamVjdCkge1xuICAgIHJldHVybiBzdWJqZWN0LnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnJlcGxhY2UoL1tfXFxzXS8sICctJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuICBmdW5jdGlvbiBjYW1lbENhc2Uoc3ViamVjdCkge1xuICAgIHJldHVybiBzdWJqZWN0LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvLShcXHcpL2csIChtYXRjaCwgY2hhcikgPT4gY2hhci50b1VwcGVyQ2FzZSgpKTtcbiAgfVxuICBmdW5jdGlvbiB3YWxrKGVsLCBjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjayhlbCkgPT09IGZhbHNlKSByZXR1cm47XG4gICAgbGV0IG5vZGUgPSBlbC5maXJzdEVsZW1lbnRDaGlsZDtcblxuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICB3YWxrKG5vZGUsIGNhbGxiYWNrKTtcbiAgICAgIG5vZGUgPSBub2RlLm5leHRFbGVtZW50U2libGluZztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCkge1xuICAgIHZhciB0aW1lb3V0O1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMsXG4gICAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gbGF0ZXIoKSB7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgfTtcblxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgIH07XG4gIH1cblxuICBjb25zdCBoYW5kbGVFcnJvciA9IChlbCwgZXhwcmVzc2lvbiwgZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLndhcm4oYEFscGluZSBFcnJvcjogXCIke2Vycm9yfVwiXFxuXFxuRXhwcmVzc2lvbjogXCIke2V4cHJlc3Npb259XCJcXG5FbGVtZW50OmAsIGVsKTtcblxuICAgIGlmICghaXNUZXN0aW5nKCkpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB0cnlDYXRjaChjYiwge1xuICAgIGVsLFxuICAgIGV4cHJlc3Npb25cbiAgfSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNiKCk7XG4gICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlID8gdmFsdWUuY2F0Y2goZSA9PiBoYW5kbGVFcnJvcihlbCwgZXhwcmVzc2lvbiwgZSkpIDogdmFsdWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaGFuZGxlRXJyb3IoZWwsIGV4cHJlc3Npb24sIGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNhZmVyRXZhbChlbCwgZXhwcmVzc2lvbiwgZGF0YUNvbnRleHQsIGFkZGl0aW9uYWxIZWxwZXJWYXJpYWJsZXMgPSB7fSkge1xuICAgIHJldHVybiB0cnlDYXRjaCgoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGV4cHJlc3Npb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGV4cHJlc3Npb24uY2FsbChkYXRhQ29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oWyckZGF0YScsIC4uLk9iamVjdC5rZXlzKGFkZGl0aW9uYWxIZWxwZXJWYXJpYWJsZXMpXSwgYHZhciBfX2FscGluZV9yZXN1bHQ7IHdpdGgoJGRhdGEpIHsgX19hbHBpbmVfcmVzdWx0ID0gJHtleHByZXNzaW9ufSB9OyByZXR1cm4gX19hbHBpbmVfcmVzdWx0YCkoZGF0YUNvbnRleHQsIC4uLk9iamVjdC52YWx1ZXMoYWRkaXRpb25hbEhlbHBlclZhcmlhYmxlcykpO1xuICAgIH0sIHtcbiAgICAgIGVsLFxuICAgICAgZXhwcmVzc2lvblxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHNhZmVyRXZhbE5vUmV0dXJuKGVsLCBleHByZXNzaW9uLCBkYXRhQ29udGV4dCwgYWRkaXRpb25hbEhlbHBlclZhcmlhYmxlcyA9IHt9KSB7XG4gICAgcmV0dXJuIHRyeUNhdGNoKCgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgZXhwcmVzc2lvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV4cHJlc3Npb24uY2FsbChkYXRhQ29udGV4dCwgYWRkaXRpb25hbEhlbHBlclZhcmlhYmxlc1snJGV2ZW50J10pKTtcbiAgICAgIH1cblxuICAgICAgbGV0IEFzeW5jRnVuY3Rpb24gPSBGdW5jdGlvbjtcbiAgICAgIC8qIE1PREVSTi1PTkxZOlNUQVJUICovXG5cbiAgICAgIEFzeW5jRnVuY3Rpb24gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYXN5bmMgZnVuY3Rpb24gKCkge30pLmNvbnN0cnVjdG9yO1xuICAgICAgLyogTU9ERVJOLU9OTFk6RU5EICovXG4gICAgICAvLyBGb3IgdGhlIGNhc2VzIHdoZW4gdXNlcnMgcGFzcyBvbmx5IGEgZnVuY3Rpb24gcmVmZXJlbmNlIHRvIHRoZSBjYWxsZXI6IGB4LW9uOmNsaWNrPVwiZm9vXCJgXG4gICAgICAvLyBXaGVyZSBcImZvb1wiIGlzIGEgZnVuY3Rpb24uIEFsc28sIHdlJ2xsIHBhc3MgdGhlIGZ1bmN0aW9uIHRoZSBldmVudCBpbnN0YW5jZSB3aGVuIHdlIGNhbGwgaXQuXG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhQ29udGV4dCkuaW5jbHVkZXMoZXhwcmVzc2lvbikpIHtcbiAgICAgICAgbGV0IG1ldGhvZFJlZmVyZW5jZSA9IG5ldyBGdW5jdGlvbihbJ2RhdGFDb250ZXh0JywgLi4uT2JqZWN0LmtleXMoYWRkaXRpb25hbEhlbHBlclZhcmlhYmxlcyldLCBgd2l0aChkYXRhQ29udGV4dCkgeyByZXR1cm4gJHtleHByZXNzaW9ufSB9YCkoZGF0YUNvbnRleHQsIC4uLk9iamVjdC52YWx1ZXMoYWRkaXRpb25hbEhlbHBlclZhcmlhYmxlcykpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbWV0aG9kUmVmZXJlbmNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtZXRob2RSZWZlcmVuY2UuY2FsbChkYXRhQ29udGV4dCwgYWRkaXRpb25hbEhlbHBlclZhcmlhYmxlc1snJGV2ZW50J10pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQXN5bmNGdW5jdGlvbihbJ2RhdGFDb250ZXh0JywgLi4uT2JqZWN0LmtleXMoYWRkaXRpb25hbEhlbHBlclZhcmlhYmxlcyldLCBgd2l0aChkYXRhQ29udGV4dCkgeyAke2V4cHJlc3Npb259IH1gKShkYXRhQ29udGV4dCwgLi4uT2JqZWN0LnZhbHVlcyhhZGRpdGlvbmFsSGVscGVyVmFyaWFibGVzKSkpO1xuICAgIH0sIHtcbiAgICAgIGVsLFxuICAgICAgZXhwcmVzc2lvblxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHhBdHRyUkUgPSAvXngtKG9ufGJpbmR8ZGF0YXx0ZXh0fGh0bWx8bW9kZWx8aWZ8Zm9yfHNob3d8Y2xvYWt8dHJhbnNpdGlvbnxyZWZ8c3ByZWFkKVxcYi87XG4gIGZ1bmN0aW9uIGlzWEF0dHIoYXR0cikge1xuICAgIGNvbnN0IG5hbWUgPSByZXBsYWNlQXRBbmRDb2xvbldpdGhTdGFuZGFyZFN5bnRheChhdHRyLm5hbWUpO1xuICAgIHJldHVybiB4QXR0clJFLnRlc3QobmFtZSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0WEF0dHJzKGVsLCBjb21wb25lbnQsIHR5cGUpIHtcbiAgICBsZXQgZGlyZWN0aXZlcyA9IEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykuZmlsdGVyKGlzWEF0dHIpLm1hcChwYXJzZUh0bWxBdHRyaWJ1dGUpOyAvLyBHZXQgYW4gb2JqZWN0IG9mIGRpcmVjdGl2ZXMgZnJvbSB4LXNwcmVhZC5cblxuICAgIGxldCBzcHJlYWREaXJlY3RpdmUgPSBkaXJlY3RpdmVzLmZpbHRlcihkaXJlY3RpdmUgPT4gZGlyZWN0aXZlLnR5cGUgPT09ICdzcHJlYWQnKVswXTtcblxuICAgIGlmIChzcHJlYWREaXJlY3RpdmUpIHtcbiAgICAgIGxldCBzcHJlYWRPYmplY3QgPSBzYWZlckV2YWwoZWwsIHNwcmVhZERpcmVjdGl2ZS5leHByZXNzaW9uLCBjb21wb25lbnQuJGRhdGEpOyAvLyBBZGQgeC1zcHJlYWQgZGlyZWN0aXZlcyB0byB0aGUgcGlsZSBvZiBleGlzdGluZyBkaXJlY3RpdmVzLlxuXG4gICAgICBkaXJlY3RpdmVzID0gZGlyZWN0aXZlcy5jb25jYXQoT2JqZWN0LmVudHJpZXMoc3ByZWFkT2JqZWN0KS5tYXAoKFtuYW1lLCB2YWx1ZV0pID0+IHBhcnNlSHRtbEF0dHJpYnV0ZSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlXG4gICAgICB9KSkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlKSByZXR1cm4gZGlyZWN0aXZlcy5maWx0ZXIoaSA9PiBpLnR5cGUgPT09IHR5cGUpO1xuICAgIHJldHVybiBzb3J0RGlyZWN0aXZlcyhkaXJlY3RpdmVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNvcnREaXJlY3RpdmVzKGRpcmVjdGl2ZXMpIHtcbiAgICBsZXQgZGlyZWN0aXZlT3JkZXIgPSBbJ2JpbmQnLCAnbW9kZWwnLCAnc2hvdycsICdjYXRjaC1hbGwnXTtcbiAgICByZXR1cm4gZGlyZWN0aXZlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBsZXQgdHlwZUEgPSBkaXJlY3RpdmVPcmRlci5pbmRleE9mKGEudHlwZSkgPT09IC0xID8gJ2NhdGNoLWFsbCcgOiBhLnR5cGU7XG4gICAgICBsZXQgdHlwZUIgPSBkaXJlY3RpdmVPcmRlci5pbmRleE9mKGIudHlwZSkgPT09IC0xID8gJ2NhdGNoLWFsbCcgOiBiLnR5cGU7XG4gICAgICByZXR1cm4gZGlyZWN0aXZlT3JkZXIuaW5kZXhPZih0eXBlQSkgLSBkaXJlY3RpdmVPcmRlci5pbmRleE9mKHR5cGVCKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlSHRtbEF0dHJpYnV0ZSh7XG4gICAgbmFtZSxcbiAgICB2YWx1ZVxuICB9KSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSByZXBsYWNlQXRBbmRDb2xvbldpdGhTdGFuZGFyZFN5bnRheChuYW1lKTtcbiAgICBjb25zdCB0eXBlTWF0Y2ggPSBub3JtYWxpemVkTmFtZS5tYXRjaCh4QXR0clJFKTtcbiAgICBjb25zdCB2YWx1ZU1hdGNoID0gbm9ybWFsaXplZE5hbWUubWF0Y2goLzooW2EtekEtWjAtOVxcLTpdKykvKTtcbiAgICBjb25zdCBtb2RpZmllcnMgPSBub3JtYWxpemVkTmFtZS5tYXRjaCgvXFwuW14uXFxdXSsoPz1bXlxcXV0qJCkvZykgfHwgW107XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHR5cGVNYXRjaCA/IHR5cGVNYXRjaFsxXSA6IG51bGwsXG4gICAgICB2YWx1ZTogdmFsdWVNYXRjaCA/IHZhbHVlTWF0Y2hbMV0gOiBudWxsLFxuICAgICAgbW9kaWZpZXJzOiBtb2RpZmllcnMubWFwKGkgPT4gaS5yZXBsYWNlKCcuJywgJycpKSxcbiAgICAgIGV4cHJlc3Npb246IHZhbHVlXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBpc0Jvb2xlYW5BdHRyKGF0dHJOYW1lKSB7XG4gICAgLy8gQXMgcGVyIEhUTUwgc3BlYyB0YWJsZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWwjYXR0cmlidXRlcy0zOmJvb2xlYW4tYXR0cmlidXRlXG4gICAgLy8gQXJyYXkgcm91Z2hseSBvcmRlcmVkIGJ5IGVzdGltYXRlZCB1c2FnZVxuICAgIGNvbnN0IGJvb2xlYW5BdHRyaWJ1dGVzID0gWydkaXNhYmxlZCcsICdjaGVja2VkJywgJ3JlcXVpcmVkJywgJ3JlYWRvbmx5JywgJ2hpZGRlbicsICdvcGVuJywgJ3NlbGVjdGVkJywgJ2F1dG9mb2N1cycsICdpdGVtc2NvcGUnLCAnbXVsdGlwbGUnLCAnbm92YWxpZGF0ZScsICdhbGxvd2Z1bGxzY3JlZW4nLCAnYWxsb3dwYXltZW50cmVxdWVzdCcsICdmb3Jtbm92YWxpZGF0ZScsICdhdXRvcGxheScsICdjb250cm9scycsICdsb29wJywgJ211dGVkJywgJ3BsYXlzaW5saW5lJywgJ2RlZmF1bHQnLCAnaXNtYXAnLCAncmV2ZXJzZWQnLCAnYXN5bmMnLCAnZGVmZXInLCAnbm9tb2R1bGUnXTtcbiAgICByZXR1cm4gYm9vbGVhbkF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0ck5hbWUpO1xuICB9XG4gIGZ1bmN0aW9uIHJlcGxhY2VBdEFuZENvbG9uV2l0aFN0YW5kYXJkU3ludGF4KG5hbWUpIHtcbiAgICBpZiAobmFtZS5zdGFydHNXaXRoKCdAJykpIHtcbiAgICAgIHJldHVybiBuYW1lLnJlcGxhY2UoJ0AnLCAneC1vbjonKTtcbiAgICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICByZXR1cm4gbmFtZS5yZXBsYWNlKCc6JywgJ3gtYmluZDonKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuICBmdW5jdGlvbiBjb252ZXJ0Q2xhc3NTdHJpbmdUb0FycmF5KGNsYXNzTGlzdCwgZmlsdGVyRm4gPSBCb29sZWFuKSB7XG4gICAgcmV0dXJuIGNsYXNzTGlzdC5zcGxpdCgnICcpLmZpbHRlcihmaWx0ZXJGbik7XG4gIH1cbiAgY29uc3QgVFJBTlNJVElPTl9UWVBFX0lOID0gJ2luJztcbiAgY29uc3QgVFJBTlNJVElPTl9UWVBFX09VVCA9ICdvdXQnO1xuICBjb25zdCBUUkFOU0lUSU9OX0NBTkNFTExFRCA9ICdjYW5jZWxsZWQnO1xuICBmdW5jdGlvbiB0cmFuc2l0aW9uSW4oZWwsIHNob3csIHJlamVjdCwgY29tcG9uZW50LCBmb3JjZVNraXAgPSBmYWxzZSkge1xuICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gdHJhbnNpdGlvbiBvbiB0aGUgaW5pdGlhbCBwYWdlIGxvYWQuXG4gICAgaWYgKGZvcmNlU2tpcCkgcmV0dXJuIHNob3coKTtcblxuICAgIGlmIChlbC5fX3hfdHJhbnNpdGlvbiAmJiBlbC5fX3hfdHJhbnNpdGlvbi50eXBlID09PSBUUkFOU0lUSU9OX1RZUEVfSU4pIHtcbiAgICAgIC8vIHRoZXJlIGlzIGFscmVhZHkgYSBzaW1pbGFyIHRyYW5zaXRpb24gZ29pbmcgb24sIHRoaXMgd2FzIHByb2JhYmx5IHRyaWdnZXJlZCBieVxuICAgICAgLy8gYSBjaGFuZ2UgaW4gYSBkaWZmZXJlbnQgcHJvcGVydHksIGxldCdzIGp1c3QgbGVhdmUgdGhlIHByZXZpb3VzIG9uZSBkb2luZyBpdHMgam9iXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cnMgPSBnZXRYQXR0cnMoZWwsIGNvbXBvbmVudCwgJ3RyYW5zaXRpb24nKTtcbiAgICBjb25zdCBzaG93QXR0ciA9IGdldFhBdHRycyhlbCwgY29tcG9uZW50LCAnc2hvdycpWzBdOyAvLyBJZiB0aGlzIGlzIHRyaWdnZXJlZCBieSBhIHgtc2hvdy50cmFuc2l0aW9uLlxuXG4gICAgaWYgKHNob3dBdHRyICYmIHNob3dBdHRyLm1vZGlmaWVycy5pbmNsdWRlcygndHJhbnNpdGlvbicpKSB7XG4gICAgICBsZXQgbW9kaWZpZXJzID0gc2hvd0F0dHIubW9kaWZpZXJzOyAvLyBJZiB4LXNob3cudHJhbnNpdGlvbi5vdXQsIHdlJ2xsIHNraXAgdGhlIFwiaW5cIiB0cmFuc2l0aW9uLlxuXG4gICAgICBpZiAobW9kaWZpZXJzLmluY2x1ZGVzKCdvdXQnKSAmJiAhbW9kaWZpZXJzLmluY2x1ZGVzKCdpbicpKSByZXR1cm4gc2hvdygpO1xuICAgICAgY29uc3Qgc2V0dGluZ0JvdGhTaWRlc09mVHJhbnNpdGlvbiA9IG1vZGlmaWVycy5pbmNsdWRlcygnaW4nKSAmJiBtb2RpZmllcnMuaW5jbHVkZXMoJ291dCcpOyAvLyBJZiB4LXNob3cudHJhbnNpdGlvbi5pbi4uLm91dC4uLiBvbmx5IHVzZSBcImluXCIgcmVsYXRlZCBtb2RpZmllcnMgZm9yIHRoaXMgdHJhbnNpdGlvbi5cblxuICAgICAgbW9kaWZpZXJzID0gc2V0dGluZ0JvdGhTaWRlc09mVHJhbnNpdGlvbiA/IG1vZGlmaWVycy5maWx0ZXIoKGksIGluZGV4KSA9PiBpbmRleCA8IG1vZGlmaWVycy5pbmRleE9mKCdvdXQnKSkgOiBtb2RpZmllcnM7XG4gICAgICB0cmFuc2l0aW9uSGVscGVySW4oZWwsIG1vZGlmaWVycywgc2hvdywgcmVqZWN0KTsgLy8gT3RoZXJ3aXNlLCB3ZSBjYW4gYXNzdW1lIHgtdHJhbnNpdGlvbjplbnRlci5cbiAgICB9IGVsc2UgaWYgKGF0dHJzLnNvbWUoYXR0ciA9PiBbJ2VudGVyJywgJ2VudGVyLXN0YXJ0JywgJ2VudGVyLWVuZCddLmluY2x1ZGVzKGF0dHIudmFsdWUpKSkge1xuICAgICAgdHJhbnNpdGlvbkNsYXNzZXNJbihlbCwgY29tcG9uZW50LCBhdHRycywgc2hvdywgcmVqZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgbmVpdGhlciwganVzdCBzaG93IHRoYXQgZGFtbiB0aGluZy5cbiAgICAgIHNob3coKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbk91dChlbCwgaGlkZSwgcmVqZWN0LCBjb21wb25lbnQsIGZvcmNlU2tpcCA9IGZhbHNlKSB7XG4gICAgLy8gV2UgZG9uJ3Qgd2FudCB0byB0cmFuc2l0aW9uIG9uIHRoZSBpbml0aWFsIHBhZ2UgbG9hZC5cbiAgICBpZiAoZm9yY2VTa2lwKSByZXR1cm4gaGlkZSgpO1xuXG4gICAgaWYgKGVsLl9feF90cmFuc2l0aW9uICYmIGVsLl9feF90cmFuc2l0aW9uLnR5cGUgPT09IFRSQU5TSVRJT05fVFlQRV9PVVQpIHtcbiAgICAgIC8vIHRoZXJlIGlzIGFscmVhZHkgYSBzaW1pbGFyIHRyYW5zaXRpb24gZ29pbmcgb24sIHRoaXMgd2FzIHByb2JhYmx5IHRyaWdnZXJlZCBieVxuICAgICAgLy8gYSBjaGFuZ2UgaW4gYSBkaWZmZXJlbnQgcHJvcGVydHksIGxldCdzIGp1c3QgbGVhdmUgdGhlIHByZXZpb3VzIG9uZSBkb2luZyBpdHMgam9iXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cnMgPSBnZXRYQXR0cnMoZWwsIGNvbXBvbmVudCwgJ3RyYW5zaXRpb24nKTtcbiAgICBjb25zdCBzaG93QXR0ciA9IGdldFhBdHRycyhlbCwgY29tcG9uZW50LCAnc2hvdycpWzBdO1xuXG4gICAgaWYgKHNob3dBdHRyICYmIHNob3dBdHRyLm1vZGlmaWVycy5pbmNsdWRlcygndHJhbnNpdGlvbicpKSB7XG4gICAgICBsZXQgbW9kaWZpZXJzID0gc2hvd0F0dHIubW9kaWZpZXJzO1xuICAgICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnaW4nKSAmJiAhbW9kaWZpZXJzLmluY2x1ZGVzKCdvdXQnKSkgcmV0dXJuIGhpZGUoKTtcbiAgICAgIGNvbnN0IHNldHRpbmdCb3RoU2lkZXNPZlRyYW5zaXRpb24gPSBtb2RpZmllcnMuaW5jbHVkZXMoJ2luJykgJiYgbW9kaWZpZXJzLmluY2x1ZGVzKCdvdXQnKTtcbiAgICAgIG1vZGlmaWVycyA9IHNldHRpbmdCb3RoU2lkZXNPZlRyYW5zaXRpb24gPyBtb2RpZmllcnMuZmlsdGVyKChpLCBpbmRleCkgPT4gaW5kZXggPiBtb2RpZmllcnMuaW5kZXhPZignb3V0JykpIDogbW9kaWZpZXJzO1xuICAgICAgdHJhbnNpdGlvbkhlbHBlck91dChlbCwgbW9kaWZpZXJzLCBzZXR0aW5nQm90aFNpZGVzT2ZUcmFuc2l0aW9uLCBoaWRlLCByZWplY3QpO1xuICAgIH0gZWxzZSBpZiAoYXR0cnMuc29tZShhdHRyID0+IFsnbGVhdmUnLCAnbGVhdmUtc3RhcnQnLCAnbGVhdmUtZW5kJ10uaW5jbHVkZXMoYXR0ci52YWx1ZSkpKSB7XG4gICAgICB0cmFuc2l0aW9uQ2xhc3Nlc091dChlbCwgY29tcG9uZW50LCBhdHRycywgaGlkZSwgcmVqZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlkZSgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0cmFuc2l0aW9uSGVscGVySW4oZWwsIG1vZGlmaWVycywgc2hvd0NhbGxiYWNrLCByZWplY3QpIHtcbiAgICAvLyBEZWZhdWx0IHZhbHVlcyBpbnNwaXJlZCBieTogaHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vbW90aW9uL3NwZWVkLmh0bWwjZHVyYXRpb25cbiAgICBjb25zdCBzdHlsZVZhbHVlcyA9IHtcbiAgICAgIGR1cmF0aW9uOiBtb2RpZmllclZhbHVlKG1vZGlmaWVycywgJ2R1cmF0aW9uJywgMTUwKSxcbiAgICAgIG9yaWdpbjogbW9kaWZpZXJWYWx1ZShtb2RpZmllcnMsICdvcmlnaW4nLCAnY2VudGVyJyksXG4gICAgICBmaXJzdDoge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBzY2FsZTogbW9kaWZpZXJWYWx1ZShtb2RpZmllcnMsICdzY2FsZScsIDk1KVxuICAgICAgfSxcbiAgICAgIHNlY29uZDoge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBzY2FsZTogMTAwXG4gICAgICB9XG4gICAgfTtcbiAgICB0cmFuc2l0aW9uSGVscGVyKGVsLCBtb2RpZmllcnMsIHNob3dDYWxsYmFjaywgKCkgPT4ge30sIHJlamVjdCwgc3R5bGVWYWx1ZXMsIFRSQU5TSVRJT05fVFlQRV9JTik7XG4gIH1cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkhlbHBlck91dChlbCwgbW9kaWZpZXJzLCBzZXR0aW5nQm90aFNpZGVzT2ZUcmFuc2l0aW9uLCBoaWRlQ2FsbGJhY2ssIHJlamVjdCkge1xuICAgIC8vIE1ha2UgdGhlIFwib3V0XCIgdHJhbnNpdGlvbiAuNXggc2xvd2VyIHRoYW4gdGhlIFwiaW5cIi4gKFZpc3VhbGx5IGJldHRlcilcbiAgICAvLyBIT1dFVkVSLCBpZiB0aGV5IGV4cGxpY2l0bHkgc2V0IGEgZHVyYXRpb24gZm9yIHRoZSBcIm91dFwiIHRyYW5zaXRpb24sXG4gICAgLy8gdXNlIHRoYXQuXG4gICAgY29uc3QgZHVyYXRpb24gPSBzZXR0aW5nQm90aFNpZGVzT2ZUcmFuc2l0aW9uID8gbW9kaWZpZXJWYWx1ZShtb2RpZmllcnMsICdkdXJhdGlvbicsIDE1MCkgOiBtb2RpZmllclZhbHVlKG1vZGlmaWVycywgJ2R1cmF0aW9uJywgMTUwKSAvIDI7XG4gICAgY29uc3Qgc3R5bGVWYWx1ZXMgPSB7XG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICBvcmlnaW46IG1vZGlmaWVyVmFsdWUobW9kaWZpZXJzLCAnb3JpZ2luJywgJ2NlbnRlcicpLFxuICAgICAgZmlyc3Q6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgc2NhbGU6IDEwMFxuICAgICAgfSxcbiAgICAgIHNlY29uZDoge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBzY2FsZTogbW9kaWZpZXJWYWx1ZShtb2RpZmllcnMsICdzY2FsZScsIDk1KVxuICAgICAgfVxuICAgIH07XG4gICAgdHJhbnNpdGlvbkhlbHBlcihlbCwgbW9kaWZpZXJzLCAoKSA9PiB7fSwgaGlkZUNhbGxiYWNrLCByZWplY3QsIHN0eWxlVmFsdWVzLCBUUkFOU0lUSU9OX1RZUEVfT1VUKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vZGlmaWVyVmFsdWUobW9kaWZpZXJzLCBrZXksIGZhbGxiYWNrKSB7XG4gICAgLy8gSWYgdGhlIG1vZGlmaWVyIGlzbid0IHByZXNlbnQsIHVzZSB0aGUgZGVmYXVsdC5cbiAgICBpZiAobW9kaWZpZXJzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHJldHVybiBmYWxsYmFjazsgLy8gSWYgaXQgSVMgcHJlc2VudCwgZ3JhYiB0aGUgdmFsdWUgYWZ0ZXIgaXQ6IHgtc2hvdy50cmFuc2l0aW9uLmR1cmF0aW9uLjUwMG1zXG5cbiAgICBjb25zdCByYXdWYWx1ZSA9IG1vZGlmaWVyc1ttb2RpZmllcnMuaW5kZXhPZihrZXkpICsgMV07XG4gICAgaWYgKCFyYXdWYWx1ZSkgcmV0dXJuIGZhbGxiYWNrO1xuXG4gICAgaWYgKGtleSA9PT0gJ3NjYWxlJykge1xuICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZlcnkgbmV4dCB2YWx1ZSBpcyBOT1QgYSBudW1iZXIgYW5kIHJldHVybiB0aGUgZmFsbGJhY2suXG4gICAgICAvLyBJZiB4LXNob3cudHJhbnNpdGlvbi5zY2FsZSwgd2UnbGwgdXNlIHRoZSBkZWZhdWx0IHNjYWxlIHZhbHVlLlxuICAgICAgLy8gVGhhdCBpcyBob3cgYSB1c2VyIG9wdHMgb3V0IG9mIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24uXG4gICAgICBpZiAoIWlzTnVtZXJpYyhyYXdWYWx1ZSkpIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnZHVyYXRpb24nKSB7XG4gICAgICAvLyBTdXBwb3J0IHgtc2hvdy50cmFuc2l0aW9uLmR1cmF0aW9uLjUwMG1zICYmIGR1cmF0aW9uLjUwMFxuICAgICAgbGV0IG1hdGNoID0gcmF3VmFsdWUubWF0Y2goLyhbMC05XSspbXMvKTtcbiAgICAgIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoWzFdO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdvcmlnaW4nKSB7XG4gICAgICAvLyBTdXBwb3J0IGNoYWluaW5nIG9yaWdpbiBkaXJlY3Rpb25zOiB4LXNob3cudHJhbnNpdGlvbi50b3AucmlnaHRcbiAgICAgIGlmIChbJ3RvcCcsICdyaWdodCcsICdsZWZ0JywgJ2NlbnRlcicsICdib3R0b20nXS5pbmNsdWRlcyhtb2RpZmllcnNbbW9kaWZpZXJzLmluZGV4T2Yoa2V5KSArIDJdKSkge1xuICAgICAgICByZXR1cm4gW3Jhd1ZhbHVlLCBtb2RpZmllcnNbbW9kaWZpZXJzLmluZGV4T2Yoa2V5KSArIDJdXS5qb2luKCcgJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhd1ZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkhlbHBlcihlbCwgbW9kaWZpZXJzLCBob29rMSwgaG9vazIsIHJlamVjdCwgc3R5bGVWYWx1ZXMsIHR5cGUpIHtcbiAgICAvLyBjbGVhciB0aGUgcHJldmlvdXMgdHJhbnNpdGlvbiBpZiBleGlzdHMgdG8gYXZvaWQgY2FjaGluZyB0aGUgd3Jvbmcgc3R5bGVzXG4gICAgaWYgKGVsLl9feF90cmFuc2l0aW9uKSB7XG4gICAgICBlbC5fX3hfdHJhbnNpdGlvbi5jYW5jZWwgJiYgZWwuX194X3RyYW5zaXRpb24uY2FuY2VsKCk7XG4gICAgfSAvLyBJZiB0aGUgdXNlciBzZXQgdGhlc2Ugc3R5bGUgdmFsdWVzLCB3ZSdsbCBwdXQgdGhlbSBiYWNrIHdoZW4gd2UncmUgZG9uZSB3aXRoIHRoZW0uXG5cblxuICAgIGNvbnN0IG9wYWNpdHlDYWNoZSA9IGVsLnN0eWxlLm9wYWNpdHk7XG4gICAgY29uc3QgdHJhbnNmb3JtQ2FjaGUgPSBlbC5zdHlsZS50cmFuc2Zvcm07XG4gICAgY29uc3QgdHJhbnNmb3JtT3JpZ2luQ2FjaGUgPSBlbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW47IC8vIElmIG5vIG1vZGlmaWVycyBhcmUgcHJlc2VudDogeC1zaG93LnRyYW5zaXRpb24sIHdlJ2xsIGRlZmF1bHQgdG8gYm90aCBvcGFjaXR5IGFuZCBzY2FsZS5cblxuICAgIGNvbnN0IG5vTW9kaWZpZXJzID0gIW1vZGlmaWVycy5pbmNsdWRlcygnb3BhY2l0eScpICYmICFtb2RpZmllcnMuaW5jbHVkZXMoJ3NjYWxlJyk7XG4gICAgY29uc3QgdHJhbnNpdGlvbk9wYWNpdHkgPSBub01vZGlmaWVycyB8fCBtb2RpZmllcnMuaW5jbHVkZXMoJ29wYWNpdHknKTtcbiAgICBjb25zdCB0cmFuc2l0aW9uU2NhbGUgPSBub01vZGlmaWVycyB8fCBtb2RpZmllcnMuaW5jbHVkZXMoJ3NjYWxlJyk7IC8vIFRoZXNlIGFyZSB0aGUgZXhwbGljaXQgc3RhZ2VzIG9mIGEgdHJhbnNpdGlvbiAoc2FtZSBzdGFnZXMgZm9yIGluIGFuZCBmb3Igb3V0KS5cbiAgICAvLyBUaGlzIHdheSB5b3UgY2FuIGdldCBhIGJpcmRzIGV5ZSB2aWV3IG9mIHRoZSBob29rcywgYW5kIHRoZSBkaWZmZXJlbmNlc1xuICAgIC8vIGJldHdlZW4gdGhlbS5cblxuICAgIGNvbnN0IHN0YWdlcyA9IHtcbiAgICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAodHJhbnNpdGlvbk9wYWNpdHkpIGVsLnN0eWxlLm9wYWNpdHkgPSBzdHlsZVZhbHVlcy5maXJzdC5vcGFjaXR5O1xuICAgICAgICBpZiAodHJhbnNpdGlvblNjYWxlKSBlbC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzdHlsZVZhbHVlcy5maXJzdC5zY2FsZSAvIDEwMH0pYDtcbiAgICAgIH0sXG5cbiAgICAgIGR1cmluZygpIHtcbiAgICAgICAgaWYgKHRyYW5zaXRpb25TY2FsZSkgZWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gc3R5bGVWYWx1ZXMub3JpZ2luO1xuICAgICAgICBlbC5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSBbdHJhbnNpdGlvbk9wYWNpdHkgPyBgb3BhY2l0eWAgOiBgYCwgdHJhbnNpdGlvblNjYWxlID8gYHRyYW5zZm9ybWAgOiBgYF0uam9pbignICcpLnRyaW0oKTtcbiAgICAgICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7c3R5bGVWYWx1ZXMuZHVyYXRpb24gLyAxMDAwfXNgO1xuICAgICAgICBlbC5zdHlsZS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSBgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpYDtcbiAgICAgIH0sXG5cbiAgICAgIHNob3coKSB7XG4gICAgICAgIGhvb2sxKCk7XG4gICAgICB9LFxuXG4gICAgICBlbmQoKSB7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uT3BhY2l0eSkgZWwuc3R5bGUub3BhY2l0eSA9IHN0eWxlVmFsdWVzLnNlY29uZC5vcGFjaXR5O1xuICAgICAgICBpZiAodHJhbnNpdGlvblNjYWxlKSBlbC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzdHlsZVZhbHVlcy5zZWNvbmQuc2NhbGUgLyAxMDB9KWA7XG4gICAgICB9LFxuXG4gICAgICBoaWRlKCkge1xuICAgICAgICBob29rMigpO1xuICAgICAgfSxcblxuICAgICAgY2xlYW51cCgpIHtcbiAgICAgICAgaWYgKHRyYW5zaXRpb25PcGFjaXR5KSBlbC5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eUNhY2hlO1xuICAgICAgICBpZiAodHJhbnNpdGlvblNjYWxlKSBlbC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1DYWNoZTtcbiAgICAgICAgaWYgKHRyYW5zaXRpb25TY2FsZSkgZWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gdHJhbnNmb3JtT3JpZ2luQ2FjaGU7XG4gICAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IG51bGw7XG4gICAgICB9XG5cbiAgICB9O1xuICAgIHRyYW5zaXRpb24oZWwsIHN0YWdlcywgdHlwZSwgcmVqZWN0KTtcbiAgfVxuXG4gIGNvbnN0IGVuc3VyZVN0cmluZ0V4cHJlc3Npb24gPSAoZXhwcmVzc2lvbiwgZWwsIGNvbXBvbmVudCkgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgZXhwcmVzc2lvbiA9PT0gJ2Z1bmN0aW9uJyA/IGNvbXBvbmVudC5ldmFsdWF0ZVJldHVybkV4cHJlc3Npb24oZWwsIGV4cHJlc3Npb24pIDogZXhwcmVzc2lvbjtcbiAgfTtcblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uQ2xhc3Nlc0luKGVsLCBjb21wb25lbnQsIGRpcmVjdGl2ZXMsIHNob3dDYWxsYmFjaywgcmVqZWN0KSB7XG4gICAgY29uc3QgZW50ZXIgPSBjb252ZXJ0Q2xhc3NTdHJpbmdUb0FycmF5KGVuc3VyZVN0cmluZ0V4cHJlc3Npb24oKGRpcmVjdGl2ZXMuZmluZChpID0+IGkudmFsdWUgPT09ICdlbnRlcicpIHx8IHtcbiAgICAgIGV4cHJlc3Npb246ICcnXG4gICAgfSkuZXhwcmVzc2lvbiwgZWwsIGNvbXBvbmVudCkpO1xuICAgIGNvbnN0IGVudGVyU3RhcnQgPSBjb252ZXJ0Q2xhc3NTdHJpbmdUb0FycmF5KGVuc3VyZVN0cmluZ0V4cHJlc3Npb24oKGRpcmVjdGl2ZXMuZmluZChpID0+IGkudmFsdWUgPT09ICdlbnRlci1zdGFydCcpIHx8IHtcbiAgICAgIGV4cHJlc3Npb246ICcnXG4gICAgfSkuZXhwcmVzc2lvbiwgZWwsIGNvbXBvbmVudCkpO1xuICAgIGNvbnN0IGVudGVyRW5kID0gY29udmVydENsYXNzU3RyaW5nVG9BcnJheShlbnN1cmVTdHJpbmdFeHByZXNzaW9uKChkaXJlY3RpdmVzLmZpbmQoaSA9PiBpLnZhbHVlID09PSAnZW50ZXItZW5kJykgfHwge1xuICAgICAgZXhwcmVzc2lvbjogJydcbiAgICB9KS5leHByZXNzaW9uLCBlbCwgY29tcG9uZW50KSk7XG4gICAgdHJhbnNpdGlvbkNsYXNzZXMoZWwsIGVudGVyLCBlbnRlclN0YXJ0LCBlbnRlckVuZCwgc2hvd0NhbGxiYWNrLCAoKSA9PiB7fSwgVFJBTlNJVElPTl9UWVBFX0lOLCByZWplY3QpO1xuICB9XG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25DbGFzc2VzT3V0KGVsLCBjb21wb25lbnQsIGRpcmVjdGl2ZXMsIGhpZGVDYWxsYmFjaywgcmVqZWN0KSB7XG4gICAgY29uc3QgbGVhdmUgPSBjb252ZXJ0Q2xhc3NTdHJpbmdUb0FycmF5KGVuc3VyZVN0cmluZ0V4cHJlc3Npb24oKGRpcmVjdGl2ZXMuZmluZChpID0+IGkudmFsdWUgPT09ICdsZWF2ZScpIHx8IHtcbiAgICAgIGV4cHJlc3Npb246ICcnXG4gICAgfSkuZXhwcmVzc2lvbiwgZWwsIGNvbXBvbmVudCkpO1xuICAgIGNvbnN0IGxlYXZlU3RhcnQgPSBjb252ZXJ0Q2xhc3NTdHJpbmdUb0FycmF5KGVuc3VyZVN0cmluZ0V4cHJlc3Npb24oKGRpcmVjdGl2ZXMuZmluZChpID0+IGkudmFsdWUgPT09ICdsZWF2ZS1zdGFydCcpIHx8IHtcbiAgICAgIGV4cHJlc3Npb246ICcnXG4gICAgfSkuZXhwcmVzc2lvbiwgZWwsIGNvbXBvbmVudCkpO1xuICAgIGNvbnN0IGxlYXZlRW5kID0gY29udmVydENsYXNzU3RyaW5nVG9BcnJheShlbnN1cmVTdHJpbmdFeHByZXNzaW9uKChkaXJlY3RpdmVzLmZpbmQoaSA9PiBpLnZhbHVlID09PSAnbGVhdmUtZW5kJykgfHwge1xuICAgICAgZXhwcmVzc2lvbjogJydcbiAgICB9KS5leHByZXNzaW9uLCBlbCwgY29tcG9uZW50KSk7XG4gICAgdHJhbnNpdGlvbkNsYXNzZXMoZWwsIGxlYXZlLCBsZWF2ZVN0YXJ0LCBsZWF2ZUVuZCwgKCkgPT4ge30sIGhpZGVDYWxsYmFjaywgVFJBTlNJVElPTl9UWVBFX09VVCwgcmVqZWN0KTtcbiAgfVxuICBmdW5jdGlvbiB0cmFuc2l0aW9uQ2xhc3NlcyhlbCwgY2xhc3Nlc0R1cmluZywgY2xhc3Nlc1N0YXJ0LCBjbGFzc2VzRW5kLCBob29rMSwgaG9vazIsIHR5cGUsIHJlamVjdCkge1xuICAgIC8vIGNsZWFyIHRoZSBwcmV2aW91cyB0cmFuc2l0aW9uIGlmIGV4aXN0cyB0byBhdm9pZCBjYWNoaW5nIHRoZSB3cm9uZyBjbGFzc2VzXG4gICAgaWYgKGVsLl9feF90cmFuc2l0aW9uKSB7XG4gICAgICBlbC5fX3hfdHJhbnNpdGlvbi5jYW5jZWwgJiYgZWwuX194X3RyYW5zaXRpb24uY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3JpZ2luYWxDbGFzc2VzID0gZWwuX194X29yaWdpbmFsX2NsYXNzZXMgfHwgW107XG4gICAgY29uc3Qgc3RhZ2VzID0ge1xuICAgICAgc3RhcnQoKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlc1N0YXJ0KTtcbiAgICAgIH0sXG5cbiAgICAgIGR1cmluZygpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzRHVyaW5nKTtcbiAgICAgIH0sXG5cbiAgICAgIHNob3coKSB7XG4gICAgICAgIGhvb2sxKCk7XG4gICAgICB9LFxuXG4gICAgICBlbmQoKSB7XG4gICAgICAgIC8vIERvbid0IHJlbW92ZSBjbGFzc2VzIHRoYXQgd2VyZSBpbiB0aGUgb3JpZ2luYWwgY2xhc3MgYXR0cmlidXRlLlxuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzZXNTdGFydC5maWx0ZXIoaSA9PiAhb3JpZ2luYWxDbGFzc2VzLmluY2x1ZGVzKGkpKSk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlc0VuZCk7XG4gICAgICB9LFxuXG4gICAgICBoaWRlKCkge1xuICAgICAgICBob29rMigpO1xuICAgICAgfSxcblxuICAgICAgY2xlYW51cCgpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzRHVyaW5nLmZpbHRlcihpID0+ICFvcmlnaW5hbENsYXNzZXMuaW5jbHVkZXMoaSkpKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzRW5kLmZpbHRlcihpID0+ICFvcmlnaW5hbENsYXNzZXMuaW5jbHVkZXMoaSkpKTtcbiAgICAgIH1cblxuICAgIH07XG4gICAgdHJhbnNpdGlvbihlbCwgc3RhZ2VzLCB0eXBlLCByZWplY3QpO1xuICB9XG4gIGZ1bmN0aW9uIHRyYW5zaXRpb24oZWwsIHN0YWdlcywgdHlwZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgZmluaXNoID0gb25jZSgoKSA9PiB7XG4gICAgICBzdGFnZXMuaGlkZSgpOyAvLyBBZGRpbmcgYW4gXCJpc0Nvbm5lY3RlZFwiIGNoZWNrLCBpbiBjYXNlIHRoZSBjYWxsYmFja1xuICAgICAgLy8gcmVtb3ZlZCB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00uXG5cbiAgICAgIGlmIChlbC5pc0Nvbm5lY3RlZCkge1xuICAgICAgICBzdGFnZXMuY2xlYW51cCgpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgZWwuX194X3RyYW5zaXRpb247XG4gICAgfSk7XG4gICAgZWwuX194X3RyYW5zaXRpb24gPSB7XG4gICAgICAvLyBTZXQgdHJhbnNpdGlvbiB0eXBlIHNvIHdlIGNhbiBhdm9pZCBjbGVhcmluZyB0cmFuc2l0aW9uIGlmIHRoZSBkaXJlY3Rpb24gaXMgdGhlIHNhbWVcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAvLyBjcmVhdGUgYSBjYWxsYmFjayBmb3IgdGhlIGxhc3Qgc3RhZ2VzIG9mIHRoZSB0cmFuc2l0aW9uIHNvIHdlIGNhbiBjYWxsIGl0XG4gICAgICAvLyBmcm9tIGRpZmZlcmVudCBwb2ludCBhbmQgZWFybHkgdGVybWluYXRlIGl0LiBPbmNlIHdpbGwgZW5zdXJlIHRoYXQgZnVuY3Rpb25cbiAgICAgIC8vIGlzIG9ubHkgY2FsbGVkIG9uZSB0aW1lLlxuICAgICAgY2FuY2VsOiBvbmNlKCgpID0+IHtcbiAgICAgICAgcmVqZWN0KFRSQU5TSVRJT05fQ0FOQ0VMTEVEKTtcbiAgICAgICAgZmluaXNoKCk7XG4gICAgICB9KSxcbiAgICAgIGZpbmlzaCxcbiAgICAgIC8vIFRoaXMgc3RvcmUgdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lIHNvIHdlIGNhbiBjYW5jZWwgaXRcbiAgICAgIG5leHRGcmFtZTogbnVsbFxuICAgIH07XG4gICAgc3RhZ2VzLnN0YXJ0KCk7XG4gICAgc3RhZ2VzLmR1cmluZygpO1xuICAgIGVsLl9feF90cmFuc2l0aW9uLm5leHRGcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAvLyBOb3RlOiBTYWZhcmkncyB0cmFuc2l0aW9uRHVyYXRpb24gcHJvcGVydHkgd2lsbCBsaXN0IG91dCBjb21tYSBzZXBhcmF0ZWQgdHJhbnNpdGlvbiBkdXJhdGlvbnNcbiAgICAgIC8vIGZvciBldmVyeSBzaW5nbGUgdHJhbnNpdGlvbiBwcm9wZXJ0eS4gTGV0J3MgZ3JhYiB0aGUgZmlyc3Qgb25lIGFuZCBjYWxsIGl0IGEgZGF5LlxuICAgICAgbGV0IGR1cmF0aW9uID0gTnVtYmVyKGdldENvbXB1dGVkU3R5bGUoZWwpLnRyYW5zaXRpb25EdXJhdGlvbi5yZXBsYWNlKC8sLiovLCAnJykucmVwbGFjZSgncycsICcnKSkgKiAxMDAwO1xuXG4gICAgICBpZiAoZHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgZHVyYXRpb24gPSBOdW1iZXIoZ2V0Q29tcHV0ZWRTdHlsZShlbCkuYW5pbWF0aW9uRHVyYXRpb24ucmVwbGFjZSgncycsICcnKSkgKiAxMDAwO1xuICAgICAgfVxuXG4gICAgICBzdGFnZXMuc2hvdygpO1xuICAgICAgZWwuX194X3RyYW5zaXRpb24ubmV4dEZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgc3RhZ2VzLmVuZCgpO1xuICAgICAgICBzZXRUaW1lb3V0KGVsLl9feF90cmFuc2l0aW9uLmZpbmlzaCwgZHVyYXRpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gaXNOdW1lcmljKHN1YmplY3QpIHtcbiAgICByZXR1cm4gIUFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgIWlzTmFOKHN1YmplY3QpO1xuICB9IC8vIFRoYW5rcyBAdnVlanNcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9ibG9iLzRkZTQ2NDlkOTYzNzI2MmE5YjAwNzcyMGI1OWY4MGFjNzJhNTYyMGMvc3JjL3NoYXJlZC91dGlsLmpzXG5cbiAgZnVuY3Rpb24gb25jZShjYWxsYmFjaykge1xuICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRm9yRGlyZWN0aXZlKGNvbXBvbmVudCwgdGVtcGxhdGVFbCwgZXhwcmVzc2lvbiwgaW5pdGlhbFVwZGF0ZSwgZXh0cmFWYXJzKSB7XG4gICAgd2FybklmTWFsZm9ybWVkVGVtcGxhdGUodGVtcGxhdGVFbCwgJ3gtZm9yJyk7XG4gICAgbGV0IGl0ZXJhdG9yTmFtZXMgPSB0eXBlb2YgZXhwcmVzc2lvbiA9PT0gJ2Z1bmN0aW9uJyA/IHBhcnNlRm9yRXhwcmVzc2lvbihjb21wb25lbnQuZXZhbHVhdGVSZXR1cm5FeHByZXNzaW9uKHRlbXBsYXRlRWwsIGV4cHJlc3Npb24pKSA6IHBhcnNlRm9yRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICBsZXQgaXRlbXMgPSBldmFsdWF0ZUl0ZW1zQW5kUmV0dXJuRW1wdHlJZlhJZklzUHJlc2VudEFuZEZhbHNlT25FbGVtZW50KGNvbXBvbmVudCwgdGVtcGxhdGVFbCwgaXRlcmF0b3JOYW1lcywgZXh0cmFWYXJzKTsgLy8gQXMgd2Ugd2FsayB0aGUgYXJyYXksIHdlJ2xsIGFsc28gd2FsayB0aGUgRE9NICh1cGRhdGluZy9jcmVhdGluZyBhcyB3ZSBnbykuXG5cbiAgICBsZXQgY3VycmVudEVsID0gdGVtcGxhdGVFbDtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IGl0ZXJhdGlvblNjb3BlVmFyaWFibGVzID0gZ2V0SXRlcmF0aW9uU2NvcGVWYXJpYWJsZXMoaXRlcmF0b3JOYW1lcywgaXRlbSwgaW5kZXgsIGl0ZW1zLCBleHRyYVZhcnMoKSk7XG4gICAgICBsZXQgY3VycmVudEtleSA9IGdlbmVyYXRlS2V5Rm9ySXRlcmF0aW9uKGNvbXBvbmVudCwgdGVtcGxhdGVFbCwgaW5kZXgsIGl0ZXJhdGlvblNjb3BlVmFyaWFibGVzKTtcbiAgICAgIGxldCBuZXh0RWwgPSBsb29rQWhlYWRGb3JNYXRjaGluZ0tleWVkRWxlbWVudEFuZE1vdmVJdElmRm91bmQoY3VycmVudEVsLm5leHRFbGVtZW50U2libGluZywgY3VycmVudEtleSk7IC8vIElmIHdlIGhhdmVuJ3QgZm91bmQgYSBtYXRjaGluZyBrZXksIGluc2VydCB0aGUgZWxlbWVudCBhdCB0aGUgY3VycmVudCBwb3NpdGlvbi5cblxuICAgICAgaWYgKCFuZXh0RWwpIHtcbiAgICAgICAgbmV4dEVsID0gYWRkRWxlbWVudEluTG9vcEFmdGVyQ3VycmVudEVsKHRlbXBsYXRlRWwsIGN1cnJlbnRFbCk7IC8vIEFuZCB0cmFuc2l0aW9uIGl0IGluIGlmIGl0J3Mgbm90IHRoZSBmaXJzdCBwYWdlIGxvYWQuXG5cbiAgICAgICAgdHJhbnNpdGlvbkluKG5leHRFbCwgKCkgPT4ge30sICgpID0+IHt9LCBjb21wb25lbnQsIGluaXRpYWxVcGRhdGUpO1xuICAgICAgICBuZXh0RWwuX194X2ZvciA9IGl0ZXJhdGlvblNjb3BlVmFyaWFibGVzO1xuICAgICAgICBjb21wb25lbnQuaW5pdGlhbGl6ZUVsZW1lbnRzKG5leHRFbCwgKCkgPT4gbmV4dEVsLl9feF9mb3IpOyAvLyBPdGhlcndpc2UgdXBkYXRlIHRoZSBlbGVtZW50IHdlIGZvdW5kLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGVtcG9yYXJpbHkgcmVtb3ZlIHRoZSBrZXkgaW5kaWNhdG9yIHRvIGFsbG93IHRoZSBub3JtYWwgXCJ1cGRhdGVFbGVtZW50c1wiIHRvIHdvcmsuXG4gICAgICAgIGRlbGV0ZSBuZXh0RWwuX194X2Zvcl9rZXk7XG4gICAgICAgIG5leHRFbC5fX3hfZm9yID0gaXRlcmF0aW9uU2NvcGVWYXJpYWJsZXM7XG4gICAgICAgIGNvbXBvbmVudC51cGRhdGVFbGVtZW50cyhuZXh0RWwsICgpID0+IG5leHRFbC5fX3hfZm9yKTtcbiAgICAgIH1cblxuICAgICAgY3VycmVudEVsID0gbmV4dEVsO1xuICAgICAgY3VycmVudEVsLl9feF9mb3Jfa2V5ID0gY3VycmVudEtleTtcbiAgICB9KTtcbiAgICByZW1vdmVBbnlMZWZ0T3ZlckVsZW1lbnRzRnJvbVByZXZpb3VzVXBkYXRlKGN1cnJlbnRFbCwgY29tcG9uZW50KTtcbiAgfSAvLyBUaGlzIHdhcyB0YWtlbiBmcm9tIFZ1ZUpTIDIuKiBjb3JlLiBUaGFua3MgVnVlIVxuXG4gIGZ1bmN0aW9uIHBhcnNlRm9yRXhwcmVzc2lvbihleHByZXNzaW9uKSB7XG4gICAgbGV0IGZvckl0ZXJhdG9yUkUgPSAvLChbXixcXH1cXF1dKikoPzosKFteLFxcfVxcXV0qKSk/JC87XG4gICAgbGV0IHN0cmlwUGFyZW5zUkUgPSAvXlxcKHxcXCkkL2c7XG4gICAgbGV0IGZvckFsaWFzUkUgPSAvKFtcXHNcXFNdKj8pXFxzKyg/OmlufG9mKVxccysoW1xcc1xcU10qKS87XG4gICAgbGV0IGluTWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKGZvckFsaWFzUkUpO1xuICAgIGlmICghaW5NYXRjaCkgcmV0dXJuO1xuICAgIGxldCByZXMgPSB7fTtcbiAgICByZXMuaXRlbXMgPSBpbk1hdGNoWzJdLnRyaW0oKTtcbiAgICBsZXQgaXRlbSA9IGluTWF0Y2hbMV0udHJpbSgpLnJlcGxhY2Uoc3RyaXBQYXJlbnNSRSwgJycpO1xuICAgIGxldCBpdGVyYXRvck1hdGNoID0gaXRlbS5tYXRjaChmb3JJdGVyYXRvclJFKTtcblxuICAgIGlmIChpdGVyYXRvck1hdGNoKSB7XG4gICAgICByZXMuaXRlbSA9IGl0ZW0ucmVwbGFjZShmb3JJdGVyYXRvclJFLCAnJykudHJpbSgpO1xuICAgICAgcmVzLmluZGV4ID0gaXRlcmF0b3JNYXRjaFsxXS50cmltKCk7XG5cbiAgICAgIGlmIChpdGVyYXRvck1hdGNoWzJdKSB7XG4gICAgICAgIHJlcy5jb2xsZWN0aW9uID0gaXRlcmF0b3JNYXRjaFsyXS50cmltKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5pdGVtID0gaXRlbTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SXRlcmF0aW9uU2NvcGVWYXJpYWJsZXMoaXRlcmF0b3JOYW1lcywgaXRlbSwgaW5kZXgsIGl0ZW1zLCBleHRyYVZhcnMpIHtcbiAgICAvLyBXZSBtdXN0IGNyZWF0ZSBhIG5ldyBvYmplY3QsIHNvIGVhY2ggaXRlcmF0aW9uIGhhcyBhIG5ldyBzY29wZVxuICAgIGxldCBzY29wZVZhcmlhYmxlcyA9IGV4dHJhVmFycyA/IF9vYmplY3RTcHJlYWQyKHt9LCBleHRyYVZhcnMpIDoge307XG4gICAgc2NvcGVWYXJpYWJsZXNbaXRlcmF0b3JOYW1lcy5pdGVtXSA9IGl0ZW07XG4gICAgaWYgKGl0ZXJhdG9yTmFtZXMuaW5kZXgpIHNjb3BlVmFyaWFibGVzW2l0ZXJhdG9yTmFtZXMuaW5kZXhdID0gaW5kZXg7XG4gICAgaWYgKGl0ZXJhdG9yTmFtZXMuY29sbGVjdGlvbikgc2NvcGVWYXJpYWJsZXNbaXRlcmF0b3JOYW1lcy5jb2xsZWN0aW9uXSA9IGl0ZW1zO1xuICAgIHJldHVybiBzY29wZVZhcmlhYmxlcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlS2V5Rm9ySXRlcmF0aW9uKGNvbXBvbmVudCwgZWwsIGluZGV4LCBpdGVyYXRpb25TY29wZVZhcmlhYmxlcykge1xuICAgIGxldCBiaW5kS2V5QXR0cmlidXRlID0gZ2V0WEF0dHJzKGVsLCBjb21wb25lbnQsICdiaW5kJykuZmlsdGVyKGF0dHIgPT4gYXR0ci52YWx1ZSA9PT0gJ2tleScpWzBdOyAvLyBJZiB0aGUgZGV2IGhhc24ndCBzcGVjaWZpZWQgYSBrZXksIGp1c3QgcmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgaXRlcmF0aW9uLlxuXG4gICAgaWYgKCFiaW5kS2V5QXR0cmlidXRlKSByZXR1cm4gaW5kZXg7XG4gICAgcmV0dXJuIGNvbXBvbmVudC5ldmFsdWF0ZVJldHVybkV4cHJlc3Npb24oZWwsIGJpbmRLZXlBdHRyaWJ1dGUuZXhwcmVzc2lvbiwgKCkgPT4gaXRlcmF0aW9uU2NvcGVWYXJpYWJsZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXZhbHVhdGVJdGVtc0FuZFJldHVybkVtcHR5SWZYSWZJc1ByZXNlbnRBbmRGYWxzZU9uRWxlbWVudChjb21wb25lbnQsIGVsLCBpdGVyYXRvck5hbWVzLCBleHRyYVZhcnMpIHtcbiAgICBsZXQgaWZBdHRyaWJ1dGUgPSBnZXRYQXR0cnMoZWwsIGNvbXBvbmVudCwgJ2lmJylbMF07XG5cbiAgICBpZiAoaWZBdHRyaWJ1dGUgJiYgIWNvbXBvbmVudC5ldmFsdWF0ZVJldHVybkV4cHJlc3Npb24oZWwsIGlmQXR0cmlidXRlLmV4cHJlc3Npb24pKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgbGV0IGl0ZW1zID0gY29tcG9uZW50LmV2YWx1YXRlUmV0dXJuRXhwcmVzc2lvbihlbCwgaXRlcmF0b3JOYW1lcy5pdGVtcywgZXh0cmFWYXJzKTsgLy8gVGhpcyBhZGRzIHN1cHBvcnQgZm9yIHRoZSBgaSBpbiBuYCBzeW50YXguXG5cbiAgICBpZiAoaXNOdW1lcmljKGl0ZW1zKSAmJiBpdGVtcyA+IDApIHtcbiAgICAgIGl0ZW1zID0gQXJyYXkuZnJvbShBcnJheShpdGVtcykua2V5cygpLCBpID0+IGkgKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlbXM7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRFbGVtZW50SW5Mb29wQWZ0ZXJDdXJyZW50RWwodGVtcGxhdGVFbCwgY3VycmVudEVsKSB7XG4gICAgbGV0IGNsb25lID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZUVsLmNvbnRlbnQsIHRydWUpO1xuICAgIGN1cnJlbnRFbC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShjbG9uZSwgY3VycmVudEVsLm5leHRFbGVtZW50U2libGluZyk7XG4gICAgcmV0dXJuIGN1cnJlbnRFbC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBsb29rQWhlYWRGb3JNYXRjaGluZ0tleWVkRWxlbWVudEFuZE1vdmVJdElmRm91bmQobmV4dEVsLCBjdXJyZW50S2V5KSB7XG4gICAgaWYgKCFuZXh0RWwpIHJldHVybjsgLy8gSWYgd2UgYXJlIGFscmVhZHkgcGFzdCB0aGUgeC1mb3IgZ2VuZXJhdGVkIGVsZW1lbnRzLCB3ZSBkb24ndCBuZWVkIHRvIGxvb2sgYWhlYWQuXG5cbiAgICBpZiAobmV4dEVsLl9feF9mb3Jfa2V5ID09PSB1bmRlZmluZWQpIHJldHVybjsgLy8gSWYgdGhlIHRoZSBrZXkncyBETyBtYXRjaCwgbm8gbmVlZCB0byBsb29rIGFoZWFkLlxuXG4gICAgaWYgKG5leHRFbC5fX3hfZm9yX2tleSA9PT0gY3VycmVudEtleSkgcmV0dXJuIG5leHRFbDsgLy8gSWYgdGhleSBkb24ndCwgd2UnbGwgbG9vayBhaGVhZCBmb3IgYSBtYXRjaC5cbiAgICAvLyBJZiB3ZSBmaW5kIGl0LCB3ZSdsbCBtb3ZlIGl0IHRvIHRoZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBsb29wLlxuXG4gICAgbGV0IHRtcE5leHRFbCA9IG5leHRFbDtcblxuICAgIHdoaWxlICh0bXBOZXh0RWwpIHtcbiAgICAgIGlmICh0bXBOZXh0RWwuX194X2Zvcl9rZXkgPT09IGN1cnJlbnRLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRtcE5leHRFbC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh0bXBOZXh0RWwsIG5leHRFbCk7XG4gICAgICB9XG5cbiAgICAgIHRtcE5leHRFbCA9IHRtcE5leHRFbC5uZXh0RWxlbWVudFNpYmxpbmcgJiYgdG1wTmV4dEVsLm5leHRFbGVtZW50U2libGluZy5fX3hfZm9yX2tleSAhPT0gdW5kZWZpbmVkID8gdG1wTmV4dEVsLm5leHRFbGVtZW50U2libGluZyA6IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUFueUxlZnRPdmVyRWxlbWVudHNGcm9tUHJldmlvdXNVcGRhdGUoY3VycmVudEVsLCBjb21wb25lbnQpIHtcbiAgICB2YXIgbmV4dEVsZW1lbnRGcm9tT2xkTG9vcCA9IGN1cnJlbnRFbC5uZXh0RWxlbWVudFNpYmxpbmcgJiYgY3VycmVudEVsLm5leHRFbGVtZW50U2libGluZy5fX3hfZm9yX2tleSAhPT0gdW5kZWZpbmVkID8gY3VycmVudEVsLm5leHRFbGVtZW50U2libGluZyA6IGZhbHNlO1xuXG4gICAgd2hpbGUgKG5leHRFbGVtZW50RnJvbU9sZExvb3ApIHtcbiAgICAgIGxldCBuZXh0RWxlbWVudEZyb21PbGRMb29wSW1tdXRhYmxlID0gbmV4dEVsZW1lbnRGcm9tT2xkTG9vcDtcbiAgICAgIGxldCBuZXh0U2libGluZyA9IG5leHRFbGVtZW50RnJvbU9sZExvb3AubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgdHJhbnNpdGlvbk91dChuZXh0RWxlbWVudEZyb21PbGRMb29wLCAoKSA9PiB7XG4gICAgICAgIG5leHRFbGVtZW50RnJvbU9sZExvb3BJbW11dGFibGUucmVtb3ZlKCk7XG4gICAgICB9LCAoKSA9PiB7fSwgY29tcG9uZW50KTtcbiAgICAgIG5leHRFbGVtZW50RnJvbU9sZExvb3AgPSBuZXh0U2libGluZyAmJiBuZXh0U2libGluZy5fX3hfZm9yX2tleSAhPT0gdW5kZWZpbmVkID8gbmV4dFNpYmxpbmcgOiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVBdHRyaWJ1dGVCaW5kaW5nRGlyZWN0aXZlKGNvbXBvbmVudCwgZWwsIGF0dHJOYW1lLCBleHByZXNzaW9uLCBleHRyYVZhcnMsIGF0dHJUeXBlLCBtb2RpZmllcnMpIHtcbiAgICB2YXIgdmFsdWUgPSBjb21wb25lbnQuZXZhbHVhdGVSZXR1cm5FeHByZXNzaW9uKGVsLCBleHByZXNzaW9uLCBleHRyYVZhcnMpO1xuXG4gICAgaWYgKGF0dHJOYW1lID09PSAndmFsdWUnKSB7XG4gICAgICBpZiAoQWxwaW5lLmlnbm9yZUZvY3VzZWRGb3JWYWx1ZUJpbmRpbmcgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pc1NhbWVOb2RlKGVsKSkgcmV0dXJuOyAvLyBJZiBuZXN0ZWQgbW9kZWwga2V5IGlzIHVuZGVmaW5lZCwgc2V0IHRoZSBkZWZhdWx0IHZhbHVlIHRvIGVtcHR5IHN0cmluZy5cblxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgZXhwcmVzc2lvbi5tYXRjaCgvXFwuLykpIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKGVsLnR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgLy8gU2V0IHJhZGlvIHZhbHVlIGZyb20geC1iaW5kOnZhbHVlLCBpZiBubyBcInZhbHVlXCIgYXR0cmlidXRlIGV4aXN0cy5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBpbml0aWFsIHN0YXRlIHZhbHVlcywgcmFkaW8gd2lsbCBoYXZlIGEgY29ycmVjdFxuICAgICAgICAvLyBcImNoZWNrZWRcIiB2YWx1ZSBzaW5jZSB4LWJpbmQ6dmFsdWUgaXMgcHJvY2Vzc2VkIGJlZm9yZSB4LW1vZGVsLlxuICAgICAgICBpZiAoZWwuYXR0cmlidXRlcy52YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGF0dHJUeXBlID09PSAnYmluZCcpIHtcbiAgICAgICAgICBlbC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJUeXBlICE9PSAnYmluZCcpIHtcbiAgICAgICAgICBlbC5jaGVja2VkID0gY2hlY2tlZEF0dHJMb29zZUNvbXBhcmUoZWwudmFsdWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBleHBsaWNpdGx5IGJpbmRpbmcgYSBzdHJpbmcgdG8gdGhlIDp2YWx1ZSwgc2V0IHRoZSBzdHJpbmcsXG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBhIGJvb2xlYW4sIGxlYXZlIGl0IGFsb25lLCBpdCB3aWxsIGJlIHNldCB0byBcIm9uXCJcbiAgICAgICAgLy8gYXV0b21hdGljYWxseS5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nICYmICFbbnVsbCwgdW5kZWZpbmVkXS5pbmNsdWRlcyh2YWx1ZSkgJiYgYXR0clR5cGUgPT09ICdiaW5kJykge1xuICAgICAgICAgIGVsLnZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyVHlwZSAhPT0gJ2JpbmQnKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBJJ20gcHVycG9zZWx5IG5vdCB1c2luZyBBcnJheS5pbmNsdWRlcyBoZXJlIGJlY2F1c2UgaXQnc1xuICAgICAgICAgICAgLy8gc3RyaWN0LCBhbmQgYmVjYXVzZSBvZiBOdW1lcmljL1N0cmluZyBtaXMtY2FzdGluZywgSVxuICAgICAgICAgICAgLy8gd2FudCB0aGUgXCJpbmNsdWRlc1wiIHRvIGJlIFwiZnV6enlcIi5cbiAgICAgICAgICAgIGVsLmNoZWNrZWQgPSB2YWx1ZS5zb21lKHZhbCA9PiBjaGVja2VkQXR0ckxvb3NlQ29tcGFyZSh2YWwsIGVsLnZhbHVlKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmNoZWNrZWQgPSAhIXZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbC50YWdOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgICB1cGRhdGVTZWxlY3QoZWwsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChlbC52YWx1ZSA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgZWwudmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGF0dHJOYW1lID09PSAnY2xhc3MnKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxDbGFzc2VzID0gZWwuX194X29yaWdpbmFsX2NsYXNzZXMgfHwgW107XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBhcnJheVVuaXF1ZShvcmlnaW5hbENsYXNzZXMuY29uY2F0KHZhbHVlKSkuam9pbignICcpKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBTb3J0aW5nIHRoZSBrZXlzIC8gY2xhc3MgbmFtZXMgYnkgdGhlaXIgYm9vbGVhbiB2YWx1ZSB3aWxsIGVuc3VyZSB0aGF0XG4gICAgICAgIC8vIGFueXRoaW5nIHRoYXQgZXZhbHVhdGVzIHRvIGBmYWxzZWAgYW5kIG5lZWRzIHRvIHJlbW92ZSBjbGFzc2VzIGlzIHJ1biBmaXJzdC5cbiAgICAgICAgY29uc3Qga2V5c1NvcnRlZEJ5Qm9vbGVhblZhbHVlID0gT2JqZWN0LmtleXModmFsdWUpLnNvcnQoKGEsIGIpID0+IHZhbHVlW2FdIC0gdmFsdWVbYl0pO1xuICAgICAgICBrZXlzU29ydGVkQnlCb29sZWFuVmFsdWUuZm9yRWFjaChjbGFzc05hbWVzID0+IHtcbiAgICAgICAgICBpZiAodmFsdWVbY2xhc3NOYW1lc10pIHtcbiAgICAgICAgICAgIGNvbnZlcnRDbGFzc1N0cmluZ1RvQXJyYXkoY2xhc3NOYW1lcykuZm9yRWFjaChjbGFzc05hbWUgPT4gZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udmVydENsYXNzU3RyaW5nVG9BcnJheShjbGFzc05hbWVzKS5mb3JFYWNoKGNsYXNzTmFtZSA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvcmlnaW5hbENsYXNzZXMgPSBlbC5fX3hfb3JpZ2luYWxfY2xhc3NlcyB8fCBbXTtcbiAgICAgICAgY29uc3QgbmV3Q2xhc3NlcyA9IHZhbHVlID8gY29udmVydENsYXNzU3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBbXTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGFycmF5VW5pcXVlKG9yaWdpbmFsQ2xhc3Nlcy5jb25jYXQobmV3Q2xhc3NlcykpLmpvaW4oJyAnKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGF0dHJOYW1lID0gbW9kaWZpZXJzLmluY2x1ZGVzKCdjYW1lbCcpID8gY2FtZWxDYXNlKGF0dHJOYW1lKSA6IGF0dHJOYW1lOyAvLyBJZiBhbiBhdHRyaWJ1dGUncyBib3VuZCB2YWx1ZSBpcyBudWxsLCB1bmRlZmluZWQgb3IgZmFsc2UsIHJlbW92ZSB0aGUgYXR0cmlidXRlXG5cbiAgICAgIGlmIChbbnVsbCwgdW5kZWZpbmVkLCBmYWxzZV0uaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc0Jvb2xlYW5BdHRyKGF0dHJOYW1lKSA/IHNldElmQ2hhbmdlZChlbCwgYXR0ck5hbWUsIGF0dHJOYW1lKSA6IHNldElmQ2hhbmdlZChlbCwgYXR0ck5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJZkNoYW5nZWQoZWwsIGF0dHJOYW1lLCB2YWx1ZSkge1xuICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpICE9IHZhbHVlKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTZWxlY3QoZWwsIHZhbHVlKSB7XG4gICAgY29uc3QgYXJyYXlXcmFwcGVkVmFsdWUgPSBbXS5jb25jYXQodmFsdWUpLm1hcCh2YWx1ZSA9PiB7XG4gICAgICByZXR1cm4gdmFsdWUgKyAnJztcbiAgICB9KTtcbiAgICBBcnJheS5mcm9tKGVsLm9wdGlvbnMpLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGFycmF5V3JhcHBlZFZhbHVlLmluY2x1ZGVzKG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUZXh0RGlyZWN0aXZlKGVsLCBvdXRwdXQsIGV4cHJlc3Npb24pIHtcbiAgICAvLyBJZiBuZXN0ZWQgbW9kZWwga2V5IGlzIHVuZGVmaW5lZCwgc2V0IHRoZSBkZWZhdWx0IHZhbHVlIHRvIGVtcHR5IHN0cmluZy5cbiAgICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQgJiYgZXhwcmVzc2lvbi5tYXRjaCgvXFwuLykpIHtcbiAgICAgIG91dHB1dCA9ICcnO1xuICAgIH1cblxuICAgIGVsLnRleHRDb250ZW50ID0gb3V0cHV0O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSHRtbERpcmVjdGl2ZShjb21wb25lbnQsIGVsLCBleHByZXNzaW9uLCBleHRyYVZhcnMpIHtcbiAgICBlbC5pbm5lckhUTUwgPSBjb21wb25lbnQuZXZhbHVhdGVSZXR1cm5FeHByZXNzaW9uKGVsLCBleHByZXNzaW9uLCBleHRyYVZhcnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2hvd0RpcmVjdGl2ZShjb21wb25lbnQsIGVsLCB2YWx1ZSwgbW9kaWZpZXJzLCBpbml0aWFsVXBkYXRlID0gZmFsc2UpIHtcbiAgICBjb25zdCBoaWRlID0gKCkgPT4ge1xuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGVsLl9feF9pc19zaG93biA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBjb25zdCBzaG93ID0gKCkgPT4ge1xuICAgICAgaWYgKGVsLnN0eWxlLmxlbmd0aCA9PT0gMSAmJiBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcbiAgICAgIH1cblxuICAgICAgZWwuX194X2lzX3Nob3duID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgaWYgKGluaXRpYWxVcGRhdGUgPT09IHRydWUpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBzaG93KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGUgPSAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyB8fCBlbC5fX3hfdHJhbnNpdGlvbikge1xuICAgICAgICAgIHRyYW5zaXRpb25JbihlbCwgKCkgPT4ge1xuICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICAgIH0sIHJlamVjdCwgY29tcG9uZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUoKCkgPT4ge30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykge1xuICAgICAgICAgIHRyYW5zaXRpb25PdXQoZWwsICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKCkgPT4ge1xuICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCByZWplY3QsIGNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgoKSA9PiB7fSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyBUaGUgd29ya2luZyBvZiB4LXNob3cgaXMgYSBiaXQgY29tcGxleCBiZWNhdXNlIHdlIG5lZWQgdG9cbiAgICAvLyB3YWl0IGZvciBhbnkgY2hpbGQgdHJhbnNpdGlvbnMgdG8gZmluaXNoIGJlZm9yZSBoaWRpbmdcbiAgICAvLyBzb21lIGVsZW1lbnQuIEFsc28sIHRoaXMgaGFzIHRvIGJlIGRvbmUgcmVjdXJzaXZlbHkuXG4gICAgLy8gSWYgeC1zaG93LmltbWVkaWF0ZSwgZm9yZWdvZSB0aGUgd2FpdGluZy5cblxuXG4gICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnaW1tZWRpYXRlJykpIHtcbiAgICAgIGhhbmRsZShmaW5pc2ggPT4gZmluaXNoKCksICgpID0+IHt9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHgtc2hvdyBpcyBlbmNvdW50ZXJlZCBkdXJpbmcgYSBET00gdHJlZSB3YWxrLiBJZiBhbiBlbGVtZW50XG4gICAgLy8gd2UgZW5jb3VudGVyIGlzIE5PVCBhIGNoaWxkIG9mIGFub3RoZXIgeC1zaG93IGVsZW1lbnQgd2VcbiAgICAvLyBjYW4gZXhlY3V0ZSB0aGUgcHJldmlvdXMgeC1zaG93IHN0YWNrIChpZiBvbmUgZXhpc3RzKS5cblxuXG4gICAgaWYgKGNvbXBvbmVudC5zaG93RGlyZWN0aXZlTGFzdEVsZW1lbnQgJiYgIWNvbXBvbmVudC5zaG93RGlyZWN0aXZlTGFzdEVsZW1lbnQuY29udGFpbnMoZWwpKSB7XG4gICAgICBjb21wb25lbnQuZXhlY3V0ZUFuZENsZWFyUmVtYWluaW5nU2hvd0RpcmVjdGl2ZVN0YWNrKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50LnNob3dEaXJlY3RpdmVTdGFjay5wdXNoKGhhbmRsZSk7XG4gICAgY29tcG9uZW50LnNob3dEaXJlY3RpdmVMYXN0RWxlbWVudCA9IGVsO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSWZEaXJlY3RpdmUoY29tcG9uZW50LCBlbCwgZXhwcmVzc2lvblJlc3VsdCwgaW5pdGlhbFVwZGF0ZSwgZXh0cmFWYXJzKSB7XG4gICAgd2FybklmTWFsZm9ybWVkVGVtcGxhdGUoZWwsICd4LWlmJyk7XG4gICAgY29uc3QgZWxlbWVudEhhc0FscmVhZHlCZWVuQWRkZWQgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmcgJiYgZWwubmV4dEVsZW1lbnRTaWJsaW5nLl9feF9pbnNlcnRlZF9tZSA9PT0gdHJ1ZTtcblxuICAgIGlmIChleHByZXNzaW9uUmVzdWx0ICYmICghZWxlbWVudEhhc0FscmVhZHlCZWVuQWRkZWQgfHwgZWwuX194X3RyYW5zaXRpb24pKSB7XG4gICAgICBjb25zdCBjbG9uZSA9IGRvY3VtZW50LmltcG9ydE5vZGUoZWwuY29udGVudCwgdHJ1ZSk7XG4gICAgICBlbC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShjbG9uZSwgZWwubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgICAgIHRyYW5zaXRpb25JbihlbC5uZXh0RWxlbWVudFNpYmxpbmcsICgpID0+IHt9LCAoKSA9PiB7fSwgY29tcG9uZW50LCBpbml0aWFsVXBkYXRlKTtcbiAgICAgIGNvbXBvbmVudC5pbml0aWFsaXplRWxlbWVudHMoZWwubmV4dEVsZW1lbnRTaWJsaW5nLCBleHRyYVZhcnMpO1xuICAgICAgZWwubmV4dEVsZW1lbnRTaWJsaW5nLl9feF9pbnNlcnRlZF9tZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICghZXhwcmVzc2lvblJlc3VsdCAmJiBlbGVtZW50SGFzQWxyZWFkeUJlZW5BZGRlZCkge1xuICAgICAgdHJhbnNpdGlvbk91dChlbC5uZXh0RWxlbWVudFNpYmxpbmcsICgpID0+IHtcbiAgICAgICAgZWwubmV4dEVsZW1lbnRTaWJsaW5nLnJlbW92ZSgpO1xuICAgICAgfSwgKCkgPT4ge30sIGNvbXBvbmVudCwgaW5pdGlhbFVwZGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXJMaXN0ZW5lcihjb21wb25lbnQsIGVsLCBldmVudCwgbW9kaWZpZXJzLCBleHByZXNzaW9uLCBleHRyYVZhcnMgPSB7fSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBwYXNzaXZlOiBtb2RpZmllcnMuaW5jbHVkZXMoJ3Bhc3NpdmUnKVxuICAgIH07XG5cbiAgICBpZiAobW9kaWZpZXJzLmluY2x1ZGVzKCdjYW1lbCcpKSB7XG4gICAgICBldmVudCA9IGNhbWVsQ2FzZShldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnYXdheScpKSB7XG4gICAgICBsZXQgaGFuZGxlciA9IGUgPT4ge1xuICAgICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGUgY2xpY2sgY2FtZSBmcm9tIHRoZSBlbGVtZW50IG9yIHdpdGhpbiBpdC5cbiAgICAgICAgaWYgKGVsLmNvbnRhaW5zKGUudGFyZ2V0KSkgcmV0dXJuOyAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGlzIGVsZW1lbnQgaXNuJ3QgY3VycmVudGx5IHZpc2libGUuXG5cbiAgICAgICAgaWYgKGVsLm9mZnNldFdpZHRoIDwgMSAmJiBlbC5vZmZzZXRIZWlnaHQgPCAxKSByZXR1cm47IC8vIE5vdyB0aGF0IHdlIGFyZSBzdXJlIHRoZSBlbGVtZW50IGlzIHZpc2libGUsIEFORCB0aGUgY2xpY2tcbiAgICAgICAgLy8gaXMgZnJvbSBvdXRzaWRlIGl0LCBsZXQncyBydW4gdGhlIGV4cHJlc3Npb24uXG5cbiAgICAgICAgcnVuTGlzdGVuZXJIYW5kbGVyKGNvbXBvbmVudCwgZXhwcmVzc2lvbiwgZSwgZXh0cmFWYXJzKTtcblxuICAgICAgICBpZiAobW9kaWZpZXJzLmluY2x1ZGVzKCdvbmNlJykpIHtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfTsgLy8gTGlzdGVuIGZvciB0aGlzIGV2ZW50IGF0IHRoZSByb290IGxldmVsLlxuXG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbGlzdGVuZXJUYXJnZXQgPSBtb2RpZmllcnMuaW5jbHVkZXMoJ3dpbmRvdycpID8gd2luZG93IDogbW9kaWZpZXJzLmluY2x1ZGVzKCdkb2N1bWVudCcpID8gZG9jdW1lbnQgOiBlbDtcblxuICAgICAgbGV0IGhhbmRsZXIgPSBlID0+IHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgZ2xvYmFsIGV2ZW50IGhhbmRsZXIgaWYgdGhlIGVsZW1lbnQgdGhhdCBkZWNsYXJlZCBpdFxuICAgICAgICAvLyBoYXMgYmVlbiByZW1vdmVkLiBJdCdzIG5vdyBzdGFsZS5cbiAgICAgICAgaWYgKGxpc3RlbmVyVGFyZ2V0ID09PSB3aW5kb3cgfHwgbGlzdGVuZXJUYXJnZXQgPT09IGRvY3VtZW50KSB7XG4gICAgICAgICAgaWYgKCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGVsKSkge1xuICAgICAgICAgICAgbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzS2V5RXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgaWYgKGlzTGlzdGVuaW5nRm9yQVNwZWNpZmljS2V5VGhhdEhhc250QmVlblByZXNzZWQoZSwgbW9kaWZpZXJzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RpZmllcnMuaW5jbHVkZXMoJ3ByZXZlbnQnKSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAobW9kaWZpZXJzLmluY2x1ZGVzKCdzdG9wJykpIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIElmIHRoZSAuc2VsZiBtb2RpZmllciBpc24ndCBwcmVzZW50LCBvciBpZiBpdCBpcyBwcmVzZW50IGFuZFxuICAgICAgICAvLyB0aGUgdGFyZ2V0IGVsZW1lbnQgbWF0Y2hlcyB0aGUgZWxlbWVudCB3ZSBhcmUgcmVnaXN0ZXJpbmcgdGhlXG4gICAgICAgIC8vIGV2ZW50IG9uLCBydW4gdGhlIGhhbmRsZXJcblxuICAgICAgICBpZiAoIW1vZGlmaWVycy5pbmNsdWRlcygnc2VsZicpIHx8IGUudGFyZ2V0ID09PSBlbCkge1xuICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gcnVuTGlzdGVuZXJIYW5kbGVyKGNvbXBvbmVudCwgZXhwcmVzc2lvbiwgZSwgZXh0cmFWYXJzKTtcbiAgICAgICAgICByZXR1cm5WYWx1ZS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnb25jZScpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnZGVib3VuY2UnKSkge1xuICAgICAgICBsZXQgbmV4dE1vZGlmaWVyID0gbW9kaWZpZXJzW21vZGlmaWVycy5pbmRleE9mKCdkZWJvdW5jZScpICsgMV0gfHwgJ2ludmFsaWQtd2FpdCc7XG4gICAgICAgIGxldCB3YWl0ID0gaXNOdW1lcmljKG5leHRNb2RpZmllci5zcGxpdCgnbXMnKVswXSkgPyBOdW1iZXIobmV4dE1vZGlmaWVyLnNwbGl0KCdtcycpWzBdKSA6IDI1MDtcbiAgICAgICAgaGFuZGxlciA9IGRlYm91bmNlKGhhbmRsZXIsIHdhaXQpO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBydW5MaXN0ZW5lckhhbmRsZXIoY29tcG9uZW50LCBleHByZXNzaW9uLCBlLCBleHRyYVZhcnMpIHtcbiAgICByZXR1cm4gY29tcG9uZW50LmV2YWx1YXRlQ29tbWFuZEV4cHJlc3Npb24oZS50YXJnZXQsIGV4cHJlc3Npb24sICgpID0+IHtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgZXh0cmFWYXJzKCkpLCB7fSwge1xuICAgICAgICAnJGV2ZW50JzogZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0tleUV2ZW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIFsna2V5ZG93bicsICdrZXl1cCddLmluY2x1ZGVzKGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTGlzdGVuaW5nRm9yQVNwZWNpZmljS2V5VGhhdEhhc250QmVlblByZXNzZWQoZSwgbW9kaWZpZXJzKSB7XG4gICAgbGV0IGtleU1vZGlmaWVycyA9IG1vZGlmaWVycy5maWx0ZXIoaSA9PiB7XG4gICAgICByZXR1cm4gIVsnd2luZG93JywgJ2RvY3VtZW50JywgJ3ByZXZlbnQnLCAnc3RvcCddLmluY2x1ZGVzKGkpO1xuICAgIH0pO1xuXG4gICAgaWYgKGtleU1vZGlmaWVycy5pbmNsdWRlcygnZGVib3VuY2UnKSkge1xuICAgICAgbGV0IGRlYm91bmNlSW5kZXggPSBrZXlNb2RpZmllcnMuaW5kZXhPZignZGVib3VuY2UnKTtcbiAgICAgIGtleU1vZGlmaWVycy5zcGxpY2UoZGVib3VuY2VJbmRleCwgaXNOdW1lcmljKChrZXlNb2RpZmllcnNbZGVib3VuY2VJbmRleCArIDFdIHx8ICdpbnZhbGlkLXdhaXQnKS5zcGxpdCgnbXMnKVswXSkgPyAyIDogMSk7XG4gICAgfSAvLyBJZiBubyBtb2RpZmllciBpcyBzcGVjaWZpZWQsIHdlJ2xsIGNhbGwgaXQgYSBwcmVzcy5cblxuXG4gICAgaWYgKGtleU1vZGlmaWVycy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTsgLy8gSWYgb25lIGlzIHBhc3NlZCwgQU5EIGl0IG1hdGNoZXMgdGhlIGtleSBwcmVzc2VkLCB3ZSdsbCBjYWxsIGl0IGEgcHJlc3MuXG5cbiAgICBpZiAoa2V5TW9kaWZpZXJzLmxlbmd0aCA9PT0gMSAmJiBrZXlNb2RpZmllcnNbMF0gPT09IGtleVRvTW9kaWZpZXIoZS5rZXkpKSByZXR1cm4gZmFsc2U7IC8vIFRoZSB1c2VyIGlzIGxpc3RlbmluZyBmb3Iga2V5IGNvbWJpbmF0aW9ucy5cblxuICAgIGNvbnN0IHN5c3RlbUtleU1vZGlmaWVycyA9IFsnY3RybCcsICdzaGlmdCcsICdhbHQnLCAnbWV0YScsICdjbWQnLCAnc3VwZXInXTtcbiAgICBjb25zdCBzZWxlY3RlZFN5c3RlbUtleU1vZGlmaWVycyA9IHN5c3RlbUtleU1vZGlmaWVycy5maWx0ZXIobW9kaWZpZXIgPT4ga2V5TW9kaWZpZXJzLmluY2x1ZGVzKG1vZGlmaWVyKSk7XG4gICAga2V5TW9kaWZpZXJzID0ga2V5TW9kaWZpZXJzLmZpbHRlcihpID0+ICFzZWxlY3RlZFN5c3RlbUtleU1vZGlmaWVycy5pbmNsdWRlcyhpKSk7XG5cbiAgICBpZiAoc2VsZWN0ZWRTeXN0ZW1LZXlNb2RpZmllcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYWN0aXZlbHlQcmVzc2VkS2V5TW9kaWZpZXJzID0gc2VsZWN0ZWRTeXN0ZW1LZXlNb2RpZmllcnMuZmlsdGVyKG1vZGlmaWVyID0+IHtcbiAgICAgICAgLy8gQWxpYXMgXCJjbWRcIiBhbmQgXCJzdXBlclwiIHRvIFwibWV0YVwiXG4gICAgICAgIGlmIChtb2RpZmllciA9PT0gJ2NtZCcgfHwgbW9kaWZpZXIgPT09ICdzdXBlcicpIG1vZGlmaWVyID0gJ21ldGEnO1xuICAgICAgICByZXR1cm4gZVtgJHttb2RpZmllcn1LZXlgXTtcbiAgICAgIH0pOyAvLyBJZiBhbGwgdGhlIG1vZGlmaWVycyBzZWxlY3RlZCBhcmUgcHJlc3NlZCwgLi4uXG5cbiAgICAgIGlmIChhY3RpdmVseVByZXNzZWRLZXlNb2RpZmllcnMubGVuZ3RoID09PSBzZWxlY3RlZFN5c3RlbUtleU1vZGlmaWVycy5sZW5ndGgpIHtcbiAgICAgICAgLy8gQU5EIHRoZSByZW1haW5pbmcga2V5IGlzIHByZXNzZWQgYXMgd2VsbC4gSXQncyBhIHByZXNzLlxuICAgICAgICBpZiAoa2V5TW9kaWZpZXJzWzBdID09PSBrZXlUb01vZGlmaWVyKGUua2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gLy8gV2UnbGwgY2FsbCBpdCBOT1QgYSB2YWxpZCBrZXlwcmVzcy5cblxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBrZXlUb01vZGlmaWVyKGtleSkge1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICcvJzpcbiAgICAgICAgcmV0dXJuICdzbGFzaCc7XG5cbiAgICAgIGNhc2UgJyAnOlxuICAgICAgY2FzZSAnU3BhY2ViYXInOlxuICAgICAgICByZXR1cm4gJ3NwYWNlJztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGtleSAmJiBrZWJhYkNhc2Uoa2V5KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3Rlck1vZGVsTGlzdGVuZXIoY29tcG9uZW50LCBlbCwgbW9kaWZpZXJzLCBleHByZXNzaW9uLCBleHRyYVZhcnMpIHtcbiAgICAvLyBJZiB0aGUgZWxlbWVudCB3ZSBhcmUgYmluZGluZyB0byBpcyBhIHNlbGVjdCwgYSByYWRpbywgb3IgY2hlY2tib3hcbiAgICAvLyB3ZSdsbCBsaXN0ZW4gZm9yIHRoZSBjaGFuZ2UgZXZlbnQgaW5zdGVhZCBvZiB0aGUgXCJpbnB1dFwiIGV2ZW50LlxuICAgIHZhciBldmVudCA9IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcgfHwgWydjaGVja2JveCcsICdyYWRpbyddLmluY2x1ZGVzKGVsLnR5cGUpIHx8IG1vZGlmaWVycy5pbmNsdWRlcygnbGF6eScpID8gJ2NoYW5nZScgOiAnaW5wdXQnO1xuICAgIGNvbnN0IGxpc3RlbmVyRXhwcmVzc2lvbiA9IGAke2V4cHJlc3Npb259ID0gcmlnaHRTaWRlT2ZFeHByZXNzaW9uKCRldmVudCwgJHtleHByZXNzaW9ufSlgO1xuICAgIHJlZ2lzdGVyTGlzdGVuZXIoY29tcG9uZW50LCBlbCwgZXZlbnQsIG1vZGlmaWVycywgbGlzdGVuZXJFeHByZXNzaW9uLCAoKSA9PiB7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGV4dHJhVmFycygpKSwge30sIHtcbiAgICAgICAgcmlnaHRTaWRlT2ZFeHByZXNzaW9uOiBnZW5lcmF0ZU1vZGVsQXNzaWdubWVudEZ1bmN0aW9uKGVsLCBtb2RpZmllcnMsIGV4cHJlc3Npb24pXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlTW9kZWxBc3NpZ25tZW50RnVuY3Rpb24oZWwsIG1vZGlmaWVycywgZXhwcmVzc2lvbikge1xuICAgIGlmIChlbC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAvLyBSYWRpbyBidXR0b25zIG9ubHkgd29yayBwcm9wZXJseSB3aGVuIHRoZXkgc2hhcmUgYSBuYW1lIGF0dHJpYnV0ZS5cbiAgICAgIC8vIFBlb3BsZSBtaWdodCBhc3N1bWUgd2UgdGFrZSBjYXJlIG9mIHRoYXQgZm9yIHRoZW0sIGJlY2F1c2VcbiAgICAgIC8vIHRoZXkgYWxyZWFkeSBzZXQgYSBzaGFyZWQgXCJ4LW1vZGVsXCIgYXR0cmlidXRlLlxuICAgICAgaWYgKCFlbC5oYXNBdHRyaWJ1dGUoJ25hbWUnKSkgZWwuc2V0QXR0cmlidXRlKCduYW1lJywgZXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIChldmVudCwgY3VycmVudFZhbHVlKSA9PiB7XG4gICAgICAvLyBDaGVjayBmb3IgZXZlbnQuZGV0YWlsIGR1ZSB0byBhbiBpc3N1ZSB3aGVyZSBJRTExIGhhbmRsZXMgb3RoZXIgZXZlbnRzIGFzIGEgQ3VzdG9tRXZlbnQuXG4gICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBDdXN0b21FdmVudCAmJiBldmVudC5kZXRhaWwpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmRldGFpbDtcbiAgICAgIH0gZWxzZSBpZiAoZWwudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAvLyBJZiB0aGUgZGF0YSB3ZSBhcmUgYmluZGluZyB0byBpcyBhbiBhcnJheSwgdG9nZ2xlIGl0cyB2YWx1ZSBpbnNpZGUgdGhlIGFycmF5LlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBtb2RpZmllcnMuaW5jbHVkZXMoJ251bWJlcicpID8gc2FmZVBhcnNlTnVtYmVyKGV2ZW50LnRhcmdldC52YWx1ZSkgOiBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC5jaGVja2VkID8gY3VycmVudFZhbHVlLmNvbmNhdChbbmV3VmFsdWVdKSA6IGN1cnJlbnRWYWx1ZS5maWx0ZXIoZWwgPT4gIWNoZWNrZWRBdHRyTG9vc2VDb21wYXJlKGVsLCBuZXdWYWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3QnICYmIGVsLm11bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiBtb2RpZmllcnMuaW5jbHVkZXMoJ251bWJlcicpID8gQXJyYXkuZnJvbShldmVudC50YXJnZXQuc2VsZWN0ZWRPcHRpb25zKS5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dDtcbiAgICAgICAgICByZXR1cm4gc2FmZVBhcnNlTnVtYmVyKHJhd1ZhbHVlKTtcbiAgICAgICAgfSkgOiBBcnJheS5mcm9tKGV2ZW50LnRhcmdldC5zZWxlY3RlZE9wdGlvbnMpLm1hcChvcHRpb24gPT4ge1xuICAgICAgICAgIHJldHVybiBvcHRpb24udmFsdWUgfHwgb3B0aW9uLnRleHQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmF3VmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIHJldHVybiBtb2RpZmllcnMuaW5jbHVkZXMoJ251bWJlcicpID8gc2FmZVBhcnNlTnVtYmVyKHJhd1ZhbHVlKSA6IG1vZGlmaWVycy5pbmNsdWRlcygndHJpbScpID8gcmF3VmFsdWUudHJpbSgpIDogcmF3VmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNhZmVQYXJzZU51bWJlcihyYXdWYWx1ZSkge1xuICAgIGNvbnN0IG51bWJlciA9IHJhd1ZhbHVlID8gcGFyc2VGbG9hdChyYXdWYWx1ZSkgOiBudWxsO1xuICAgIHJldHVybiBpc051bWVyaWMobnVtYmVyKSA/IG51bWJlciA6IHJhd1ZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHlyaWdodCAoQykgMjAxNyBzYWxlc2ZvcmNlLmNvbSwgaW5jLlxuICAgKi9cbiAgY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcbiAgY29uc3QgeyBnZXRQcm90b3R5cGVPZiwgY3JlYXRlOiBPYmplY3RDcmVhdGUsIGRlZmluZVByb3BlcnR5OiBPYmplY3REZWZpbmVQcm9wZXJ0eSwgZGVmaW5lUHJvcGVydGllczogT2JqZWN0RGVmaW5lUHJvcGVydGllcywgaXNFeHRlbnNpYmxlLCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIGdldE93blByb3BlcnR5TmFtZXMsIGdldE93blByb3BlcnR5U3ltYm9scywgcHJldmVudEV4dGVuc2lvbnMsIGhhc093blByb3BlcnR5LCB9ID0gT2JqZWN0O1xuICBjb25zdCB7IHB1c2g6IEFycmF5UHVzaCwgY29uY2F0OiBBcnJheUNvbmNhdCwgbWFwOiBBcnJheU1hcCwgfSA9IEFycmF5LnByb3RvdHlwZTtcbiAgZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nO1xuICB9XG4gIGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnO1xuICB9XG4gIGNvbnN0IHByb3h5VG9WYWx1ZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyUHJveHkocHJveHksIHZhbHVlKSB7XG4gICAgICBwcm94eVRvVmFsdWVNYXAuc2V0KHByb3h5LCB2YWx1ZSk7XG4gIH1cbiAgY29uc3QgdW53cmFwID0gKHJlcGxpY2FPckFueSkgPT4gcHJveHlUb1ZhbHVlTWFwLmdldChyZXBsaWNhT3JBbnkpIHx8IHJlcGxpY2FPckFueTtcblxuICBmdW5jdGlvbiB3cmFwVmFsdWUobWVtYnJhbmUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gbWVtYnJhbmUudmFsdWVJc09ic2VydmFibGUodmFsdWUpID8gbWVtYnJhbmUuZ2V0UHJveHkodmFsdWUpIDogdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIFVud3JhcCBwcm9wZXJ0eSBkZXNjcmlwdG9ycyB3aWxsIHNldCB2YWx1ZSBvbiBvcmlnaW5hbCBkZXNjcmlwdG9yXG4gICAqIFdlIG9ubHkgbmVlZCB0byB1bndyYXAgaWYgdmFsdWUgaXMgc3BlY2lmaWVkXG4gICAqIEBwYXJhbSBkZXNjcmlwdG9yIGV4dGVybmFsIGRlc2NycGl0b3IgcHJvdmlkZWQgdG8gZGVmaW5lIG5ldyBwcm9wZXJ0eSBvbiBvcmlnaW5hbCB2YWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gdW53cmFwRGVzY3JpcHRvcihkZXNjcmlwdG9yKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChkZXNjcmlwdG9yLCAndmFsdWUnKSkge1xuICAgICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSB1bndyYXAoZGVzY3JpcHRvci52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgfVxuICBmdW5jdGlvbiBsb2NrU2hhZG93VGFyZ2V0KG1lbWJyYW5lLCBzaGFkb3dUYXJnZXQsIG9yaWdpbmFsVGFyZ2V0KSB7XG4gICAgICBjb25zdCB0YXJnZXRLZXlzID0gQXJyYXlDb25jYXQuY2FsbChnZXRPd25Qcm9wZXJ0eU5hbWVzKG9yaWdpbmFsVGFyZ2V0KSwgZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9yaWdpbmFsVGFyZ2V0KSk7XG4gICAgICB0YXJnZXRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgIGxldCBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9yaWdpbmFsVGFyZ2V0LCBrZXkpO1xuICAgICAgICAgIC8vIFdlIGRvIG5vdCBuZWVkIHRvIHdyYXAgdGhlIGRlc2NyaXB0b3IgaWYgY29uZmlndXJhYmxlXG4gICAgICAgICAgLy8gQmVjYXVzZSB3ZSBjYW4gZGVhbCB3aXRoIHdyYXBwaW5nIGl0IHdoZW4gdXNlciBnb2VzIHRocm91Z2hcbiAgICAgICAgICAvLyBHZXQgb3duIHByb3BlcnR5IGRlc2NyaXB0b3IuIFRoZXJlIGlzIGFsc28gYSBjaGFuY2UgdGhhdCB0aGlzIGRlc2NyaXB0b3JcbiAgICAgICAgICAvLyBjb3VsZCBjaGFuZ2Ugc29tZXRpbWUgaW4gdGhlIGZ1dHVyZSwgc28gd2UgY2FuIGRlZmVyIHdyYXBwaW5nXG4gICAgICAgICAgLy8gdW50aWwgd2UgbmVlZCB0b1xuICAgICAgICAgIGlmICghZGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IHdyYXBEZXNjcmlwdG9yKG1lbWJyYW5lLCBkZXNjcmlwdG9yLCB3cmFwVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3REZWZpbmVQcm9wZXJ0eShzaGFkb3dUYXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICB9KTtcbiAgICAgIHByZXZlbnRFeHRlbnNpb25zKHNoYWRvd1RhcmdldCk7XG4gIH1cbiAgY2xhc3MgUmVhY3RpdmVQcm94eUhhbmRsZXIge1xuICAgICAgY29uc3RydWN0b3IobWVtYnJhbmUsIHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5vcmlnaW5hbFRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMubWVtYnJhbmUgPSBtZW1icmFuZTtcbiAgICAgIH1cbiAgICAgIGdldChzaGFkb3dUYXJnZXQsIGtleSkge1xuICAgICAgICAgIGNvbnN0IHsgb3JpZ2luYWxUYXJnZXQsIG1lbWJyYW5lIH0gPSB0aGlzO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3JpZ2luYWxUYXJnZXRba2V5XTtcbiAgICAgICAgICBjb25zdCB7IHZhbHVlT2JzZXJ2ZWQgfSA9IG1lbWJyYW5lO1xuICAgICAgICAgIHZhbHVlT2JzZXJ2ZWQob3JpZ2luYWxUYXJnZXQsIGtleSk7XG4gICAgICAgICAgcmV0dXJuIG1lbWJyYW5lLmdldFByb3h5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHNldChzaGFkb3dUYXJnZXQsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgICBjb25zdCB7IG9yaWdpbmFsVGFyZ2V0LCBtZW1icmFuZTogeyB2YWx1ZU11dGF0ZWQgfSB9ID0gdGhpcztcbiAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IG9yaWdpbmFsVGFyZ2V0W2tleV07XG4gICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICBvcmlnaW5hbFRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgIHZhbHVlTXV0YXRlZChvcmlnaW5hbFRhcmdldCwga2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnbGVuZ3RoJyAmJiBpc0FycmF5KG9yaWdpbmFsVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAvLyBmaXggZm9yIGlzc3VlICMyMzY6IHB1c2ggd2lsbCBhZGQgdGhlIG5ldyBpbmRleCwgYW5kIGJ5IHRoZSB0aW1lIGxlbmd0aFxuICAgICAgICAgICAgICAvLyBpcyB1cGRhdGVkLCB0aGUgaW50ZXJuYWwgbGVuZ3RoIGlzIGFscmVhZHkgZXF1YWwgdG8gdGhlIG5ldyBsZW5ndGggdmFsdWVcbiAgICAgICAgICAgICAgLy8gdGhlcmVmb3JlLCB0aGUgb2xkVmFsdWUgaXMgZXF1YWwgdG8gdGhlIHZhbHVlLiBUaGlzIGlzIHRoZSBmb3JraW5nIGxvZ2ljXG4gICAgICAgICAgICAgIC8vIHRvIHN1cHBvcnQgdGhpcyB1c2UgY2FzZS5cbiAgICAgICAgICAgICAgdmFsdWVNdXRhdGVkKG9yaWdpbmFsVGFyZ2V0LCBrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZVByb3BlcnR5KHNoYWRvd1RhcmdldCwga2V5KSB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbFRhcmdldCwgbWVtYnJhbmU6IHsgdmFsdWVNdXRhdGVkIH0gfSA9IHRoaXM7XG4gICAgICAgICAgZGVsZXRlIG9yaWdpbmFsVGFyZ2V0W2tleV07XG4gICAgICAgICAgdmFsdWVNdXRhdGVkKG9yaWdpbmFsVGFyZ2V0LCBrZXkpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgYXBwbHkoc2hhZG93VGFyZ2V0LCB0aGlzQXJnLCBhcmdBcnJheSkge1xuICAgICAgICAgIC8qIE5vIG9wICovXG4gICAgICB9XG4gICAgICBjb25zdHJ1Y3QodGFyZ2V0LCBhcmdBcnJheSwgbmV3VGFyZ2V0KSB7XG4gICAgICAgICAgLyogTm8gb3AgKi9cbiAgICAgIH1cbiAgICAgIGhhcyhzaGFkb3dUYXJnZXQsIGtleSkge1xuICAgICAgICAgIGNvbnN0IHsgb3JpZ2luYWxUYXJnZXQsIG1lbWJyYW5lOiB7IHZhbHVlT2JzZXJ2ZWQgfSB9ID0gdGhpcztcbiAgICAgICAgICB2YWx1ZU9ic2VydmVkKG9yaWdpbmFsVGFyZ2V0LCBrZXkpO1xuICAgICAgICAgIHJldHVybiBrZXkgaW4gb3JpZ2luYWxUYXJnZXQ7XG4gICAgICB9XG4gICAgICBvd25LZXlzKHNoYWRvd1RhcmdldCkge1xuICAgICAgICAgIGNvbnN0IHsgb3JpZ2luYWxUYXJnZXQgfSA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIEFycmF5Q29uY2F0LmNhbGwoZ2V0T3duUHJvcGVydHlOYW1lcyhvcmlnaW5hbFRhcmdldCksIGdldE93blByb3BlcnR5U3ltYm9scyhvcmlnaW5hbFRhcmdldCkpO1xuICAgICAgfVxuICAgICAgaXNFeHRlbnNpYmxlKHNoYWRvd1RhcmdldCkge1xuICAgICAgICAgIGNvbnN0IHNoYWRvd0lzRXh0ZW5zaWJsZSA9IGlzRXh0ZW5zaWJsZShzaGFkb3dUYXJnZXQpO1xuICAgICAgICAgIGlmICghc2hhZG93SXNFeHRlbnNpYmxlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzaGFkb3dJc0V4dGVuc2libGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHsgb3JpZ2luYWxUYXJnZXQsIG1lbWJyYW5lIH0gPSB0aGlzO1xuICAgICAgICAgIGNvbnN0IHRhcmdldElzRXh0ZW5zaWJsZSA9IGlzRXh0ZW5zaWJsZShvcmlnaW5hbFRhcmdldCk7XG4gICAgICAgICAgaWYgKCF0YXJnZXRJc0V4dGVuc2libGUpIHtcbiAgICAgICAgICAgICAgbG9ja1NoYWRvd1RhcmdldChtZW1icmFuZSwgc2hhZG93VGFyZ2V0LCBvcmlnaW5hbFRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0YXJnZXRJc0V4dGVuc2libGU7XG4gICAgICB9XG4gICAgICBzZXRQcm90b3R5cGVPZihzaGFkb3dUYXJnZXQsIHByb3RvdHlwZSkge1xuICAgICAgfVxuICAgICAgZ2V0UHJvdG90eXBlT2Yoc2hhZG93VGFyZ2V0KSB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbFRhcmdldCB9ID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gZ2V0UHJvdG90eXBlT2Yob3JpZ2luYWxUYXJnZXQpO1xuICAgICAgfVxuICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNoYWRvd1RhcmdldCwga2V5KSB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbFRhcmdldCwgbWVtYnJhbmUgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3QgeyB2YWx1ZU9ic2VydmVkIH0gPSB0aGlzLm1lbWJyYW5lO1xuICAgICAgICAgIC8vIGtleXMgbG9va2VkIHVwIHZpYSBoYXNPd25Qcm9wZXJ0eSBuZWVkIHRvIGJlIHJlYWN0aXZlXG4gICAgICAgICAgdmFsdWVPYnNlcnZlZChvcmlnaW5hbFRhcmdldCwga2V5KTtcbiAgICAgICAgICBsZXQgZGVzYyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvcmlnaW5hbFRhcmdldCwga2V5KTtcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoZGVzYykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlc2M7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHNoYWRvd0Rlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc2hhZG93VGFyZ2V0LCBrZXkpO1xuICAgICAgICAgIGlmICghaXNVbmRlZmluZWQoc2hhZG93RGVzY3JpcHRvcikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNoYWRvd0Rlc2NyaXB0b3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIE5vdGU6IGJ5IGFjY2Vzc2luZyB0aGUgZGVzY3JpcHRvciwgdGhlIGtleSBpcyBtYXJrZWQgYXMgb2JzZXJ2ZWRcbiAgICAgICAgICAvLyBidXQgYWNjZXNzIHRvIHRoZSB2YWx1ZSwgc2V0dGVyIG9yIGdldHRlciAoaWYgYXZhaWxhYmxlKSBjYW5ub3Qgb2JzZXJ2ZVxuICAgICAgICAgIC8vIG11dGF0aW9ucywganVzdCBsaWtlIHJlZ3VsYXIgbWV0aG9kcywgaW4gd2hpY2ggY2FzZSB3ZSBqdXN0IGRvIG5vdGhpbmcuXG4gICAgICAgICAgZGVzYyA9IHdyYXBEZXNjcmlwdG9yKG1lbWJyYW5lLCBkZXNjLCB3cmFwVmFsdWUpO1xuICAgICAgICAgIGlmICghZGVzYy5jb25maWd1cmFibGUpIHtcbiAgICAgICAgICAgICAgLy8gSWYgZGVzY3JpcHRvciBmcm9tIG9yaWdpbmFsIHRhcmdldCBpcyBub3QgY29uZmlndXJhYmxlLFxuICAgICAgICAgICAgICAvLyBXZSBtdXN0IGNvcHkgdGhlIHdyYXBwZWQgZGVzY3JpcHRvciBvdmVyIHRvIHRoZSBzaGFkb3cgdGFyZ2V0LlxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHByb3h5IHdpbGwgdGhyb3cgYW4gaW52YXJpYW50IGVycm9yLlxuICAgICAgICAgICAgICAvLyBUaGlzIGlzIG91ciBsYXN0IGNoYW5jZSB0byBsb2NrIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJveHkvaGFuZGxlci9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IjSW52YXJpYW50c1xuICAgICAgICAgICAgICBPYmplY3REZWZpbmVQcm9wZXJ0eShzaGFkb3dUYXJnZXQsIGtleSwgZGVzYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkZXNjO1xuICAgICAgfVxuICAgICAgcHJldmVudEV4dGVuc2lvbnMoc2hhZG93VGFyZ2V0KSB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbFRhcmdldCwgbWVtYnJhbmUgfSA9IHRoaXM7XG4gICAgICAgICAgbG9ja1NoYWRvd1RhcmdldChtZW1icmFuZSwgc2hhZG93VGFyZ2V0LCBvcmlnaW5hbFRhcmdldCk7XG4gICAgICAgICAgcHJldmVudEV4dGVuc2lvbnMob3JpZ2luYWxUYXJnZXQpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZGVmaW5lUHJvcGVydHkoc2hhZG93VGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICBjb25zdCB7IG9yaWdpbmFsVGFyZ2V0LCBtZW1icmFuZSB9ID0gdGhpcztcbiAgICAgICAgICBjb25zdCB7IHZhbHVlTXV0YXRlZCB9ID0gbWVtYnJhbmU7XG4gICAgICAgICAgY29uc3QgeyBjb25maWd1cmFibGUgfSA9IGRlc2NyaXB0b3I7XG4gICAgICAgICAgLy8gV2UgaGF2ZSB0byBjaGVjayBmb3IgdmFsdWUgaW4gZGVzY3JpcHRvclxuICAgICAgICAgIC8vIGJlY2F1c2UgT2JqZWN0LmZyZWV6ZShwcm94eSkgY2FsbHMgdGhpcyBtZXRob2RcbiAgICAgICAgICAvLyB3aXRoIG9ubHkgeyBjb25maWd1cmFibGU6IGZhbHNlLCB3cml0ZWFibGU6IGZhbHNlIH1cbiAgICAgICAgICAvLyBBZGRpdGlvbmFsbHksIG1ldGhvZCB3aWxsIG9ubHkgYmUgY2FsbGVkIHdpdGggd3JpdGVhYmxlOmZhbHNlXG4gICAgICAgICAgLy8gaWYgdGhlIGRlc2NyaXB0b3IgaGFzIGEgdmFsdWUsIGFzIG9wcG9zZWQgdG8gZ2V0dGVyL3NldHRlclxuICAgICAgICAgIC8vIFNvIHdlIGNhbiBqdXN0IGNoZWNrIGlmIHdyaXRhYmxlIGlzIHByZXNlbnQgYW5kIHRoZW4gc2VlIGlmXG4gICAgICAgICAgLy8gdmFsdWUgaXMgcHJlc2VudC4gVGhpcyBlbGltaW5hdGVzIGdldHRlciBhbmQgc2V0dGVyIGRlc2NyaXB0b3JzXG4gICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoZGVzY3JpcHRvciwgJ3dyaXRhYmxlJykgJiYgIWhhc093blByb3BlcnR5LmNhbGwoZGVzY3JpcHRvciwgJ3ZhbHVlJykpIHtcbiAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9yaWdpbmFsVGFyZ2V0LCBrZXkpO1xuICAgICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gb3JpZ2luYWxEZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3REZWZpbmVQcm9wZXJ0eShvcmlnaW5hbFRhcmdldCwga2V5LCB1bndyYXBEZXNjcmlwdG9yKGRlc2NyaXB0b3IpKTtcbiAgICAgICAgICBpZiAoY29uZmlndXJhYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICBPYmplY3REZWZpbmVQcm9wZXJ0eShzaGFkb3dUYXJnZXQsIGtleSwgd3JhcERlc2NyaXB0b3IobWVtYnJhbmUsIGRlc2NyaXB0b3IsIHdyYXBWYWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZU11dGF0ZWQob3JpZ2luYWxUYXJnZXQsIGtleSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwUmVhZE9ubHlWYWx1ZShtZW1icmFuZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBtZW1icmFuZS52YWx1ZUlzT2JzZXJ2YWJsZSh2YWx1ZSkgPyBtZW1icmFuZS5nZXRSZWFkT25seVByb3h5KHZhbHVlKSA6IHZhbHVlO1xuICB9XG4gIGNsYXNzIFJlYWRPbmx5SGFuZGxlciB7XG4gICAgICBjb25zdHJ1Y3RvcihtZW1icmFuZSwgdmFsdWUpIHtcbiAgICAgICAgICB0aGlzLm9yaWdpbmFsVGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5tZW1icmFuZSA9IG1lbWJyYW5lO1xuICAgICAgfVxuICAgICAgZ2V0KHNoYWRvd1RhcmdldCwga2V5KSB7XG4gICAgICAgICAgY29uc3QgeyBtZW1icmFuZSwgb3JpZ2luYWxUYXJnZXQgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBvcmlnaW5hbFRhcmdldFtrZXldO1xuICAgICAgICAgIGNvbnN0IHsgdmFsdWVPYnNlcnZlZCB9ID0gbWVtYnJhbmU7XG4gICAgICAgICAgdmFsdWVPYnNlcnZlZChvcmlnaW5hbFRhcmdldCwga2V5KTtcbiAgICAgICAgICByZXR1cm4gbWVtYnJhbmUuZ2V0UmVhZE9ubHlQcm94eSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBzZXQoc2hhZG93VGFyZ2V0LCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZGVsZXRlUHJvcGVydHkoc2hhZG93VGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBhcHBseShzaGFkb3dUYXJnZXQsIHRoaXNBcmcsIGFyZ0FycmF5KSB7XG4gICAgICAgICAgLyogTm8gb3AgKi9cbiAgICAgIH1cbiAgICAgIGNvbnN0cnVjdCh0YXJnZXQsIGFyZ0FycmF5LCBuZXdUYXJnZXQpIHtcbiAgICAgICAgICAvKiBObyBvcCAqL1xuICAgICAgfVxuICAgICAgaGFzKHNoYWRvd1RhcmdldCwga2V5KSB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbFRhcmdldCwgbWVtYnJhbmU6IHsgdmFsdWVPYnNlcnZlZCB9IH0gPSB0aGlzO1xuICAgICAgICAgIHZhbHVlT2JzZXJ2ZWQob3JpZ2luYWxUYXJnZXQsIGtleSk7XG4gICAgICAgICAgcmV0dXJuIGtleSBpbiBvcmlnaW5hbFRhcmdldDtcbiAgICAgIH1cbiAgICAgIG93bktleXMoc2hhZG93VGFyZ2V0KSB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbFRhcmdldCB9ID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gQXJyYXlDb25jYXQuY2FsbChnZXRPd25Qcm9wZXJ0eU5hbWVzKG9yaWdpbmFsVGFyZ2V0KSwgZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9yaWdpbmFsVGFyZ2V0KSk7XG4gICAgICB9XG4gICAgICBzZXRQcm90b3R5cGVPZihzaGFkb3dUYXJnZXQsIHByb3RvdHlwZSkge1xuICAgICAgfVxuICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNoYWRvd1RhcmdldCwga2V5KSB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbFRhcmdldCwgbWVtYnJhbmUgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3QgeyB2YWx1ZU9ic2VydmVkIH0gPSBtZW1icmFuZTtcbiAgICAgICAgICAvLyBrZXlzIGxvb2tlZCB1cCB2aWEgaGFzT3duUHJvcGVydHkgbmVlZCB0byBiZSByZWFjdGl2ZVxuICAgICAgICAgIHZhbHVlT2JzZXJ2ZWQob3JpZ2luYWxUYXJnZXQsIGtleSk7XG4gICAgICAgICAgbGV0IGRlc2MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3JpZ2luYWxUYXJnZXQsIGtleSk7XG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGRlc2MpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZXNjO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzaGFkb3dEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNoYWRvd1RhcmdldCwga2V5KTtcbiAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHNoYWRvd0Rlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzaGFkb3dEZXNjcmlwdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBOb3RlOiBieSBhY2Nlc3NpbmcgdGhlIGRlc2NyaXB0b3IsIHRoZSBrZXkgaXMgbWFya2VkIGFzIG9ic2VydmVkXG4gICAgICAgICAgLy8gYnV0IGFjY2VzcyB0byB0aGUgdmFsdWUgb3IgZ2V0dGVyIChpZiBhdmFpbGFibGUpIGNhbm5vdCBiZSBvYnNlcnZlZCxcbiAgICAgICAgICAvLyBqdXN0IGxpa2UgcmVndWxhciBtZXRob2RzLCBpbiB3aGljaCBjYXNlIHdlIGp1c3QgZG8gbm90aGluZy5cbiAgICAgICAgICBkZXNjID0gd3JhcERlc2NyaXB0b3IobWVtYnJhbmUsIGRlc2MsIHdyYXBSZWFkT25seVZhbHVlKTtcbiAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChkZXNjLCAnc2V0JykpIHtcbiAgICAgICAgICAgICAgZGVzYy5zZXQgPSB1bmRlZmluZWQ7IC8vIHJlYWRPbmx5IG1lbWJyYW5lIGRvZXMgbm90IGFsbG93IHNldHRlcnNcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFkZXNjLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICAgICAgICAvLyBJZiBkZXNjcmlwdG9yIGZyb20gb3JpZ2luYWwgdGFyZ2V0IGlzIG5vdCBjb25maWd1cmFibGUsXG4gICAgICAgICAgICAgIC8vIFdlIG11c3QgY29weSB0aGUgd3JhcHBlZCBkZXNjcmlwdG9yIG92ZXIgdG8gdGhlIHNoYWRvdyB0YXJnZXQuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgcHJveHkgd2lsbCB0aHJvdyBhbiBpbnZhcmlhbnQgZXJyb3IuXG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgb3VyIGxhc3QgY2hhbmNlIHRvIGxvY2sgdGhlIHZhbHVlLlxuICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm94eS9oYW5kbGVyL2dldE93blByb3BlcnR5RGVzY3JpcHRvciNJbnZhcmlhbnRzXG4gICAgICAgICAgICAgIE9iamVjdERlZmluZVByb3BlcnR5KHNoYWRvd1RhcmdldCwga2V5LCBkZXNjKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRlc2M7XG4gICAgICB9XG4gICAgICBwcmV2ZW50RXh0ZW5zaW9ucyhzaGFkb3dUYXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBkZWZpbmVQcm9wZXJ0eShzaGFkb3dUYXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVTaGFkb3dUYXJnZXQodmFsdWUpIHtcbiAgICAgIGxldCBzaGFkb3dUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBzaGFkb3dUYXJnZXQgPSBbXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgIHNoYWRvd1RhcmdldCA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNoYWRvd1RhcmdldDtcbiAgfVxuICBjb25zdCBPYmplY3REb3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuICBmdW5jdGlvbiBkZWZhdWx0VmFsdWVJc09ic2VydmFibGUodmFsdWUpIHtcbiAgICAgIC8vIGludGVudGlvbmFsbHkgY2hlY2tpbmcgZm9yIG51bGxcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIHRyZWF0IGFsbCBub24tb2JqZWN0IHR5cGVzLCBpbmNsdWRpbmcgdW5kZWZpbmVkLCBhcyBub24tb2JzZXJ2YWJsZSB2YWx1ZXNcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCBwcm90byA9IGdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgICAgIHJldHVybiAocHJvdG8gPT09IE9iamVjdERvdFByb3RvdHlwZSB8fCBwcm90byA9PT0gbnVsbCB8fCBnZXRQcm90b3R5cGVPZihwcm90bykgPT09IG51bGwpO1xuICB9XG4gIGNvbnN0IGRlZmF1bHRWYWx1ZU9ic2VydmVkID0gKG9iaiwga2V5KSA9PiB7XG4gICAgICAvKiBkbyBub3RoaW5nICovXG4gIH07XG4gIGNvbnN0IGRlZmF1bHRWYWx1ZU11dGF0ZWQgPSAob2JqLCBrZXkpID0+IHtcbiAgICAgIC8qIGRvIG5vdGhpbmcgKi9cbiAgfTtcbiAgY29uc3QgZGVmYXVsdFZhbHVlRGlzdG9ydGlvbiA9ICh2YWx1ZSkgPT4gdmFsdWU7XG4gIGZ1bmN0aW9uIHdyYXBEZXNjcmlwdG9yKG1lbWJyYW5lLCBkZXNjcmlwdG9yLCBnZXRWYWx1ZSkge1xuICAgICAgY29uc3QgeyBzZXQsIGdldCB9ID0gZGVzY3JpcHRvcjtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGRlc2NyaXB0b3IsICd2YWx1ZScpKSB7XG4gICAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGdldFZhbHVlKG1lbWJyYW5lLCBkZXNjcmlwdG9yLnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICghaXNVbmRlZmluZWQoZ2V0KSkge1xuICAgICAgICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGludm9raW5nIHRoZSBvcmlnaW5hbCBnZXR0ZXIgd2l0aCB0aGUgb3JpZ2luYWwgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWUobWVtYnJhbmUsIGdldC5jYWxsKHVud3JhcCh0aGlzKSkpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHNldCkpIHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgd2UgZG9uJ3QgaGF2ZSBhIGNsZWFyIGluZGljYXRpb24gb2Ygd2hldGhlclxuICAgICAgICAgICAgICAgICAgLy8gb3Igbm90IGEgdmFsaWQgbXV0YXRpb24gd2lsbCBvY2N1ciwgd2UgZG9uJ3QgaGF2ZSB0aGUga2V5LFxuICAgICAgICAgICAgICAgICAgLy8gYW5kIHdlIGFyZSBub3Qgc3VyZSB3aHkgYW5kIGhvdyB0aGV5IGFyZSBpbnZva2luZyB0aGlzIHNldHRlci5cbiAgICAgICAgICAgICAgICAgIC8vIE5ldmVydGhlbGVzcyB3ZSBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgc2VtYW50aWNzIGJ5IGludm9raW5nIHRoZVxuICAgICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwgc2V0dGVyIHdpdGggdGhlIG9yaWdpbmFsIHRhcmdldCBhbmQgdGhlIHVud3JhcHBlZCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgc2V0LmNhbGwodW53cmFwKHRoaXMpLCBtZW1icmFuZS51bndyYXBQcm94eSh2YWx1ZSkpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICB9XG4gIGNsYXNzIFJlYWN0aXZlTWVtYnJhbmUge1xuICAgICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICAgIHRoaXMudmFsdWVEaXN0b3J0aW9uID0gZGVmYXVsdFZhbHVlRGlzdG9ydGlvbjtcbiAgICAgICAgICB0aGlzLnZhbHVlTXV0YXRlZCA9IGRlZmF1bHRWYWx1ZU11dGF0ZWQ7XG4gICAgICAgICAgdGhpcy52YWx1ZU9ic2VydmVkID0gZGVmYXVsdFZhbHVlT2JzZXJ2ZWQ7XG4gICAgICAgICAgdGhpcy52YWx1ZUlzT2JzZXJ2YWJsZSA9IGRlZmF1bHRWYWx1ZUlzT2JzZXJ2YWJsZTtcbiAgICAgICAgICB0aGlzLm9iamVjdEdyYXBoID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWVEaXN0b3J0aW9uLCB2YWx1ZU11dGF0ZWQsIHZhbHVlT2JzZXJ2ZWQsIHZhbHVlSXNPYnNlcnZhYmxlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgICB0aGlzLnZhbHVlRGlzdG9ydGlvbiA9IGlzRnVuY3Rpb24odmFsdWVEaXN0b3J0aW9uKSA/IHZhbHVlRGlzdG9ydGlvbiA6IGRlZmF1bHRWYWx1ZURpc3RvcnRpb247XG4gICAgICAgICAgICAgIHRoaXMudmFsdWVNdXRhdGVkID0gaXNGdW5jdGlvbih2YWx1ZU11dGF0ZWQpID8gdmFsdWVNdXRhdGVkIDogZGVmYXVsdFZhbHVlTXV0YXRlZDtcbiAgICAgICAgICAgICAgdGhpcy52YWx1ZU9ic2VydmVkID0gaXNGdW5jdGlvbih2YWx1ZU9ic2VydmVkKSA/IHZhbHVlT2JzZXJ2ZWQgOiBkZWZhdWx0VmFsdWVPYnNlcnZlZDtcbiAgICAgICAgICAgICAgdGhpcy52YWx1ZUlzT2JzZXJ2YWJsZSA9IGlzRnVuY3Rpb24odmFsdWVJc09ic2VydmFibGUpID8gdmFsdWVJc09ic2VydmFibGUgOiBkZWZhdWx0VmFsdWVJc09ic2VydmFibGU7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ2V0UHJveHkodmFsdWUpIHtcbiAgICAgICAgICBjb25zdCB1bndyYXBwZWRWYWx1ZSA9IHVud3JhcCh2YWx1ZSk7XG4gICAgICAgICAgY29uc3QgZGlzdG9ydGVkID0gdGhpcy52YWx1ZURpc3RvcnRpb24odW53cmFwcGVkVmFsdWUpO1xuICAgICAgICAgIGlmICh0aGlzLnZhbHVlSXNPYnNlcnZhYmxlKGRpc3RvcnRlZCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgbyA9IHRoaXMuZ2V0UmVhY3RpdmVTdGF0ZSh1bndyYXBwZWRWYWx1ZSwgZGlzdG9ydGVkKTtcbiAgICAgICAgICAgICAgLy8gd2hlbiB0cnlpbmcgdG8gZXh0cmFjdCB0aGUgd3JpdGFibGUgdmVyc2lvbiBvZiBhIHJlYWRvbmx5XG4gICAgICAgICAgICAgIC8vIHdlIHJldHVybiB0aGUgcmVhZG9ubHkuXG4gICAgICAgICAgICAgIHJldHVybiBvLnJlYWRPbmx5ID09PSB2YWx1ZSA/IHZhbHVlIDogby5yZWFjdGl2ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRpc3RvcnRlZDtcbiAgICAgIH1cbiAgICAgIGdldFJlYWRPbmx5UHJveHkodmFsdWUpIHtcbiAgICAgICAgICB2YWx1ZSA9IHVud3JhcCh2YWx1ZSk7XG4gICAgICAgICAgY29uc3QgZGlzdG9ydGVkID0gdGhpcy52YWx1ZURpc3RvcnRpb24odmFsdWUpO1xuICAgICAgICAgIGlmICh0aGlzLnZhbHVlSXNPYnNlcnZhYmxlKGRpc3RvcnRlZCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVhY3RpdmVTdGF0ZSh2YWx1ZSwgZGlzdG9ydGVkKS5yZWFkT25seTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRpc3RvcnRlZDtcbiAgICAgIH1cbiAgICAgIHVud3JhcFByb3h5KHApIHtcbiAgICAgICAgICByZXR1cm4gdW53cmFwKHApO1xuICAgICAgfVxuICAgICAgZ2V0UmVhY3RpdmVTdGF0ZSh2YWx1ZSwgZGlzdG9ydGVkVmFsdWUpIHtcbiAgICAgICAgICBjb25zdCB7IG9iamVjdEdyYXBoLCB9ID0gdGhpcztcbiAgICAgICAgICBsZXQgcmVhY3RpdmVTdGF0ZSA9IG9iamVjdEdyYXBoLmdldChkaXN0b3J0ZWRWYWx1ZSk7XG4gICAgICAgICAgaWYgKHJlYWN0aXZlU3RhdGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlYWN0aXZlU3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG1lbWJyYW5lID0gdGhpcztcbiAgICAgICAgICByZWFjdGl2ZVN0YXRlID0ge1xuICAgICAgICAgICAgICBnZXQgcmVhY3RpdmUoKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByZWFjdGl2ZUhhbmRsZXIgPSBuZXcgUmVhY3RpdmVQcm94eUhhbmRsZXIobWVtYnJhbmUsIGRpc3RvcnRlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIC8vIGNhY2hpbmcgdGhlIHJlYWN0aXZlIHByb3h5IGFmdGVyIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkXG4gICAgICAgICAgICAgICAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShjcmVhdGVTaGFkb3dUYXJnZXQoZGlzdG9ydGVkVmFsdWUpLCByZWFjdGl2ZUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQcm94eShwcm94eSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgT2JqZWN0RGVmaW5lUHJvcGVydHkodGhpcywgJ3JlYWN0aXZlJywgeyB2YWx1ZTogcHJveHkgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGdldCByZWFkT25seSgpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRPbmx5SGFuZGxlciA9IG5ldyBSZWFkT25seUhhbmRsZXIobWVtYnJhbmUsIGRpc3RvcnRlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIC8vIGNhY2hpbmcgdGhlIHJlYWRPbmx5IHByb3h5IGFmdGVyIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkXG4gICAgICAgICAgICAgICAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShjcmVhdGVTaGFkb3dUYXJnZXQoZGlzdG9ydGVkVmFsdWUpLCByZWFkT25seUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQcm94eShwcm94eSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgT2JqZWN0RGVmaW5lUHJvcGVydHkodGhpcywgJ3JlYWRPbmx5JywgeyB2YWx1ZTogcHJveHkgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIG9iamVjdEdyYXBoLnNldChkaXN0b3J0ZWRWYWx1ZSwgcmVhY3RpdmVTdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIHJlYWN0aXZlU3RhdGU7XG4gICAgICB9XG4gIH1cbiAgLyoqIHZlcnNpb246IDAuMjYuMCAqL1xuXG4gIGZ1bmN0aW9uIHdyYXAoZGF0YSwgbXV0YXRpb25DYWxsYmFjaykge1xuXG4gICAgbGV0IG1lbWJyYW5lID0gbmV3IFJlYWN0aXZlTWVtYnJhbmUoe1xuICAgICAgdmFsdWVNdXRhdGVkKHRhcmdldCwga2V5KSB7XG4gICAgICAgIG11dGF0aW9uQ2FsbGJhY2sodGFyZ2V0LCBrZXkpO1xuICAgICAgfVxuXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG1lbWJyYW5lLmdldFByb3h5KGRhdGEpLFxuICAgICAgbWVtYnJhbmU6IG1lbWJyYW5lXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB1bndyYXAkMShtZW1icmFuZSwgb2JzZXJ2YWJsZSkge1xuICAgIGxldCB1bndyYXBwZWREYXRhID0gbWVtYnJhbmUudW53cmFwUHJveHkob2JzZXJ2YWJsZSk7XG4gICAgbGV0IGNvcHkgPSB7fTtcbiAgICBPYmplY3Qua2V5cyh1bndyYXBwZWREYXRhKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAoWyckZWwnLCAnJHJlZnMnLCAnJG5leHRUaWNrJywgJyR3YXRjaCddLmluY2x1ZGVzKGtleSkpIHJldHVybjtcbiAgICAgIGNvcHlba2V5XSA9IHVud3JhcHBlZERhdGFba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIGNsYXNzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZWwsIGNvbXBvbmVudEZvckNsb25lID0gbnVsbCkge1xuICAgICAgdGhpcy4kZWwgPSBlbDtcbiAgICAgIGNvbnN0IGRhdGFBdHRyID0gdGhpcy4kZWwuZ2V0QXR0cmlidXRlKCd4LWRhdGEnKTtcbiAgICAgIGNvbnN0IGRhdGFFeHByZXNzaW9uID0gZGF0YUF0dHIgPT09ICcnID8gJ3t9JyA6IGRhdGFBdHRyO1xuICAgICAgY29uc3QgaW5pdEV4cHJlc3Npb24gPSB0aGlzLiRlbC5nZXRBdHRyaWJ1dGUoJ3gtaW5pdCcpO1xuICAgICAgbGV0IGRhdGFFeHRyYXMgPSB7XG4gICAgICAgICRlbDogdGhpcy4kZWxcbiAgICAgIH07XG4gICAgICBsZXQgY2Fub25pY2FsQ29tcG9uZW50RWxlbWVudFJlZmVyZW5jZSA9IGNvbXBvbmVudEZvckNsb25lID8gY29tcG9uZW50Rm9yQ2xvbmUuJGVsIDogdGhpcy4kZWw7XG4gICAgICBPYmplY3QuZW50cmllcyhBbHBpbmUubWFnaWNQcm9wZXJ0aWVzKS5mb3JFYWNoKChbbmFtZSwgY2FsbGJhY2tdKSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhRXh0cmFzLCBgJCR7bmFtZX1gLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soY2Fub25pY2FsQ29tcG9uZW50RWxlbWVudFJlZmVyZW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy51bm9ic2VydmVkRGF0YSA9IGNvbXBvbmVudEZvckNsb25lID8gY29tcG9uZW50Rm9yQ2xvbmUuZ2V0VW5vYnNlcnZlZERhdGEoKSA6IHNhZmVyRXZhbChlbCwgZGF0YUV4cHJlc3Npb24sIGRhdGFFeHRyYXMpO1xuICAgICAgLy8gQ29uc3RydWN0IGEgUHJveHktYmFzZWQgb2JzZXJ2YWJsZS4gVGhpcyB3aWxsIGJlIHVzZWQgdG8gaGFuZGxlIHJlYWN0aXZpdHkuXG5cbiAgICAgIGxldCB7XG4gICAgICAgIG1lbWJyYW5lLFxuICAgICAgICBkYXRhXG4gICAgICB9ID0gdGhpcy53cmFwRGF0YUluT2JzZXJ2YWJsZSh0aGlzLnVub2JzZXJ2ZWREYXRhKTtcbiAgICAgIHRoaXMuJGRhdGEgPSBkYXRhO1xuICAgICAgdGhpcy5tZW1icmFuZSA9IG1lbWJyYW5lOyAvLyBBZnRlciBtYWtpbmcgdXNlci1zdXBwbGllZCBkYXRhIG1ldGhvZHMgcmVhY3RpdmUsIHdlIGNhbiBub3cgYWRkXG4gICAgICAvLyBvdXIgbWFnaWMgcHJvcGVydGllcyB0byB0aGUgb3JpZ2luYWwgZGF0YSBmb3IgYWNjZXNzLlxuXG4gICAgICB0aGlzLnVub2JzZXJ2ZWREYXRhLiRlbCA9IHRoaXMuJGVsO1xuICAgICAgdGhpcy51bm9ic2VydmVkRGF0YS4kcmVmcyA9IHRoaXMuZ2V0UmVmc1Byb3h5KCk7XG4gICAgICB0aGlzLm5leHRUaWNrU3RhY2sgPSBbXTtcblxuICAgICAgdGhpcy51bm9ic2VydmVkRGF0YS4kbmV4dFRpY2sgPSBjYWxsYmFjayA9PiB7XG4gICAgICAgIHRoaXMubmV4dFRpY2tTdGFjay5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMud2F0Y2hlcnMgPSB7fTtcblxuICAgICAgdGhpcy51bm9ic2VydmVkRGF0YS4kd2F0Y2ggPSAocHJvcGVydHksIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy53YXRjaGVyc1twcm9wZXJ0eV0pIHRoaXMud2F0Y2hlcnNbcHJvcGVydHldID0gW107XG4gICAgICAgIHRoaXMud2F0Y2hlcnNbcHJvcGVydHldLnB1c2goY2FsbGJhY2spO1xuICAgICAgfTtcbiAgICAgIC8qIE1PREVSTi1PTkxZOlNUQVJUICovXG4gICAgICAvLyBXZSByZW1vdmUgdGhpcyBwaWVjZSBvZiBjb2RlIGZyb20gdGhlIGxlZ2FjeSBidWlsZC5cbiAgICAgIC8vIEluIElFMTEsIHdlIGhhdmUgYWxyZWFkeSBkZWZpbmVkIG91ciBoZWxwZXJzIGF0IHRoaXMgcG9pbnQuXG4gICAgICAvLyBSZWdpc3RlciBjdXN0b20gbWFnaWMgcHJvcGVydGllcy5cblxuXG4gICAgICBPYmplY3QuZW50cmllcyhBbHBpbmUubWFnaWNQcm9wZXJ0aWVzKS5mb3JFYWNoKChbbmFtZSwgY2FsbGJhY2tdKSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnVub2JzZXJ2ZWREYXRhLCBgJCR7bmFtZX1gLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soY2Fub25pY2FsQ29tcG9uZW50RWxlbWVudFJlZmVyZW5jZSwgdGhpcy4kZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIC8qIE1PREVSTi1PTkxZOkVORCAqL1xuXG4gICAgICB0aGlzLnNob3dEaXJlY3RpdmVTdGFjayA9IFtdO1xuICAgICAgdGhpcy5zaG93RGlyZWN0aXZlTGFzdEVsZW1lbnQ7XG4gICAgICBjb21wb25lbnRGb3JDbG9uZSB8fCBBbHBpbmUub25CZWZvcmVDb21wb25lbnRJbml0aWFsaXplZHMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzKSk7XG4gICAgICB2YXIgaW5pdFJldHVybmVkQ2FsbGJhY2s7IC8vIElmIHgtaW5pdCBpcyBwcmVzZW50IEFORCB3ZSBhcmVuJ3QgY2xvbmluZyAoc2tpcCB4LWluaXQgb24gY2xvbmUpXG5cbiAgICAgIGlmIChpbml0RXhwcmVzc2lvbiAmJiAhY29tcG9uZW50Rm9yQ2xvbmUpIHtcbiAgICAgICAgLy8gV2Ugd2FudCB0byBhbGxvdyBkYXRhIG1hbmlwdWxhdGlvbiwgYnV0IG5vdCB0cmlnZ2VyIERPTSB1cGRhdGVzIGp1c3QgeWV0LlxuICAgICAgICAvLyBXZSBoYXZlbid0IGV2ZW4gaW5pdGlhbGl6ZWQgdGhlIGVsZW1lbnRzIHdpdGggdGhlaXIgQWxwaW5lIGJpbmRpbmdzLiBJIG1lYW4gYydtb24uXG4gICAgICAgIHRoaXMucGF1c2VSZWFjdGl2aXR5ID0gdHJ1ZTtcbiAgICAgICAgaW5pdFJldHVybmVkQ2FsbGJhY2sgPSB0aGlzLmV2YWx1YXRlUmV0dXJuRXhwcmVzc2lvbih0aGlzLiRlbCwgaW5pdEV4cHJlc3Npb24pO1xuICAgICAgICB0aGlzLnBhdXNlUmVhY3Rpdml0eSA9IGZhbHNlO1xuICAgICAgfSAvLyBSZWdpc3RlciBhbGwgb3VyIGxpc3RlbmVycyBhbmQgc2V0IGFsbCBvdXIgYXR0cmlidXRlIGJpbmRpbmdzLlxuXG5cbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUVsZW1lbnRzKHRoaXMuJGVsKTsgLy8gVXNlIG11dGF0aW9uIG9ic2VydmVyIHRvIGRldGVjdCBuZXcgZWxlbWVudHMgYmVpbmcgYWRkZWQgd2l0aGluIHRoaXMgY29tcG9uZW50IGF0IHJ1bi10aW1lLlxuICAgICAgLy8gQWxwaW5lJ3MganVzdCBzbyBkYXJuIGZsZXhpYmxlIGFtaXJpdGU/XG5cbiAgICAgIHRoaXMubGlzdGVuRm9yTmV3RWxlbWVudHNUb0luaXRpYWxpemUoKTtcblxuICAgICAgaWYgKHR5cGVvZiBpbml0UmV0dXJuZWRDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBSdW4gdGhlIGNhbGxiYWNrIHJldHVybmVkIGZyb20gdGhlIFwieC1pbml0XCIgaG9vayB0byBhbGxvdyB0aGUgdXNlciB0byBkbyBzdHVmZiBhZnRlclxuICAgICAgICAvLyBBbHBpbmUncyBnb3QgaXQncyBncnViYnkgbGl0dGxlIHBhd3MgYWxsIG92ZXIgZXZlcnl0aGluZy5cbiAgICAgICAgaW5pdFJldHVybmVkQ2FsbGJhY2suY2FsbCh0aGlzLiRkYXRhKTtcbiAgICAgIH1cblxuICAgICAgY29tcG9uZW50Rm9yQ2xvbmUgfHwgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIEFscGluZS5vbkNvbXBvbmVudEluaXRpYWxpemVkcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMpKTtcbiAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIGdldFVub2JzZXJ2ZWREYXRhKCkge1xuICAgICAgcmV0dXJuIHVud3JhcCQxKHRoaXMubWVtYnJhbmUsIHRoaXMuJGRhdGEpO1xuICAgIH1cblxuICAgIHdyYXBEYXRhSW5PYnNlcnZhYmxlKGRhdGEpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGxldCB1cGRhdGVEb20gPSBkZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYudXBkYXRlRWxlbWVudHMoc2VsZi4kZWwpO1xuICAgICAgfSwgMCk7XG4gICAgICByZXR1cm4gd3JhcChkYXRhLCAodGFyZ2V0LCBrZXkpID0+IHtcbiAgICAgICAgaWYgKHNlbGYud2F0Y2hlcnNba2V5XSkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSB3YXRjaGVyIGZvciB0aGlzIHNwZWNpZmljIGtleSwgcnVuIGl0LlxuICAgICAgICAgIHNlbGYud2F0Y2hlcnNba2V5XS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRhcmdldFtrZXldKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgLy8gQXJyYXlzIGFyZSBzcGVjaWFsIGNhc2VzLCBpZiBhbnkgb2YgdGhlIGl0ZW1zIGNoYW5nZSwgd2UgY29uc2lkZXIgdGhlIGFycmF5IGFzIG11dGF0ZWQuXG4gICAgICAgICAgT2JqZWN0LmtleXMoc2VsZi53YXRjaGVycykuZm9yRWFjaChmdWxsRG90Tm90YXRpb25LZXkgPT4ge1xuICAgICAgICAgICAgbGV0IGRvdE5vdGF0aW9uUGFydHMgPSBmdWxsRG90Tm90YXRpb25LZXkuc3BsaXQoJy4nKTsgLy8gSWdub3JlIGxlbmd0aCBtdXRhdGlvbnMgc2luY2UgdGhleSB3b3VsZCByZXN1bHQgaW4gZHVwbGljYXRlIGNhbGxzLlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUsIHdoZW4gY2FsbGluZyBwdXNoLCB3ZSB3b3VsZCBnZXQgYSBtdXRhdGlvbiBmb3IgdGhlIGl0ZW0ncyBrZXlcbiAgICAgICAgICAgIC8vIGFuZCBhIHNlY29uZCBtdXRhdGlvbiBmb3IgdGhlIGxlbmd0aCBwcm9wZXJ0eS5cblxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcpIHJldHVybjtcbiAgICAgICAgICAgIGRvdE5vdGF0aW9uUGFydHMucmVkdWNlKChjb21wYXJpc29uRGF0YSwgcGFydCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRhcmdldCwgY29tcGFyaXNvbkRhdGFbcGFydF0pKSB7XG4gICAgICAgICAgICAgICAgc2VsZi53YXRjaGVyc1tmdWxsRG90Tm90YXRpb25LZXldLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGFyZ2V0KSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gY29tcGFyaXNvbkRhdGFbcGFydF07XG4gICAgICAgICAgICB9LCBzZWxmLnVub2JzZXJ2ZWREYXRhKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMZXQncyB3YWxrIHRocm91Z2ggdGhlIHdhdGNoZXJzIHdpdGggXCJkb3Qtbm90YXRpb25cIiAoZm9vLmJhcikgYW5kIHNlZVxuICAgICAgICAgIC8vIGlmIHRoaXMgbXV0YXRpb24gZml0cyBhbnkgb2YgdGhlbS5cbiAgICAgICAgICBPYmplY3Qua2V5cyhzZWxmLndhdGNoZXJzKS5maWx0ZXIoaSA9PiBpLmluY2x1ZGVzKCcuJykpLmZvckVhY2goZnVsbERvdE5vdGF0aW9uS2V5ID0+IHtcbiAgICAgICAgICAgIGxldCBkb3ROb3RhdGlvblBhcnRzID0gZnVsbERvdE5vdGF0aW9uS2V5LnNwbGl0KCcuJyk7IC8vIElmIHRoaXMgZG90LW5vdGF0aW9uIHdhdGNoZXIncyBsYXN0IFwicGFydFwiIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnRcbiAgICAgICAgICAgIC8vIGtleSwgdGhlbiBza2lwIGl0IGVhcmx5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuXG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBkb3ROb3RhdGlvblBhcnRzW2RvdE5vdGF0aW9uUGFydHMubGVuZ3RoIC0gMV0pIHJldHVybjsgLy8gTm93LCB3YWxrIHRocm91Z2ggdGhlIGRvdC1ub3RhdGlvbiBcInBhcnRzXCIgcmVjdXJzaXZlbHkgdG8gZmluZFxuICAgICAgICAgICAgLy8gYSBtYXRjaCwgYW5kIGNhbGwgdGhlIHdhdGNoZXIgaWYgb25lJ3MgZm91bmQuXG5cbiAgICAgICAgICAgIGRvdE5vdGF0aW9uUGFydHMucmVkdWNlKChjb21wYXJpc29uRGF0YSwgcGFydCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRhcmdldCwgY29tcGFyaXNvbkRhdGEpKSB7XG4gICAgICAgICAgICAgICAgLy8gUnVuIHRoZSB3YXRjaGVycy5cbiAgICAgICAgICAgICAgICBzZWxmLndhdGNoZXJzW2Z1bGxEb3ROb3RhdGlvbktleV0uZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0YXJnZXRba2V5XSkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmlzb25EYXRhW3BhcnRdO1xuICAgICAgICAgICAgfSwgc2VsZi51bm9ic2VydmVkRGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gLy8gRG9uJ3QgcmVhY3QgdG8gZGF0YSBjaGFuZ2VzIGZvciBjYXNlcyBsaWtlIHRoZSBgeC1jcmVhdGVkYCBob29rLlxuXG5cbiAgICAgICAgaWYgKHNlbGYucGF1c2VSZWFjdGl2aXR5KSByZXR1cm47XG4gICAgICAgIHVwZGF0ZURvbSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgd2Fsa0FuZFNraXBOZXN0ZWRDb21wb25lbnRzKGVsLCBjYWxsYmFjaywgaW5pdGlhbGl6ZUNvbXBvbmVudENhbGxiYWNrID0gKCkgPT4ge30pIHtcbiAgICAgIHdhbGsoZWwsIGVsID0+IHtcbiAgICAgICAgLy8gV2UndmUgaGl0IGEgY29tcG9uZW50LlxuICAgICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCd4LWRhdGEnKSkge1xuICAgICAgICAgIC8vIElmIGl0J3Mgbm90IHRoZSBjdXJyZW50IG9uZS5cbiAgICAgICAgICBpZiAoIWVsLmlzU2FtZU5vZGUodGhpcy4kZWwpKSB7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGl0IGlmIGl0J3Mgbm90LlxuICAgICAgICAgICAgaWYgKCFlbC5fX3gpIGluaXRpYWxpemVDb21wb25lbnRDYWxsYmFjayhlbCk7IC8vIE5vdyB3ZSdsbCBsZXQgdGhhdCBzdWItY29tcG9uZW50IGRlYWwgd2l0aCBpdHNlbGYuXG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FsbGJhY2soZWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUVsZW1lbnRzKHJvb3RFbCwgZXh0cmFWYXJzID0gKCkgPT4ge30pIHtcbiAgICAgIHRoaXMud2Fsa0FuZFNraXBOZXN0ZWRDb21wb25lbnRzKHJvb3RFbCwgZWwgPT4ge1xuICAgICAgICAvLyBEb24ndCB0b3VjaCBzcGF3bnMgZnJvbSBmb3IgbG9vcFxuICAgICAgICBpZiAoZWwuX194X2Zvcl9rZXkgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlOyAvLyBEb24ndCB0b3VjaCBzcGF3bnMgZnJvbSBpZiBkaXJlY3RpdmVzXG5cbiAgICAgICAgaWYgKGVsLl9feF9pbnNlcnRlZF9tZSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUVsZW1lbnQoZWwsIGV4dHJhVmFycyk7XG4gICAgICB9LCBlbCA9PiB7XG4gICAgICAgIGVsLl9feCA9IG5ldyBDb21wb25lbnQoZWwpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmV4ZWN1dGVBbmRDbGVhclJlbWFpbmluZ1Nob3dEaXJlY3RpdmVTdGFjaygpO1xuICAgICAgdGhpcy5leGVjdXRlQW5kQ2xlYXJOZXh0VGlja1N0YWNrKHJvb3RFbCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUVsZW1lbnQoZWwsIGV4dHJhVmFycykge1xuICAgICAgLy8gVG8gc3VwcG9ydCBjbGFzcyBhdHRyaWJ1dGUgbWVyZ2luZywgd2UgaGF2ZSB0byBrbm93IHdoYXQgdGhlIGVsZW1lbnQnc1xuICAgICAgLy8gb3JpZ2luYWwgY2xhc3MgYXR0cmlidXRlIGxvb2tlZCBsaWtlIGZvciByZWZlcmVuY2UuXG4gICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdjbGFzcycpICYmIGdldFhBdHRycyhlbCwgdGhpcykubGVuZ3RoID4gMCkge1xuICAgICAgICBlbC5fX3hfb3JpZ2luYWxfY2xhc3NlcyA9IGNvbnZlcnRDbGFzc1N0cmluZ1RvQXJyYXkoZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZWdpc3Rlckxpc3RlbmVycyhlbCwgZXh0cmFWYXJzKTtcbiAgICAgIHRoaXMucmVzb2x2ZUJvdW5kQXR0cmlidXRlcyhlbCwgdHJ1ZSwgZXh0cmFWYXJzKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbGVtZW50cyhyb290RWwsIGV4dHJhVmFycyA9ICgpID0+IHt9KSB7XG4gICAgICB0aGlzLndhbGtBbmRTa2lwTmVzdGVkQ29tcG9uZW50cyhyb290RWwsIGVsID0+IHtcbiAgICAgICAgLy8gRG9uJ3QgdG91Y2ggc3Bhd25zIGZyb20gZm9yIGxvb3AgKGFuZCBjaGVjayBpZiB0aGUgcm9vdCBpcyBhY3R1YWxseSBhIGZvciBsb29wIGluIGEgcGFyZW50LCBkb24ndCBza2lwIGl0LilcbiAgICAgICAgaWYgKGVsLl9feF9mb3Jfa2V5ICE9PSB1bmRlZmluZWQgJiYgIWVsLmlzU2FtZU5vZGUodGhpcy4kZWwpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChlbCwgZXh0cmFWYXJzKTtcbiAgICAgIH0sIGVsID0+IHtcbiAgICAgICAgZWwuX194ID0gbmV3IENvbXBvbmVudChlbCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZXhlY3V0ZUFuZENsZWFyUmVtYWluaW5nU2hvd0RpcmVjdGl2ZVN0YWNrKCk7XG4gICAgICB0aGlzLmV4ZWN1dGVBbmRDbGVhck5leHRUaWNrU3RhY2socm9vdEVsKTtcbiAgICB9XG5cbiAgICBleGVjdXRlQW5kQ2xlYXJOZXh0VGlja1N0YWNrKGVsKSB7XG4gICAgICAvLyBTa2lwIHNwYXducyBmcm9tIGFscGluZSBkaXJlY3RpdmVzXG4gICAgICBpZiAoZWwgPT09IHRoaXMuJGVsICYmIHRoaXMubmV4dFRpY2tTdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFdlIHJ1biB0aGUgdGljayBzdGFjayBhZnRlciB0aGUgbmV4dCBmcmFtZSB0byBhbGxvdyBhbnlcbiAgICAgICAgLy8gcnVubmluZyB0cmFuc2l0aW9ucyB0byBwYXNzIHRoZSBpbml0aWFsIHNob3cgc3RhZ2UuXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgd2hpbGUgKHRoaXMubmV4dFRpY2tTdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRUaWNrU3RhY2suc2hpZnQoKSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXhlY3V0ZUFuZENsZWFyUmVtYWluaW5nU2hvd0RpcmVjdGl2ZVN0YWNrKCkge1xuICAgICAgLy8gVGhlIGdvYWwgaGVyZSBpcyB0byBzdGFydCBhbGwgdGhlIHgtc2hvdyB0cmFuc2l0aW9uc1xuICAgICAgLy8gYW5kIGJ1aWxkIGEgbmVzdGVkIHByb21pc2UgY2hhaW4gc28gdGhhdCBlbGVtZW50c1xuICAgICAgLy8gb25seSBoaWRlIHdoZW4gdGhlIGNoaWxkcmVuIGFyZSBmaW5pc2hlZCBoaWRpbmcuXG4gICAgICB0aGlzLnNob3dEaXJlY3RpdmVTdGFjay5yZXZlcnNlKCkubWFwKGhhbmRsZXIgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGhhbmRsZXIocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9KS5yZWR1Y2UoKHByb21pc2VDaGFpbiwgcHJvbWlzZSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvbWlzZUNoYWluLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZmluaXNoRWxlbWVudCA9PiB7XG4gICAgICAgICAgICBmaW5pc2hFbGVtZW50KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgUHJvbWlzZS5yZXNvbHZlKCgpID0+IHt9KSkuY2F0Y2goZSA9PiB7XG4gICAgICAgIGlmIChlICE9PSBUUkFOU0lUSU9OX0NBTkNFTExFRCkgdGhyb3cgZTtcbiAgICAgIH0pOyAvLyBXZSd2ZSBwcm9jZXNzZWQgdGhlIGhhbmRsZXIgc3RhY2suIGxldCdzIGNsZWFyIGl0LlxuXG4gICAgICB0aGlzLnNob3dEaXJlY3RpdmVTdGFjayA9IFtdO1xuICAgICAgdGhpcy5zaG93RGlyZWN0aXZlTGFzdEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdXBkYXRlRWxlbWVudChlbCwgZXh0cmFWYXJzKSB7XG4gICAgICB0aGlzLnJlc29sdmVCb3VuZEF0dHJpYnV0ZXMoZWwsIGZhbHNlLCBleHRyYVZhcnMpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyTGlzdGVuZXJzKGVsLCBleHRyYVZhcnMpIHtcbiAgICAgIGdldFhBdHRycyhlbCwgdGhpcykuZm9yRWFjaCgoe1xuICAgICAgICB0eXBlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICBleHByZXNzaW9uXG4gICAgICB9KSA9PiB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgJ29uJzpcbiAgICAgICAgICAgIHJlZ2lzdGVyTGlzdGVuZXIodGhpcywgZWwsIHZhbHVlLCBtb2RpZmllcnMsIGV4cHJlc3Npb24sIGV4dHJhVmFycyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ21vZGVsJzpcbiAgICAgICAgICAgIHJlZ2lzdGVyTW9kZWxMaXN0ZW5lcih0aGlzLCBlbCwgbW9kaWZpZXJzLCBleHByZXNzaW9uLCBleHRyYVZhcnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc29sdmVCb3VuZEF0dHJpYnV0ZXMoZWwsIGluaXRpYWxVcGRhdGUgPSBmYWxzZSwgZXh0cmFWYXJzKSB7XG4gICAgICBsZXQgYXR0cnMgPSBnZXRYQXR0cnMoZWwsIHRoaXMpO1xuICAgICAgYXR0cnMuZm9yRWFjaCgoe1xuICAgICAgICB0eXBlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICBleHByZXNzaW9uXG4gICAgICB9KSA9PiB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgJ21vZGVsJzpcbiAgICAgICAgICAgIGhhbmRsZUF0dHJpYnV0ZUJpbmRpbmdEaXJlY3RpdmUodGhpcywgZWwsICd2YWx1ZScsIGV4cHJlc3Npb24sIGV4dHJhVmFycywgdHlwZSwgbW9kaWZpZXJzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYmluZCc6XG4gICAgICAgICAgICAvLyBUaGUgOmtleSBiaW5kaW5nIG9uIGFuIHgtZm9yIGlzIHNwZWNpYWwsIGlnbm9yZSBpdC5cbiAgICAgICAgICAgIGlmIChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0ZW1wbGF0ZScgJiYgdmFsdWUgPT09ICdrZXknKSByZXR1cm47XG4gICAgICAgICAgICBoYW5kbGVBdHRyaWJ1dGVCaW5kaW5nRGlyZWN0aXZlKHRoaXMsIGVsLCB2YWx1ZSwgZXhwcmVzc2lvbiwgZXh0cmFWYXJzLCB0eXBlLCBtb2RpZmllcnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLmV2YWx1YXRlUmV0dXJuRXhwcmVzc2lvbihlbCwgZXhwcmVzc2lvbiwgZXh0cmFWYXJzKTtcbiAgICAgICAgICAgIGhhbmRsZVRleHREaXJlY3RpdmUoZWwsIG91dHB1dCwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgICAgaGFuZGxlSHRtbERpcmVjdGl2ZSh0aGlzLCBlbCwgZXhwcmVzc2lvbiwgZXh0cmFWYXJzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnc2hvdyc6XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5ldmFsdWF0ZVJldHVybkV4cHJlc3Npb24oZWwsIGV4cHJlc3Npb24sIGV4dHJhVmFycyk7XG4gICAgICAgICAgICBoYW5kbGVTaG93RGlyZWN0aXZlKHRoaXMsIGVsLCBvdXRwdXQsIG1vZGlmaWVycywgaW5pdGlhbFVwZGF0ZSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2lmJzpcbiAgICAgICAgICAgIC8vIElmIHRoaXMgZWxlbWVudCBhbHNvIGhhcyB4LWZvciBvbiBpdCwgZG9uJ3QgcHJvY2VzcyB4LWlmLlxuICAgICAgICAgICAgLy8gV2Ugd2lsbCBsZXQgdGhlIFwieC1mb3JcIiBkaXJlY3RpdmUgaGFuZGxlIHRoZSBcImlmXCJpbmcuXG4gICAgICAgICAgICBpZiAoYXR0cnMuc29tZShpID0+IGkudHlwZSA9PT0gJ2ZvcicpKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5ldmFsdWF0ZVJldHVybkV4cHJlc3Npb24oZWwsIGV4cHJlc3Npb24sIGV4dHJhVmFycyk7XG4gICAgICAgICAgICBoYW5kbGVJZkRpcmVjdGl2ZSh0aGlzLCBlbCwgb3V0cHV0LCBpbml0aWFsVXBkYXRlLCBleHRyYVZhcnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdmb3InOlxuICAgICAgICAgICAgaGFuZGxlRm9yRGlyZWN0aXZlKHRoaXMsIGVsLCBleHByZXNzaW9uLCBpbml0aWFsVXBkYXRlLCBleHRyYVZhcnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdjbG9hayc6XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3gtY2xvYWsnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBldmFsdWF0ZVJldHVybkV4cHJlc3Npb24oZWwsIGV4cHJlc3Npb24sIGV4dHJhVmFycyA9ICgpID0+IHt9KSB7XG4gICAgICByZXR1cm4gc2FmZXJFdmFsKGVsLCBleHByZXNzaW9uLCB0aGlzLiRkYXRhLCBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgZXh0cmFWYXJzKCkpLCB7fSwge1xuICAgICAgICAkZGlzcGF0Y2g6IHRoaXMuZ2V0RGlzcGF0Y2hGdW5jdGlvbihlbClcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBldmFsdWF0ZUNvbW1hbmRFeHByZXNzaW9uKGVsLCBleHByZXNzaW9uLCBleHRyYVZhcnMgPSAoKSA9PiB7fSkge1xuICAgICAgcmV0dXJuIHNhZmVyRXZhbE5vUmV0dXJuKGVsLCBleHByZXNzaW9uLCB0aGlzLiRkYXRhLCBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgZXh0cmFWYXJzKCkpLCB7fSwge1xuICAgICAgICAkZGlzcGF0Y2g6IHRoaXMuZ2V0RGlzcGF0Y2hGdW5jdGlvbihlbClcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBnZXREaXNwYXRjaEZ1bmN0aW9uKGVsKSB7XG4gICAgICByZXR1cm4gKGV2ZW50LCBkZXRhaWwgPSB7fSkgPT4ge1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChldmVudCwge1xuICAgICAgICAgIGRldGFpbCxcbiAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGlzdGVuRm9yTmV3RWxlbWVudHNUb0luaXRpYWxpemUoKSB7XG4gICAgICBjb25zdCB0YXJnZXROb2RlID0gdGhpcy4kZWw7XG4gICAgICBjb25zdCBvYnNlcnZlck9wdGlvbnMgPSB7XG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBGaWx0ZXIgb3V0IG11dGF0aW9ucyB0cmlnZ2VyZWQgZnJvbSBjaGlsZCBjb21wb25lbnRzLlxuICAgICAgICAgIGNvbnN0IGNsb3Nlc3RQYXJlbnRDb21wb25lbnQgPSBtdXRhdGlvbnNbaV0udGFyZ2V0LmNsb3Nlc3QoJ1t4LWRhdGFdJyk7XG4gICAgICAgICAgaWYgKCEoY2xvc2VzdFBhcmVudENvbXBvbmVudCAmJiBjbG9zZXN0UGFyZW50Q29tcG9uZW50LmlzU2FtZU5vZGUodGhpcy4kZWwpKSkgY29udGludWU7XG5cbiAgICAgICAgICBpZiAobXV0YXRpb25zW2ldLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiBtdXRhdGlvbnNbaV0uYXR0cmlidXRlTmFtZSA9PT0gJ3gtZGF0YScpIHtcbiAgICAgICAgICAgIGNvbnN0IHhBdHRyID0gbXV0YXRpb25zW2ldLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3gtZGF0YScpIHx8ICd7fSc7XG4gICAgICAgICAgICBjb25zdCByYXdEYXRhID0gc2FmZXJFdmFsKHRoaXMuJGVsLCB4QXR0ciwge1xuICAgICAgICAgICAgICAkZWw6IHRoaXMuJGVsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHJhd0RhdGEpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuJGRhdGFba2V5XSAhPT0gcmF3RGF0YVtrZXldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZGF0YVtrZXldID0gcmF3RGF0YVtrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobXV0YXRpb25zW2ldLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbXV0YXRpb25zW2ldLmFkZGVkTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT09IDEgfHwgbm9kZS5fX3hfaW5zZXJ0ZWRfbWUpIHJldHVybjtcblxuICAgICAgICAgICAgICBpZiAobm9kZS5tYXRjaGVzKCdbeC1kYXRhXScpICYmICFub2RlLl9feCkge1xuICAgICAgICAgICAgICAgIG5vZGUuX194ID0gbmV3IENvbXBvbmVudChub2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVFbGVtZW50cyhub2RlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldE5vZGUsIG9ic2VydmVyT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZ2V0UmVmc1Byb3h5KCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHJlZk9iaiA9IHt9O1xuICAgICAgLy8gT25lIG9mIHRoZSBnb2FscyBvZiB0aGlzIGlzIHRvIG5vdCBob2xkIGVsZW1lbnRzIGluIG1lbW9yeSwgYnV0IHJhdGhlciByZS1ldmFsdWF0ZVxuICAgICAgLy8gdGhlIERPTSB3aGVuIHRoZSBzeXN0ZW0gbmVlZHMgc29tZXRoaW5nIGZyb20gaXQuIFRoaXMgd2F5LCB0aGUgZnJhbWV3b3JrIGlzIGZsZXhpYmxlIGFuZFxuICAgICAgLy8gZnJpZW5kbHkgdG8gb3V0c2lkZSBET00gY2hhbmdlcyBmcm9tIGxpYnJhcmllcyBsaWtlIFZ1ZS9MaXZld2lyZS5cbiAgICAgIC8vIEZvciB0aGlzIHJlYXNvbiwgSSdtIHVzaW5nIGFuIFwib24tZGVtYW5kXCIgcHJveHkgdG8gZmFrZSBhIFwiJHJlZnNcIiBvYmplY3QuXG5cbiAgICAgIHJldHVybiBuZXcgUHJveHkocmVmT2JqLCB7XG4gICAgICAgIGdldChvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5ID09PSAnJGlzQWxwaW5lUHJveHknKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB2YXIgcmVmOyAvLyBXZSBjYW4ndCBqdXN0IHF1ZXJ5IHRoZSBET00gYmVjYXVzZSBpdCdzIGhhcmQgdG8gZmlsdGVyIG91dCByZWZzIGluXG4gICAgICAgICAgLy8gbmVzdGVkIGNvbXBvbmVudHMuXG5cbiAgICAgICAgICBzZWxmLndhbGtBbmRTa2lwTmVzdGVkQ29tcG9uZW50cyhzZWxmLiRlbCwgZWwgPT4ge1xuICAgICAgICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgneC1yZWYnKSAmJiBlbC5nZXRBdHRyaWJ1dGUoJ3gtcmVmJykgPT09IHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIHJlZiA9IGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiByZWY7XG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICBjb25zdCBBbHBpbmUgPSB7XG4gICAgdmVyc2lvbjogXCIyLjguMFwiLFxuICAgIHBhdXNlTXV0YXRpb25PYnNlcnZlcjogZmFsc2UsXG4gICAgbWFnaWNQcm9wZXJ0aWVzOiB7fSxcbiAgICBvbkNvbXBvbmVudEluaXRpYWxpemVkczogW10sXG4gICAgb25CZWZvcmVDb21wb25lbnRJbml0aWFsaXplZHM6IFtdLFxuICAgIGlnbm9yZUZvY3VzZWRGb3JWYWx1ZUJpbmRpbmc6IGZhbHNlLFxuICAgIHN0YXJ0OiBhc3luYyBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgIGlmICghaXNUZXN0aW5nKCkpIHtcbiAgICAgICAgYXdhaXQgZG9tUmVhZHkoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kaXNjb3ZlckNvbXBvbmVudHMoZWwgPT4ge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb21wb25lbnQoZWwpO1xuICAgICAgfSk7IC8vIEl0J3MgZWFzaWVyIGFuZCBtb3JlIHBlcmZvcm1hbnQgdG8ganVzdCBzdXBwb3J0IFR1cmJvbGlua3MgdGhhbiBsaXN0ZW5cbiAgICAgIC8vIHRvIE11dGF0aW9uT2JzZXJ2ZXIgbXV0YXRpb25zIGF0IHRoZSBkb2N1bWVudCBsZXZlbC5cblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvbGlua3M6bG9hZFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZGlzY292ZXJVbmluaXRpYWxpemVkQ29tcG9uZW50cyhlbCA9PiB7XG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50KGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubGlzdGVuRm9yTmV3VW5pbml0aWFsaXplZENvbXBvbmVudHNBdFJ1blRpbWUoKTtcbiAgICB9LFxuICAgIGRpc2NvdmVyQ29tcG9uZW50czogZnVuY3Rpb24gZGlzY292ZXJDb21wb25lbnRzKGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCByb290RWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW3gtZGF0YV0nKTtcbiAgICAgIHJvb3RFbHMuZm9yRWFjaChyb290RWwgPT4ge1xuICAgICAgICBjYWxsYmFjayhyb290RWwpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBkaXNjb3ZlclVuaW5pdGlhbGl6ZWRDb21wb25lbnRzOiBmdW5jdGlvbiBkaXNjb3ZlclVuaW5pdGlhbGl6ZWRDb21wb25lbnRzKGNhbGxiYWNrLCBlbCA9IG51bGwpIHtcbiAgICAgIGNvbnN0IHJvb3RFbHMgPSAoZWwgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoJ1t4LWRhdGFdJyk7XG4gICAgICBBcnJheS5mcm9tKHJvb3RFbHMpLmZpbHRlcihlbCA9PiBlbC5fX3ggPT09IHVuZGVmaW5lZCkuZm9yRWFjaChyb290RWwgPT4ge1xuICAgICAgICBjYWxsYmFjayhyb290RWwpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBsaXN0ZW5Gb3JOZXdVbmluaXRpYWxpemVkQ29tcG9uZW50c0F0UnVuVGltZTogZnVuY3Rpb24gbGlzdGVuRm9yTmV3VW5pbml0aWFsaXplZENvbXBvbmVudHNBdFJ1blRpbWUoKSB7XG4gICAgICBjb25zdCB0YXJnZXROb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgICAgY29uc3Qgb2JzZXJ2ZXJPcHRpb25zID0ge1xuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgIH07XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhdXNlTXV0YXRpb25PYnNlcnZlcikgcmV0dXJuO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG11dGF0aW9uc1tpXS5hZGRlZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG11dGF0aW9uc1tpXS5hZGRlZE5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgICAgIC8vIERpc2NhcmQgbm9uLWVsZW1lbnQgbm9kZXMgKGxpa2UgbGluZS1icmVha3MpXG4gICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSAxKSByZXR1cm47IC8vIERpc2NhcmQgYW55IGNoYW5nZXMgaGFwcGVuaW5nIHdpdGhpbiBhbiBleGlzdGluZyBjb21wb25lbnQuXG4gICAgICAgICAgICAgIC8vIFRoZXkgd2lsbCB0YWtlIGNhcmUgb2YgdGhlbXNlbHZlcy5cblxuICAgICAgICAgICAgICBpZiAobm9kZS5wYXJlbnRFbGVtZW50ICYmIG5vZGUucGFyZW50RWxlbWVudC5jbG9zZXN0KCdbeC1kYXRhXScpKSByZXR1cm47XG4gICAgICAgICAgICAgIHRoaXMuZGlzY292ZXJVbmluaXRpYWxpemVkQ29tcG9uZW50cyhlbCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50KGVsKTtcbiAgICAgICAgICAgICAgfSwgbm9kZS5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldE5vZGUsIG9ic2VydmVyT3B0aW9ucyk7XG4gICAgfSxcbiAgICBpbml0aWFsaXplQ29tcG9uZW50OiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KGVsKSB7XG4gICAgICBpZiAoIWVsLl9feCkge1xuICAgICAgICAvLyBXcmFwIGluIGEgdHJ5L2NhdGNoIHNvIHRoYXQgd2UgZG9uJ3QgcHJldmVudCBvdGhlciBjb21wb25lbnRzXG4gICAgICAgIC8vIGZyb20gaW5pdGlhbGl6aW5nIHdoZW4gb25lIGNvbXBvbmVudCBjb250YWlucyBhbiBlcnJvci5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlbC5fX3ggPSBuZXcgQ29tcG9uZW50KGVsKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24gY2xvbmUoY29tcG9uZW50LCBuZXdFbCkge1xuICAgICAgaWYgKCFuZXdFbC5fX3gpIHtcbiAgICAgICAgbmV3RWwuX194ID0gbmV3IENvbXBvbmVudChuZXdFbCwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFkZE1hZ2ljUHJvcGVydHk6IGZ1bmN0aW9uIGFkZE1hZ2ljUHJvcGVydHkobmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMubWFnaWNQcm9wZXJ0aWVzW25hbWVdID0gY2FsbGJhY2s7XG4gICAgfSxcbiAgICBvbkNvbXBvbmVudEluaXRpYWxpemVkOiBmdW5jdGlvbiBvbkNvbXBvbmVudEluaXRpYWxpemVkKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLm9uQ29tcG9uZW50SW5pdGlhbGl6ZWRzLnB1c2goY2FsbGJhY2spO1xuICAgIH0sXG4gICAgb25CZWZvcmVDb21wb25lbnRJbml0aWFsaXplZDogZnVuY3Rpb24gb25CZWZvcmVDb21wb25lbnRJbml0aWFsaXplZChjYWxsYmFjaykge1xuICAgICAgdGhpcy5vbkJlZm9yZUNvbXBvbmVudEluaXRpYWxpemVkcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCFpc1Rlc3RpbmcoKSkge1xuICAgIHdpbmRvdy5BbHBpbmUgPSBBbHBpbmU7XG5cbiAgICBpZiAod2luZG93LmRlZmVyTG9hZGluZ0FscGluZSkge1xuICAgICAgd2luZG93LmRlZmVyTG9hZGluZ0FscGluZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5BbHBpbmUuc3RhcnQoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuQWxwaW5lLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIEFscGluZTtcblxufSkpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/alpinejs/dist/alpine.js\n");

/***/ }),

/***/ "./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/trix/dist/trix.css":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/css-loader??ref--6-1!./node_modules/postcss-loader/src??ref--6-2!./node_modules/trix/dist/trix.css ***!
  \*************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@charset \\\"UTF-8\\\";\\n\\n/*\\nTrix 1.2.3\\nCopyright © 2020 Basecamp, LLC\\nhttp://trix-editor.org/*/\\n\\ntrix-editor {\\n  border: 1px solid #bbb;\\n  border-radius: 3px;\\n  margin: 0;\\n  padding: 0.4em 0.6em;\\n  min-height: 5em;\\n  outline: none;\\n}\\n\\ntrix-toolbar * {\\n  box-sizing: border-box;\\n}\\n\\ntrix-toolbar .trix-button-row {\\n  display: flex;\\n  flex-wrap: nowrap;\\n  justify-content: space-between;\\n  overflow-x: auto;\\n}\\n\\ntrix-toolbar .trix-button-group {\\n  display: flex;\\n  margin-bottom: 10px;\\n  border: 1px solid #bbb;\\n  border-top-color: #ccc;\\n  border-bottom-color: #888;\\n  border-radius: 3px;\\n}\\n\\ntrix-toolbar .trix-button-group:not(:first-child) {\\n  margin-left: 1.5vw;\\n}\\n\\n@media (max-device-width: 768px) {\\n  trix-toolbar .trix-button-group:not(:first-child) {\\n    margin-left: 0;\\n  }\\n}\\n\\ntrix-toolbar .trix-button-group-spacer {\\n  flex-grow: 1;\\n}\\n\\n@media (max-device-width: 768px) {\\n  trix-toolbar .trix-button-group-spacer {\\n    display: none;\\n  }\\n}\\n\\ntrix-toolbar .trix-button {\\n  position: relative;\\n  float: left;\\n  color: rgba(0, 0, 0, 0.6);\\n  font-size: 0.75em;\\n  font-weight: 600;\\n  white-space: nowrap;\\n  padding: 0 0.5em;\\n  margin: 0;\\n  outline: none;\\n  border: none;\\n  border-bottom: 1px solid #ddd;\\n  border-radius: 0;\\n  background: transparent;\\n}\\n\\ntrix-toolbar .trix-button:not(:first-child) {\\n  border-left: 1px solid #ccc;\\n}\\n\\ntrix-toolbar .trix-button.trix-active {\\n  background: #cbeefa;\\n  color: black;\\n}\\n\\ntrix-toolbar .trix-button:not(:disabled) {\\n  cursor: pointer;\\n}\\n\\ntrix-toolbar .trix-button:disabled {\\n  color: rgba(0, 0, 0, 0.125);\\n}\\n\\n@media (max-device-width: 768px) {\\n  trix-toolbar .trix-button {\\n    letter-spacing: -0.01em;\\n    padding: 0 0.3em;\\n  }\\n}\\n\\ntrix-toolbar .trix-button--icon {\\n  font-size: inherit;\\n  width: 2.6em;\\n  height: 1.6em;\\n  max-width: calc(0.8em + 4vw);\\n  text-indent: -9999px;\\n}\\n\\n@media (max-device-width: 768px) {\\n  trix-toolbar .trix-button--icon {\\n    height: 2em;\\n    max-width: calc(0.8em + 3.5vw);\\n  }\\n}\\n\\ntrix-toolbar .trix-button--icon::before {\\n  display: inline-block;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  opacity: 0.6;\\n  content: \\\"\\\";\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  background-size: contain;\\n}\\n\\n@media (max-device-width: 768px) {\\n  trix-toolbar .trix-button--icon::before {\\n    right: 6%;\\n    left: 6%;\\n  }\\n}\\n\\ntrix-toolbar .trix-button--icon.trix-active::before {\\n  opacity: 1;\\n}\\n\\ntrix-toolbar .trix-button--icon:disabled::before {\\n  opacity: 0.125;\\n}\\n\\ntrix-toolbar .trix-button--icon-attach::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M16.5%206v11.5a4%204%200%201%201-8%200V5a2.5%202.5%200%200%201%205%200v10.5a1%201%200%201%201-2%200V6H10v9.5a2.5%202.5%200%200%200%205%200V5a4%204%200%201%200-8%200v12.5a5.5%205.5%200%200%200%2011%200V6h-1.5z%22%2F%3E%3C%2Fsvg%3E);\\n  top: 8%;\\n  bottom: 4%;\\n}\\n\\ntrix-toolbar .trix-button--icon-bold::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M15.6%2011.8c1-.7%201.6-1.8%201.6-2.8a4%204%200%200%200-4-4H7v14h7c2.1%200%203.7-1.7%203.7-3.8%200-1.5-.8-2.8-2.1-3.4zM10%207.5h3a1.5%201.5%200%201%201%200%203h-3v-3zm3.5%209H10v-3h3.5a1.5%201.5%200%201%201%200%203z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-italic::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M10%205v3h2.2l-3.4%208H6v3h8v-3h-2.2l3.4-8H18V5h-8z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-link::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M9.88%2013.7a4.3%204.3%200%200%201%200-6.07l3.37-3.37a4.26%204.26%200%200%201%206.07%200%204.3%204.3%200%200%201%200%206.06l-1.96%201.72a.91.91%200%201%201-1.3-1.3l1.97-1.71a2.46%202.46%200%200%200-3.48-3.48l-3.38%203.37a2.46%202.46%200%200%200%200%203.48.91.91%200%201%201-1.3%201.3z%22%2F%3E%3Cpath%20d%3D%22M4.25%2019.46a4.3%204.3%200%200%201%200-6.07l1.93-1.9a.91.91%200%201%201%201.3%201.3l-1.93%201.9a2.46%202.46%200%200%200%203.48%203.48l3.37-3.38c.96-.96.96-2.52%200-3.48a.91.91%200%201%201%201.3-1.3%204.3%204.3%200%200%201%200%206.07l-3.38%203.38a4.26%204.26%200%200%201-6.07%200z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-strike::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M12.73%2014l.28.14c.26.15.45.3.57.44.12.14.18.3.18.5%200%20.3-.15.56-.44.75-.3.2-.76.3-1.39.3A13.52%2013.52%200%200%201%207%2014.95v3.37a10.64%2010.64%200%200%200%204.84.88c1.26%200%202.35-.19%203.28-.56.93-.37%201.64-.9%202.14-1.57s.74-1.45.74-2.32c0-.26-.02-.51-.06-.75h-5.21zm-5.5-4c-.08-.34-.12-.7-.12-1.1%200-1.29.52-2.3%201.58-3.02%201.05-.72%202.5-1.08%204.34-1.08%201.62%200%203.28.34%204.97%201l-1.3%202.93c-1.47-.6-2.73-.9-3.8-.9-.55%200-.96.08-1.2.26-.26.17-.38.38-.38.64%200%20.27.16.52.48.74.17.12.53.3%201.05.53H7.23zM3%2013h18v-2H3v2z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-quote::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20version%3D%221%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M6%2017h3l2-4V7H5v6h3zm8%200h3l2-4V7h-6v6h3z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-heading-1::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20version%3D%221%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M12%209v3H9v7H6v-7H3V9h9zM8%204h14v3h-6v12h-3V7H8V4z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-code::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M18.2%2012L15%2015.2l1.4%201.4L21%2012l-4.6-4.6L15%208.8l3.2%203.2zM5.8%2012L9%208.8%207.6%207.4%203%2012l4.6%204.6L9%2015.2%205.8%2012z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-bullet-list::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20version%3D%221%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%204a2%202%200%201%200%200%204%202%202%200%200%200%200-4zm0%206a2%202%200%201%200%200%204%202%202%200%200%200%200-4zm0%206a2%202%200%201%200%200%204%202%202%200%200%200%200-4zm4%203h14v-2H8v2zm0-6h14v-2H8v2zm0-8v2h14V5H8z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-number-list::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M2%2017h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1%203h1.8L2%2013.1v.9h3v-1H3.2L5%2010.9V10H2v1zm5-6v2h14V5H7zm0%2014h14v-2H7v2zm0-6h14v-2H7v2z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-undo::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M12.5%208c-2.6%200-5%201-6.9%202.6L2%207v9h9l-3.6-3.6A8%208%200%200%201%2020%2016l2.4-.8a10.5%2010.5%200%200%200-10-7.2z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-redo::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M18.4%2010.6a10.5%2010.5%200%200%200-16.9%204.6L4%2016a8%208%200%200%201%2012.7-3.6L13%2016h9V7l-3.6%203.6z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-decrease-nesting-level::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M3%2019h19v-2H3v2zm7-6h12v-2H10v2zm-8.3-.3l2.8%202.9L6%2014.2%204%2012l2-2-1.4-1.5L1%2012l.7.7zM3%205v2h19V5H3z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-button--icon-increase-nesting-level::before {\\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M3%2019h19v-2H3v2zm7-6h12v-2H10v2zm-6.9-1L1%2014.2l1.4%201.4L6%2012l-.7-.7-2.8-2.8L1%209.9%203.1%2012zM3%205v2h19V5H3z%22%2F%3E%3C%2Fsvg%3E);\\n}\\n\\ntrix-toolbar .trix-dialogs {\\n  position: relative;\\n}\\n\\ntrix-toolbar .trix-dialog {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  font-size: 0.75em;\\n  padding: 15px 10px;\\n  background: #fff;\\n  box-shadow: 0 0.3em 1em #ccc;\\n  border-top: 2px solid #888;\\n  border-radius: 5px;\\n  z-index: 5;\\n}\\n\\ntrix-toolbar .trix-input--dialog {\\n  font-size: inherit;\\n  font-weight: normal;\\n  padding: 0.5em 0.8em;\\n  margin: 0 10px 0 0;\\n  border-radius: 3px;\\n  border: 1px solid #bbb;\\n  background-color: #fff;\\n  box-shadow: none;\\n  outline: none;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n}\\n\\ntrix-toolbar .trix-input--dialog.validate:invalid {\\n  box-shadow: #F00 0px 0px 1.5px 1px;\\n}\\n\\ntrix-toolbar .trix-button--dialog {\\n  font-size: inherit;\\n  padding: 0.5em;\\n  border-bottom: none;\\n}\\n\\ntrix-toolbar .trix-dialog--link {\\n  max-width: 600px;\\n}\\n\\ntrix-toolbar .trix-dialog__link-fields {\\n  display: flex;\\n  align-items: baseline;\\n}\\n\\ntrix-toolbar .trix-dialog__link-fields .trix-input {\\n  flex: 1;\\n}\\n\\ntrix-toolbar .trix-dialog__link-fields .trix-button-group {\\n  flex: 0 0 content;\\n  margin: 0;\\n}\\n\\ntrix-editor [data-trix-mutable]:not(.attachment__caption-editor) {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\ntrix-editor [data-trix-mutable]::-moz-selection,\\ntrix-editor [data-trix-cursor-target]::-moz-selection, trix-editor [data-trix-mutable] ::-moz-selection {\\n  background: none;\\n}\\n\\ntrix-editor [data-trix-mutable]::-moz-selection, trix-editor [data-trix-cursor-target]::-moz-selection, trix-editor [data-trix-mutable] ::-moz-selection {\\n  background: none;\\n}\\n\\ntrix-editor [data-trix-mutable]::selection,\\ntrix-editor [data-trix-cursor-target]::selection, trix-editor [data-trix-mutable] ::selection {\\n  background: none;\\n}\\n\\ntrix-editor [data-trix-mutable].attachment__caption-editor:focus::-moz-selection {\\n  background: highlight;\\n}\\n\\ntrix-editor [data-trix-mutable].attachment__caption-editor:focus::selection {\\n  background: highlight;\\n}\\n\\ntrix-editor [data-trix-mutable].attachment.attachment--file {\\n  box-shadow: 0 0 0 2px highlight;\\n  border-color: transparent;\\n}\\n\\ntrix-editor [data-trix-mutable].attachment img {\\n  box-shadow: 0 0 0 2px highlight;\\n}\\n\\ntrix-editor .attachment {\\n  position: relative;\\n}\\n\\ntrix-editor .attachment:hover {\\n  cursor: default;\\n}\\n\\ntrix-editor .attachment--preview .attachment__caption:hover {\\n  cursor: text;\\n}\\n\\ntrix-editor .attachment__progress {\\n  position: absolute;\\n  z-index: 1;\\n  height: 20px;\\n  top: calc(50% - 10px);\\n  left: 5%;\\n  width: 90%;\\n  opacity: 0.9;\\n  transition: opacity 200ms ease-in;\\n}\\n\\ntrix-editor .attachment__progress[value=\\\"100\\\"] {\\n  opacity: 0;\\n}\\n\\ntrix-editor .attachment__caption-editor {\\n  display: inline-block;\\n  width: 100%;\\n  margin: 0;\\n  padding: 0;\\n  font-size: inherit;\\n  font-family: inherit;\\n  line-height: inherit;\\n  color: inherit;\\n  text-align: center;\\n  vertical-align: top;\\n  border: none;\\n  outline: none;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n}\\n\\ntrix-editor .attachment__toolbar {\\n  position: absolute;\\n  z-index: 1;\\n  top: -0.9em;\\n  left: 0;\\n  width: 100%;\\n  text-align: center;\\n}\\n\\ntrix-editor .trix-button-group {\\n  display: inline-flex;\\n}\\n\\ntrix-editor .trix-button {\\n  position: relative;\\n  float: left;\\n  color: #666;\\n  white-space: nowrap;\\n  font-size: 80%;\\n  padding: 0 0.8em;\\n  margin: 0;\\n  outline: none;\\n  border: none;\\n  border-radius: 0;\\n  background: transparent;\\n}\\n\\ntrix-editor .trix-button:not(:first-child) {\\n  border-left: 1px solid #ccc;\\n}\\n\\ntrix-editor .trix-button.trix-active {\\n  background: #cbeefa;\\n}\\n\\ntrix-editor .trix-button:not(:disabled) {\\n  cursor: pointer;\\n}\\n\\ntrix-editor .trix-button--remove {\\n  text-indent: -9999px;\\n  display: inline-block;\\n  padding: 0;\\n  outline: none;\\n  width: 1.8em;\\n  height: 1.8em;\\n  line-height: 1.8em;\\n  border-radius: 50%;\\n  background-color: #fff;\\n  border: 2px solid highlight;\\n  box-shadow: 1px 1px 6px rgba(0, 0, 0, 0.25);\\n}\\n\\ntrix-editor .trix-button--remove::before {\\n  display: inline-block;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  opacity: 0.7;\\n  content: \\\"\\\";\\n  background-image: url(data:image/svg+xml,%3Csvg%20height%3D%2224%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M19%206.4L17.6%205%2012%2010.6%206.4%205%205%206.4l5.6%205.6L5%2017.6%206.4%2019l5.6-5.6%205.6%205.6%201.4-1.4-5.6-5.6z%22%2F%3E%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%3C%2Fsvg%3E);\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  background-size: 90%;\\n}\\n\\ntrix-editor .trix-button--remove:hover {\\n  border-color: #333;\\n}\\n\\ntrix-editor .trix-button--remove:hover::before {\\n  opacity: 1;\\n}\\n\\ntrix-editor .attachment__metadata-container {\\n  position: relative;\\n}\\n\\ntrix-editor .attachment__metadata {\\n  position: absolute;\\n  left: 50%;\\n  top: 2em;\\n  transform: translate(-50%, 0);\\n  max-width: 90%;\\n  padding: 0.1em 0.6em;\\n  font-size: 0.8em;\\n  color: #fff;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  border-radius: 3px;\\n}\\n\\ntrix-editor .attachment__metadata .attachment__name {\\n  display: inline-block;\\n  max-width: 100%;\\n  vertical-align: bottom;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\ntrix-editor .attachment__metadata .attachment__size {\\n  margin-left: 0.2em;\\n  white-space: nowrap;\\n}\\n\\n@charset \\\"UTF-8\\\";\\n\\n.trix-content {\\n  line-height: 1.5;\\n}\\n\\n.trix-content * {\\n  box-sizing: border-box;\\n}\\n\\n.trix-content h1 {\\n  font-size: 1.2em;\\n  line-height: 1.2;\\n  margin: 0;\\n}\\n\\n.trix-content blockquote {\\n  margin: 0 0 0 0.3em;\\n  padding: 0 0 0 0.6em;\\n  border-left: 0.3em solid #ccc;\\n}\\n\\n.trix-content pre {\\n  display: inline-block;\\n  width: 100%;\\n  vertical-align: top;\\n  font-family: monospace;\\n  font-size: 0.9em;\\n  margin: 0;\\n  padding: 0.5em;\\n  white-space: pre;\\n  background-color: #eee;\\n  overflow-x: auto;\\n}\\n\\n.trix-content ul, .trix-content ol, .trix-content li {\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.trix-content ul li, .trix-content ol li, .trix-content li li {\\n  margin-left: 1em;\\n}\\n\\n.trix-content img {\\n  max-width: 100%;\\n  height: auto;\\n}\\n\\n.trix-content .attachment {\\n  display: inline-block;\\n  position: relative;\\n  max-width: 100%;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.trix-content .attachment a {\\n  color: inherit;\\n  text-decoration: none;\\n}\\n\\n.trix-content .attachment a:hover, .trix-content .attachment a:visited:hover {\\n  color: inherit;\\n}\\n\\n.trix-content .attachment__caption {\\n  padding: 0;\\n  text-align: center;\\n}\\n\\n.trix-content .attachment__caption .attachment__name + .attachment__size::before {\\n  content: ' \\\\B7   ';\\n}\\n\\n.trix-content .attachment--preview {\\n  width: 100%;\\n  text-align: center;\\n}\\n\\n.trix-content .attachment--preview .attachment__caption {\\n  color: #666;\\n  font-size: 0.9em;\\n  line-height: 1.2;\\n}\\n\\n.trix-content .attachment--file {\\n  color: #333;\\n  line-height: 1;\\n  margin: 0 2px 2px 0;\\n  padding: 0.4em 1em;\\n  border: 1px solid #bbb;\\n  border-radius: 5px;\\n}\\n\\n.trix-content .attachment-gallery {\\n  display: flex;\\n  flex-wrap: wrap;\\n  position: relative;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.trix-content .attachment-gallery .attachment {\\n  flex: 1 0 33%;\\n  padding: 0 0.5em;\\n  max-width: 33%;\\n}\\n\\n.trix-content .attachment-gallery.attachment-gallery--2 .attachment, .trix-content .attachment-gallery.attachment-gallery--4 .attachment {\\n  flex-basis: 50%;\\n  max-width: 50%;\\n}\\n\", \"\"]);\n\n// exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHJpeC9kaXN0L3RyaXguY3NzPzFkYmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkJBQTJCLG1CQUFPLENBQUMsbUZBQWtDO0FBQ3JFOzs7QUFHQTtBQUNBLGNBQWMsUUFBUyxzQkFBc0IsOEZBQThGLDJCQUEyQix1QkFBdUIsY0FBYyx5QkFBeUIsb0JBQW9CLGtCQUFrQixHQUFHLG9CQUFvQiwyQkFBMkIsR0FBRyxtQ0FBbUMsa0JBQWtCLHNCQUFzQixtQ0FBbUMscUJBQXFCLEdBQUcscUNBQXFDLGtCQUFrQix3QkFBd0IsMkJBQTJCLDJCQUEyQiw4QkFBOEIsdUJBQXVCLEdBQUcsdURBQXVELHVCQUF1QixHQUFHLHNDQUFzQyx1REFBdUQscUJBQXFCLEtBQUssR0FBRyw0Q0FBNEMsaUJBQWlCLEdBQUcsc0NBQXNDLDRDQUE0QyxvQkFBb0IsS0FBSyxHQUFHLCtCQUErQix1QkFBdUIsZ0JBQWdCLDhCQUE4QixzQkFBc0IscUJBQXFCLHdCQUF3QixxQkFBcUIsY0FBYyxrQkFBa0IsaUJBQWlCLGtDQUFrQyxxQkFBcUIsNEJBQTRCLEdBQUcsaURBQWlELGdDQUFnQyxHQUFHLDJDQUEyQyx3QkFBd0IsaUJBQWlCLEdBQUcsOENBQThDLG9CQUFvQixHQUFHLHdDQUF3QyxnQ0FBZ0MsR0FBRyxzQ0FBc0MsK0JBQStCLDhCQUE4Qix1QkFBdUIsS0FBSyxHQUFHLHFDQUFxQyx1QkFBdUIsaUJBQWlCLGtCQUFrQixpQ0FBaUMseUJBQXlCLEdBQUcsc0NBQXNDLHFDQUFxQyxrQkFBa0IscUNBQXFDLEtBQUssR0FBRyw2Q0FBNkMsMEJBQTBCLHVCQUF1QixXQUFXLGFBQWEsY0FBYyxZQUFZLGlCQUFpQixrQkFBa0IsZ0NBQWdDLGlDQUFpQyw2QkFBNkIsR0FBRyxzQ0FBc0MsNkNBQTZDLGdCQUFnQixlQUFlLEtBQUssR0FBRyx5REFBeUQsZUFBZSxHQUFHLHNEQUFzRCxtQkFBbUIsR0FBRyxvREFBb0QsMFlB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QXFCLEdBQUcsMERBQTBELGNBQWMsZUFBZSxHQUFHLG1FQUFtRSxxQkFBcUIsR0FBRyx1QkFBdUIsb0JBQW9CLGlCQUFpQixHQUFHLCtCQUErQiwwQkFBMEIsdUJBQXVCLG9CQUFvQixjQUFjLGVBQWUsR0FBRyxpQ0FBaUMsbUJBQW1CLDBCQUEwQixHQUFHLGtGQUFrRixtQkFBbUIsR0FBRyx3Q0FBd0MsZUFBZSx1QkFBdUIsR0FBRyxzRkFBc0Ysd0JBQXdCLEdBQUcsd0NBQXdDLGdCQUFnQix1QkFBdUIsR0FBRyw2REFBNkQsZ0JBQWdCLHFCQUFxQixxQkFBcUIsR0FBRyxxQ0FBcUMsZ0JBQWdCLG1CQUFtQix3QkFBd0IsdUJBQXVCLDJCQUEyQix1QkFBdUIsR0FBRyx1Q0FBdUMsa0JBQWtCLG9CQUFvQix1QkFBdUIsY0FBYyxlQUFlLEdBQUcsbURBQW1ELGtCQUFrQixxQkFBcUIsbUJBQW1CLEdBQUcsOElBQThJLG9CQUFvQixtQkFBbUIsR0FBRzs7QUFFcG1nQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/IS4vbm9kZV9tb2R1bGVzL3RyaXgvZGlzdC90cml4LmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAY2hhcnNldCBcXFwiVVRGLThcXFwiO1xcblxcbi8qXFxuVHJpeCAxLjIuM1xcbkNvcHlyaWdodCDCqSAyMDIwIEJhc2VjYW1wLCBMTENcXG5odHRwOi8vdHJpeC1lZGl0b3Iub3JnLyovXFxuXFxudHJpeC1lZGl0b3Ige1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2JiYjtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDAuNGVtIDAuNmVtO1xcbiAgbWluLWhlaWdodDogNWVtO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxudHJpeC10b29sYmFyICoge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi1yb3cge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtd3JhcDogbm93cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgb3ZlcmZsb3cteDogYXV0bztcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi1ncm91cCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNiYmI7XFxuICBib3JkZXItdG9wLWNvbG9yOiAjY2NjO1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogIzg4ODtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi1ncm91cDpub3QoOmZpcnN0LWNoaWxkKSB7XFxuICBtYXJnaW4tbGVmdDogMS41dnc7XFxufVxcblxcbkBtZWRpYSAobWF4LWRldmljZS13aWR0aDogNzY4cHgpIHtcXG4gIHRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tZ3JvdXA6bm90KDpmaXJzdC1jaGlsZCkge1xcbiAgICBtYXJnaW4tbGVmdDogMDtcXG4gIH1cXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi1ncm91cC1zcGFjZXIge1xcbiAgZmxleC1ncm93OiAxO1xcbn1cXG5cXG5AbWVkaWEgKG1heC1kZXZpY2Utd2lkdGg6IDc2OHB4KSB7XFxuICB0cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLWdyb3VwLXNwYWNlciB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxuICB9XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1idXR0b24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpO1xcbiAgZm9udC1zaXplOiAwLjc1ZW07XFxuICBmb250LXdlaWdodDogNjAwO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHBhZGRpbmc6IDAgMC41ZW07XFxuICBtYXJnaW46IDA7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1idXR0b246bm90KDpmaXJzdC1jaGlsZCkge1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjY2NjO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLnRyaXgtYWN0aXZlIHtcXG4gIGJhY2tncm91bmQ6ICNjYmVlZmE7XFxuICBjb2xvcjogYmxhY2s7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1idXR0b246bm90KDpkaXNhYmxlZCkge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uOmRpc2FibGVkIHtcXG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTI1KTtcXG59XFxuXFxuQG1lZGlhIChtYXgtZGV2aWNlLXdpZHRoOiA3NjhweCkge1xcbiAgdHJpeC10b29sYmFyIC50cml4LWJ1dHRvbiB7XFxuICAgIGxldHRlci1zcGFjaW5nOiAtMC4wMWVtO1xcbiAgICBwYWRkaW5nOiAwIDAuM2VtO1xcbiAgfVxcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uIHtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIHdpZHRoOiAyLjZlbTtcXG4gIGhlaWdodDogMS42ZW07XFxuICBtYXgtd2lkdGg6IGNhbGMoMC44ZW0gKyA0dncpO1xcbiAgdGV4dC1pbmRlbnQ6IC05OTk5cHg7XFxufVxcblxcbkBtZWRpYSAobWF4LWRldmljZS13aWR0aDogNzY4cHgpIHtcXG4gIHRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24ge1xcbiAgICBoZWlnaHQ6IDJlbTtcXG4gICAgbWF4LXdpZHRoOiBjYWxjKDAuOGVtICsgMy41dncpO1xcbiAgfVxcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uOjpiZWZvcmUge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgb3BhY2l0eTogMC42O1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xcbn1cXG5cXG5AbWVkaWEgKG1heC1kZXZpY2Utd2lkdGg6IDc2OHB4KSB7XFxuICB0cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uOjpiZWZvcmUge1xcbiAgICByaWdodDogNiU7XFxuICAgIGxlZnQ6IDYlO1xcbiAgfVxcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLnRyaXgtYWN0aXZlOjpiZWZvcmUge1xcbiAgb3BhY2l0eTogMTtcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi0taWNvbjpkaXNhYmxlZDo6YmVmb3JlIHtcXG4gIG9wYWNpdHk6IDAuMTI1O1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLWF0dGFjaDo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIwaGVpZ2h0JTNEJTIyMjQlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0xNi41JTIwNnYxMS41YTQlMjA0JTIwMCUyMDElMjAxLTglMjAwVjVhMi41JTIwMi41JTIwMCUyMDAlMjAxJTIwNSUyMDB2MTAuNWExJTIwMSUyMDAlMjAxJTIwMS0yJTIwMFY2SDEwdjkuNWEyLjUlMjAyLjUlMjAwJTIwMCUyMDAlMjA1JTIwMFY1YTQlMjA0JTIwMCUyMDElMjAwLTglMjAwdjEyLjVhNS41JTIwNS41JTIwMCUyMDAlMjAwJTIwMTElMjAwVjZoLTEuNXolMjIlMkYlM0UlM0MlMkZzdmclM0UpO1xcbiAgdG9wOiA4JTtcXG4gIGJvdHRvbTogNCU7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tYm9sZDo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIwaGVpZ2h0JTNEJTIyMjQlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0xNS42JTIwMTEuOGMxLS43JTIwMS42LTEuOCUyMDEuNi0yLjhhNCUyMDQlMjAwJTIwMCUyMDAtNC00SDd2MTRoN2MyLjElMjAwJTIwMy43LTEuNyUyMDMuNy0zLjglMjAwLTEuNS0uOC0yLjgtMi4xLTMuNHpNMTAlMjA3LjVoM2ExLjUlMjAxLjUlMjAwJTIwMSUyMDElMjAwJTIwM2gtM3YtM3ptMy41JTIwOUgxMHYtM2gzLjVhMS41JTIwMS41JTIwMCUyMDElMjAxJTIwMCUyMDN6JTIyJTJGJTNFJTNDJTJGc3ZnJTNFKTtcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi0taWNvbi1pdGFsaWM6OmJlZm9yZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMTAlMjA1djNoMi4ybC0zLjQlMjA4SDZ2M2g4di0zaC0yLjJsMy40LThIMThWNWgtOHolMjIlMkYlM0UlM0MlMkZzdmclM0UpO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLWxpbms6OmJlZm9yZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNOS44OCUyMDEzLjdhNC4zJTIwNC4zJTIwMCUyMDAlMjAxJTIwMC02LjA3bDMuMzctMy4zN2E0LjI2JTIwNC4yNiUyMDAlMjAwJTIwMSUyMDYuMDclMjAwJTIwNC4zJTIwNC4zJTIwMCUyMDAlMjAxJTIwMCUyMDYuMDZsLTEuOTYlMjAxLjcyYS45MS45MSUyMDAlMjAxJTIwMS0xLjMtMS4zbDEuOTctMS43MWEyLjQ2JTIwMi40NiUyMDAlMjAwJTIwMC0zLjQ4LTMuNDhsLTMuMzglMjAzLjM3YTIuNDYlMjAyLjQ2JTIwMCUyMDAlMjAwJTIwMCUyMDMuNDguOTEuOTElMjAwJTIwMSUyMDEtMS4zJTIwMS4zeiUyMiUyRiUzRSUzQ3BhdGglMjBkJTNEJTIyTTQuMjUlMjAxOS40NmE0LjMlMjA0LjMlMjAwJTIwMCUyMDElMjAwLTYuMDdsMS45My0xLjlhLjkxLjkxJTIwMCUyMDElMjAxJTIwMS4zJTIwMS4zbC0xLjkzJTIwMS45YTIuNDYlMjAyLjQ2JTIwMCUyMDAlMjAwJTIwMy40OCUyMDMuNDhsMy4zNy0zLjM4Yy45Ni0uOTYuOTYtMi41MiUyMDAtMy40OGEuOTEuOTElMjAwJTIwMSUyMDElMjAxLjMtMS4zJTIwNC4zJTIwNC4zJTIwMCUyMDAlMjAxJTIwMCUyMDYuMDdsLTMuMzglMjAzLjM4YTQuMjYlMjA0LjI2JTIwMCUyMDAlMjAxLTYuMDclMjAweiUyMiUyRiUzRSUzQyUyRnN2ZyUzRSk7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tc3RyaWtlOjpiZWZvcmUge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjQlMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTEyLjczJTIwMTRsLjI4LjE0Yy4yNi4xNS40NS4zLjU3LjQ0LjEyLjE0LjE4LjMuMTguNSUyMDAlMjAuMy0uMTUuNTYtLjQ0Ljc1LS4zLjItLjc2LjMtMS4zOS4zQTEzLjUyJTIwMTMuNTIlMjAwJTIwMCUyMDElMjA3JTIwMTQuOTV2My4zN2ExMC42NCUyMDEwLjY0JTIwMCUyMDAlMjAwJTIwNC44NC44OGMxLjI2JTIwMCUyMDIuMzUtLjE5JTIwMy4yOC0uNTYuOTMtLjM3JTIwMS42NC0uOSUyMDIuMTQtMS41N3MuNzQtMS40NS43NC0yLjMyYzAtLjI2LS4wMi0uNTEtLjA2LS43NWgtNS4yMXptLTUuNS00Yy0uMDgtLjM0LS4xMi0uNy0uMTItMS4xJTIwMC0xLjI5LjUyLTIuMyUyMDEuNTgtMy4wMiUyMDEuMDUtLjcyJTIwMi41LTEuMDglMjA0LjM0LTEuMDglMjAxLjYyJTIwMCUyMDMuMjguMzQlMjA0Ljk3JTIwMWwtMS4zJTIwMi45M2MtMS40Ny0uNi0yLjczLS45LTMuOC0uOS0uNTUlMjAwLS45Ni4wOC0xLjIuMjYtLjI2LjE3LS4zOC4zOC0uMzguNjQlMjAwJTIwLjI3LjE2LjUyLjQ4Ljc0LjE3LjEyLjUzLjMlMjAxLjA1LjUzSDcuMjN6TTMlMjAxM2gxOHYtMkgzdjJ6JTIyJTJGJTNFJTNDJTJGc3ZnJTNFKTtcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi0taWNvbi1xdW90ZTo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIwdmVyc2lvbiUzRCUyMjElMjIlMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjQlMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTYlMjAxN2gzbDItNFY3SDV2Nmgzem04JTIwMGgzbDItNFY3aC02djZoM3olMjIlMkYlM0UlM0MlMkZzdmclM0UpO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLWhlYWRpbmctMTo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIwdmVyc2lvbiUzRCUyMjElMjIlMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjQlMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTEyJTIwOXYzSDl2N0g2di03SDNWOWg5ek04JTIwNGgxNHYzaC02djEyaC0zVjdIOFY0eiUyMiUyRiUzRSUzQyUyRnN2ZyUzRSk7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tY29kZTo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIwaGVpZ2h0JTNEJTIyMjQlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0xOC4yJTIwMTJMMTUlMjAxNS4ybDEuNCUyMDEuNEwyMSUyMDEybC00LjYtNC42TDE1JTIwOC44bDMuMiUyMDMuMnpNNS44JTIwMTJMOSUyMDguOCUyMDcuNiUyMDcuNCUyMDMlMjAxMmw0LjYlMjA0LjZMOSUyMDE1LjIlMjA1LjglMjAxMnolMjIlMkYlM0UlM0MlMkZzdmclM0UpO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLWJ1bGxldC1saXN0OjpiZWZvcmUge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB2ZXJzaW9uJTNEJTIyMSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNNCUyMDRhMiUyMDIlMjAwJTIwMSUyMDAlMjAwJTIwNCUyMDIlMjAyJTIwMCUyMDAlMjAwJTIwMC00em0wJTIwNmEyJTIwMiUyMDAlMjAxJTIwMCUyMDAlMjA0JTIwMiUyMDIlMjAwJTIwMCUyMDAlMjAwLTR6bTAlMjA2YTIlMjAyJTIwMCUyMDElMjAwJTIwMCUyMDQlMjAyJTIwMiUyMDAlMjAwJTIwMCUyMDAtNHptNCUyMDNoMTR2LTJIOHYyem0wLTZoMTR2LTJIOHYyem0wLTh2MmgxNFY1SDh6JTIyJTJGJTNFJTNDJTJGc3ZnJTNFKTtcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi0taWNvbi1udW1iZXItbGlzdDo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIwaGVpZ2h0JTNEJTIyMjQlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0yJTIwMTdoMnYuNUgzdjFoMXYuNUgydjFoM3YtNEgydjF6bTEtOWgxVjRIMnYxaDF2M3ptLTElMjAzaDEuOEwyJTIwMTMuMXYuOWgzdi0xSDMuMkw1JTIwMTAuOVYxMEgydjF6bTUtNnYyaDE0VjVIN3ptMCUyMDE0aDE0di0ySDd2MnptMC02aDE0di0ySDd2MnolMjIlMkYlM0UlM0MlMkZzdmclM0UpO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLXVuZG86OmJlZm9yZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMTIuNSUyMDhjLTIuNiUyMDAtNSUyMDEtNi45JTIwMi42TDIlMjA3djloOWwtMy42LTMuNkE4JTIwOCUyMDAlMjAwJTIwMSUyMDIwJTIwMTZsMi40LS44YTEwLjUlMjAxMC41JTIwMCUyMDAlMjAwLTEwLTcuMnolMjIlMkYlM0UlM0MlMkZzdmclM0UpO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLXJlZG86OmJlZm9yZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMTguNCUyMDEwLjZhMTAuNSUyMDEwLjUlMjAwJTIwMCUyMDAtMTYuOSUyMDQuNkw0JTIwMTZhOCUyMDglMjAwJTIwMCUyMDElMjAxMi43LTMuNkwxMyUyMDE2aDlWN2wtMy42JTIwMy42eiUyMiUyRiUzRSUzQyUyRnN2ZyUzRSk7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tZGVjcmVhc2UtbmVzdGluZy1sZXZlbDo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIwaGVpZ2h0JTNEJTIyMjQlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0zJTIwMTloMTl2LTJIM3Yyem03LTZoMTJ2LTJIMTB2MnptLTguMy0uM2wyLjglMjAyLjlMNiUyMDE0LjIlMjA0JTIwMTJsMi0yLTEuNC0xLjVMMSUyMDEybC43Ljd6TTMlMjA1djJoMTlWNUgzeiUyMiUyRiUzRSUzQyUyRnN2ZyUzRSk7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24taW5jcmVhc2UtbmVzdGluZy1sZXZlbDo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIwaGVpZ2h0JTNEJTIyMjQlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0zJTIwMTloMTl2LTJIM3Yyem03LTZoMTJ2LTJIMTB2MnptLTYuOS0xTDElMjAxNC4ybDEuNCUyMDEuNEw2JTIwMTJsLS43LS43LTIuOC0yLjhMMSUyMDkuOSUyMDMuMSUyMDEyek0zJTIwNXYyaDE5VjVIM3olMjIlMkYlM0UlM0MlMkZzdmclM0UpO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtZGlhbG9ncyB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1kaWFsb2cge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgZm9udC1zaXplOiAwLjc1ZW07XFxuICBwYWRkaW5nOiAxNXB4IDEwcHg7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgYm94LXNoYWRvdzogMCAwLjNlbSAxZW0gI2NjYztcXG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCAjODg4O1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgei1pbmRleDogNTtcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWlucHV0LS1kaWFsb2cge1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIHBhZGRpbmc6IDAuNWVtIDAuOGVtO1xcbiAgbWFyZ2luOiAwIDEwcHggMCAwO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2JiYjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3gtc2hhZG93OiBub25lO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuXFxudHJpeC10b29sYmFyIC50cml4LWlucHV0LS1kaWFsb2cudmFsaWRhdGU6aW52YWxpZCB7XFxuICBib3gtc2hhZG93OiAjRjAwIDBweCAwcHggMS41cHggMXB4O1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1kaWFsb2cge1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgcGFkZGluZzogMC41ZW07XFxuICBib3JkZXItYm90dG9tOiBub25lO1xcbn1cXG5cXG50cml4LXRvb2xiYXIgLnRyaXgtZGlhbG9nLS1saW5rIHtcXG4gIG1heC13aWR0aDogNjAwcHg7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1kaWFsb2dfX2xpbmstZmllbGRzIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1kaWFsb2dfX2xpbmstZmllbGRzIC50cml4LWlucHV0IHtcXG4gIGZsZXg6IDE7XFxufVxcblxcbnRyaXgtdG9vbGJhciAudHJpeC1kaWFsb2dfX2xpbmstZmllbGRzIC50cml4LWJ1dHRvbi1ncm91cCB7XFxuICBmbGV4OiAwIDAgY29udGVudDtcXG4gIG1hcmdpbjogMDtcXG59XFxuXFxudHJpeC1lZGl0b3IgW2RhdGEtdHJpeC1tdXRhYmxlXTpub3QoLmF0dGFjaG1lbnRfX2NhcHRpb24tZWRpdG9yKSB7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG50cml4LWVkaXRvciBbZGF0YS10cml4LW11dGFibGVdOjotbW96LXNlbGVjdGlvbixcXG50cml4LWVkaXRvciBbZGF0YS10cml4LWN1cnNvci10YXJnZXRdOjotbW96LXNlbGVjdGlvbiwgdHJpeC1lZGl0b3IgW2RhdGEtdHJpeC1tdXRhYmxlXSA6Oi1tb3otc2VsZWN0aW9uIHtcXG4gIGJhY2tncm91bmQ6IG5vbmU7XFxufVxcblxcbnRyaXgtZWRpdG9yIFtkYXRhLXRyaXgtbXV0YWJsZV06Oi1tb3otc2VsZWN0aW9uLCB0cml4LWVkaXRvciBbZGF0YS10cml4LWN1cnNvci10YXJnZXRdOjotbW96LXNlbGVjdGlvbiwgdHJpeC1lZGl0b3IgW2RhdGEtdHJpeC1tdXRhYmxlXSA6Oi1tb3otc2VsZWN0aW9uIHtcXG4gIGJhY2tncm91bmQ6IG5vbmU7XFxufVxcblxcbnRyaXgtZWRpdG9yIFtkYXRhLXRyaXgtbXV0YWJsZV06OnNlbGVjdGlvbixcXG50cml4LWVkaXRvciBbZGF0YS10cml4LWN1cnNvci10YXJnZXRdOjpzZWxlY3Rpb24sIHRyaXgtZWRpdG9yIFtkYXRhLXRyaXgtbXV0YWJsZV0gOjpzZWxlY3Rpb24ge1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG59XFxuXFxudHJpeC1lZGl0b3IgW2RhdGEtdHJpeC1tdXRhYmxlXS5hdHRhY2htZW50X19jYXB0aW9uLWVkaXRvcjpmb2N1czo6LW1vei1zZWxlY3Rpb24ge1xcbiAgYmFja2dyb3VuZDogaGlnaGxpZ2h0O1xcbn1cXG5cXG50cml4LWVkaXRvciBbZGF0YS10cml4LW11dGFibGVdLmF0dGFjaG1lbnRfX2NhcHRpb24tZWRpdG9yOmZvY3VzOjpzZWxlY3Rpb24ge1xcbiAgYmFja2dyb3VuZDogaGlnaGxpZ2h0O1xcbn1cXG5cXG50cml4LWVkaXRvciBbZGF0YS10cml4LW11dGFibGVdLmF0dGFjaG1lbnQuYXR0YWNobWVudC0tZmlsZSB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggaGlnaGxpZ2h0O1xcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuXFxudHJpeC1lZGl0b3IgW2RhdGEtdHJpeC1tdXRhYmxlXS5hdHRhY2htZW50IGltZyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggaGlnaGxpZ2h0O1xcbn1cXG5cXG50cml4LWVkaXRvciAuYXR0YWNobWVudCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbnRyaXgtZWRpdG9yIC5hdHRhY2htZW50OmhvdmVyIHtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuXFxudHJpeC1lZGl0b3IgLmF0dGFjaG1lbnQtLXByZXZpZXcgLmF0dGFjaG1lbnRfX2NhcHRpb246aG92ZXIge1xcbiAgY3Vyc29yOiB0ZXh0O1xcbn1cXG5cXG50cml4LWVkaXRvciAuYXR0YWNobWVudF9fcHJvZ3Jlc3Mge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTtcXG4gIGhlaWdodDogMjBweDtcXG4gIHRvcDogY2FsYyg1MCUgLSAxMHB4KTtcXG4gIGxlZnQ6IDUlO1xcbiAgd2lkdGg6IDkwJTtcXG4gIG9wYWNpdHk6IDAuOTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMjAwbXMgZWFzZS1pbjtcXG59XFxuXFxudHJpeC1lZGl0b3IgLmF0dGFjaG1lbnRfX3Byb2dyZXNzW3ZhbHVlPVxcXCIxMDBcXFwiXSB7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG5cXG50cml4LWVkaXRvciAuYXR0YWNobWVudF9fY2FwdGlvbi1lZGl0b3Ige1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxufVxcblxcbnRyaXgtZWRpdG9yIC5hdHRhY2htZW50X190b29sYmFyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDE7XFxuICB0b3A6IC0wLjllbTtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxudHJpeC1lZGl0b3IgLnRyaXgtYnV0dG9uLWdyb3VwIHtcXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xcbn1cXG5cXG50cml4LWVkaXRvciAudHJpeC1idXR0b24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBjb2xvcjogIzY2NjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBmb250LXNpemU6IDgwJTtcXG4gIHBhZGRpbmc6IDAgMC44ZW07XFxuICBtYXJnaW46IDA7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG50cml4LWVkaXRvciAudHJpeC1idXR0b246bm90KDpmaXJzdC1jaGlsZCkge1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjY2NjO1xcbn1cXG5cXG50cml4LWVkaXRvciAudHJpeC1idXR0b24udHJpeC1hY3RpdmUge1xcbiAgYmFja2dyb3VuZDogI2NiZWVmYTtcXG59XFxuXFxudHJpeC1lZGl0b3IgLnRyaXgtYnV0dG9uOm5vdCg6ZGlzYWJsZWQpIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxudHJpeC1lZGl0b3IgLnRyaXgtYnV0dG9uLS1yZW1vdmUge1xcbiAgdGV4dC1pbmRlbnQ6IC05OTk5cHg7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwYWRkaW5nOiAwO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIHdpZHRoOiAxLjhlbTtcXG4gIGhlaWdodDogMS44ZW07XFxuICBsaW5lLWhlaWdodDogMS44ZW07XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyOiAycHggc29saWQgaGlnaGxpZ2h0O1xcbiAgYm94LXNoYWRvdzogMXB4IDFweCA2cHggcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG59XFxuXFxudHJpeC1lZGl0b3IgLnRyaXgtYnV0dG9uLS1yZW1vdmU6OmJlZm9yZSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICBvcGFjaXR5OiAwLjc7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIwaGVpZ2h0JTNEJTIyMjQlMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0xOSUyMDYuNEwxNy42JTIwNSUyMDEyJTIwMTAuNiUyMDYuNCUyMDUlMjA1JTIwNi40bDUuNiUyMDUuNkw1JTIwMTcuNiUyMDYuNCUyMDE5bDUuNi01LjYlMjA1LjYlMjA1LjYlMjAxLjQtMS40LTUuNi01LjZ6JTIyJTJGJTNFJTNDcGF0aCUyMGQlM0QlMjJNMCUyMDBoMjR2MjRIMHolMjIlMjBmaWxsJTNEJTIybm9uZSUyMiUyRiUzRSUzQyUyRnN2ZyUzRSk7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1zaXplOiA5MCU7XFxufVxcblxcbnRyaXgtZWRpdG9yIC50cml4LWJ1dHRvbi0tcmVtb3ZlOmhvdmVyIHtcXG4gIGJvcmRlci1jb2xvcjogIzMzMztcXG59XFxuXFxudHJpeC1lZGl0b3IgLnRyaXgtYnV0dG9uLS1yZW1vdmU6aG92ZXI6OmJlZm9yZSB7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5cXG50cml4LWVkaXRvciAuYXR0YWNobWVudF9fbWV0YWRhdGEtY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxudHJpeC1lZGl0b3IgLmF0dGFjaG1lbnRfX21ldGFkYXRhIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHRvcDogMmVtO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XFxuICBtYXgtd2lkdGg6IDkwJTtcXG4gIHBhZGRpbmc6IDAuMWVtIDAuNmVtO1xcbiAgZm9udC1zaXplOiAwLjhlbTtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG5cXG50cml4LWVkaXRvciAuYXR0YWNobWVudF9fbWV0YWRhdGEgLmF0dGFjaG1lbnRfX25hbWUge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcblxcbnRyaXgtZWRpdG9yIC5hdHRhY2htZW50X19tZXRhZGF0YSAuYXR0YWNobWVudF9fc2l6ZSB7XFxuICBtYXJnaW4tbGVmdDogMC4yZW07XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG5cXG5AY2hhcnNldCBcXFwiVVRGLThcXFwiO1xcblxcbi50cml4LWNvbnRlbnQge1xcbiAgbGluZS1oZWlnaHQ6IDEuNTtcXG59XFxuXFxuLnRyaXgtY29udGVudCAqIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi50cml4LWNvbnRlbnQgaDEge1xcbiAgZm9udC1zaXplOiAxLjJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxLjI7XFxuICBtYXJnaW46IDA7XFxufVxcblxcbi50cml4LWNvbnRlbnQgYmxvY2txdW90ZSB7XFxuICBtYXJnaW46IDAgMCAwIDAuM2VtO1xcbiAgcGFkZGluZzogMCAwIDAgMC42ZW07XFxuICBib3JkZXItbGVmdDogMC4zZW0gc29saWQgI2NjYztcXG59XFxuXFxuLnRyaXgtY29udGVudCBwcmUge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG4gIGZvbnQtc2l6ZTogMC45ZW07XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwLjVlbTtcXG4gIHdoaXRlLXNwYWNlOiBwcmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgb3ZlcmZsb3cteDogYXV0bztcXG59XFxuXFxuLnRyaXgtY29udGVudCB1bCwgLnRyaXgtY29udGVudCBvbCwgLnRyaXgtY29udGVudCBsaSB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cXG4udHJpeC1jb250ZW50IHVsIGxpLCAudHJpeC1jb250ZW50IG9sIGxpLCAudHJpeC1jb250ZW50IGxpIGxpIHtcXG4gIG1hcmdpbi1sZWZ0OiAxZW07XFxufVxcblxcbi50cml4LWNvbnRlbnQgaW1nIHtcXG4gIG1heC13aWR0aDogMTAwJTtcXG4gIGhlaWdodDogYXV0bztcXG59XFxuXFxuLnRyaXgtY29udGVudCAuYXR0YWNobWVudCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cXG4udHJpeC1jb250ZW50IC5hdHRhY2htZW50IGEge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcblxcbi50cml4LWNvbnRlbnQgLmF0dGFjaG1lbnQgYTpob3ZlciwgLnRyaXgtY29udGVudCAuYXR0YWNobWVudCBhOnZpc2l0ZWQ6aG92ZXIge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxufVxcblxcbi50cml4LWNvbnRlbnQgLmF0dGFjaG1lbnRfX2NhcHRpb24ge1xcbiAgcGFkZGluZzogMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnRyaXgtY29udGVudCAuYXR0YWNobWVudF9fY2FwdGlvbiAuYXR0YWNobWVudF9fbmFtZSArIC5hdHRhY2htZW50X19zaXplOjpiZWZvcmUge1xcbiAgY29udGVudDogJyBcXFxcQjcgICAnO1xcbn1cXG5cXG4udHJpeC1jb250ZW50IC5hdHRhY2htZW50LS1wcmV2aWV3IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4udHJpeC1jb250ZW50IC5hdHRhY2htZW50LS1wcmV2aWV3IC5hdHRhY2htZW50X19jYXB0aW9uIHtcXG4gIGNvbG9yOiAjNjY2O1xcbiAgZm9udC1zaXplOiAwLjllbTtcXG4gIGxpbmUtaGVpZ2h0OiAxLjI7XFxufVxcblxcbi50cml4LWNvbnRlbnQgLmF0dGFjaG1lbnQtLWZpbGUge1xcbiAgY29sb3I6ICMzMzM7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIG1hcmdpbjogMCAycHggMnB4IDA7XFxuICBwYWRkaW5nOiAwLjRlbSAxZW07XFxuICBib3JkZXI6IDFweCBzb2xpZCAjYmJiO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbn1cXG5cXG4udHJpeC1jb250ZW50IC5hdHRhY2htZW50LWdhbGxlcnkge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtd3JhcDogd3JhcDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbi50cml4LWNvbnRlbnQgLmF0dGFjaG1lbnQtZ2FsbGVyeSAuYXR0YWNobWVudCB7XFxuICBmbGV4OiAxIDAgMzMlO1xcbiAgcGFkZGluZzogMCAwLjVlbTtcXG4gIG1heC13aWR0aDogMzMlO1xcbn1cXG5cXG4udHJpeC1jb250ZW50IC5hdHRhY2htZW50LWdhbGxlcnkuYXR0YWNobWVudC1nYWxsZXJ5LS0yIC5hdHRhY2htZW50LCAudHJpeC1jb250ZW50IC5hdHRhY2htZW50LWdhbGxlcnkuYXR0YWNobWVudC1nYWxsZXJ5LS00IC5hdHRhY2htZW50IHtcXG4gIGZsZXgtYmFzaXM6IDUwJTtcXG4gIG1heC13aWR0aDogNTAlO1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/trix/dist/trix.css\n");

/***/ }),

/***/ "./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanM/MjM1MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdCQUFnQjtBQUNuRCxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxjQUFjOztBQUVsRTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/lib/css-base.js\n");

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(/*! ./urls */ \"./node_modules/style-loader/lib/urls.js\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanM/Njg0NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBLGNBQWMsbUJBQU8sQ0FBQyx1REFBUTs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHNCQUFzQjtBQUN2Qzs7QUFFQTtBQUNBLG1CQUFtQiwyQkFBMkI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsbUJBQW1CO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsMkJBQTJCO0FBQzVDO0FBQ0E7O0FBRUEsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxpQkFBaUIsdUJBQXVCO0FBQ3hDO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7QUFFZCxrREFBa0Qsc0JBQXNCO0FBQ3hFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0EsS0FBSyxLQUF3QyxFQUFFLEVBRTdDOztBQUVGLFFBQVEsc0JBQWlCO0FBQ3pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDs7QUFFQSw2QkFBNkIsbUJBQW1COztBQUVoRDs7QUFFQTs7QUFFQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/lib/addStyles.js\n");

/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzP2Y2ZDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxXQUFXLEVBQUU7QUFDckQsd0NBQXdDLFdBQVcsRUFBRTs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzQ0FBc0M7QUFDdEMsR0FBRztBQUNIO0FBQ0EsOERBQThEO0FBQzlEOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/lib/urls.js\n");

/***/ }),

/***/ "./node_modules/trix/dist/trix-core.js":
/*!*********************************************!*\
  !*** ./node_modules/trix/dist/trix-core.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\nTrix 1.2.3\nCopyright © 2020 Basecamp, LLC\nhttp://trix-editor.org/\n */\n(function(){}).call(this),function(){var t=this;(function(){(function(){this.Trix={VERSION:\"1.2.3\",ZERO_WIDTH_SPACE:\"\\ufeff\",NON_BREAKING_SPACE:\"\\xa0\",OBJECT_REPLACEMENT_CHARACTER:\"\\ufffc\",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var t,e,n,i;if(\"undefined\"==typeof InputEvent)return!1;for(i=[\"data\",\"getTargetRanges\",\"inputType\"],t=0,e=i.length;e>t;t++)if(n=i[t],!(n in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(t);var e=t.Trix;(function(){(function(){e.BasicObject=function(){function t(){}var e,n,i;return t.proxyMethod=function(t){var i,o,r,s,a;return r=n(t),i=r.name,s=r.toMethod,a=r.toProperty,o=r.optional,this.prototype[i]=function(){var t,n;return t=null!=s?o?\"function\"==typeof this[s]?this[s]():void 0:this[s]():null!=a?this[a]:void 0,o?(n=null!=t?t[i]:void 0,null!=n?e.call(n,t,arguments):void 0):(n=t[i],e.call(n,t,arguments))}},n=function(t){var e,n;if(!(n=t.match(i)))throw new Error(\"can't parse @proxyMethod expression: \"+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},e=Function.prototype.apply,i=/^(.+?)(\\(\\))?(\\?)?\\.(.+?)$/,t}()}).call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Object=function(n){function i(){this.id=++o}var o;return t(i,n),o=0,i.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},i.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},i.prototype.isEqualTo=function(t){return this===t},i.prototype.inspect=function(){var t,e,n;return t=function(){var t,i,o;i=null!=(t=this.contentsForInspection())?t:{},o=[];for(e in i)n=i[e],o.push(e+\"=\"+n);return o}.call(this),\"#<\"+this.constructor.name+\":\"+this.id+(t.length?\" \"+t.join(\", \"):\"\")+\">\"},i.prototype.contentsForInspection=function(){},i.prototype.toJSONString=function(){return JSON.stringify(this)},i.prototype.toUTF16String=function(){return e.UTF16String.box(this)},i.prototype.getCacheKey=function(){return this.id.toString()},i}(e.BasicObject)}.call(this),function(){e.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){e.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var t,n;e.extend({normalizeSpaces:function(t){return t.replace(RegExp(\"\"+e.ZERO_WIDTH_SPACE,\"g\"),\"\").replace(RegExp(\"\"+e.NON_BREAKING_SPACE,\"g\"),\" \")},normalizeNewlines:function(t){return t.replace(/\\r\\n/g,\"\\n\")},breakableWhitespacePattern:RegExp(\"[^\\\\S\"+e.NON_BREAKING_SPACE+\"]\"),squishBreakableWhitespace:function(t){return t.replace(RegExp(\"\"+e.breakableWhitespacePattern.source,\"g\"),\" \").replace(/\\ {2,}/g,\" \")},escapeHTML:function(t){var e;return e=document.createElement(\"div\"),e.textContent=t,e.innerHTML},summarizeStringChange:function(t,i){var o,r,s,a;return t=e.UTF16String.box(t),i=e.UTF16String.box(i),i.length<t.length?(r=n(t,i),a=r[0],o=r[1]):(s=n(i,t),o=s[0],a=s[1]),{added:o,removed:a}}}),n=function(n,i){var o,r,s,a,u;return n.isEqualTo(i)?[\"\",\"\"]:(r=t(n,i),a=r.utf16String.length,s=a?(u=r.offset,r,o=n.codepoints.slice(0,u).concat(n.codepoints.slice(u+a)),t(i,e.UTF16String.fromCodepoints(o))):t(i,n),[r.utf16String.toString(),s.utf16String.toString()])},t=function(t,e){var n,i,o;for(n=0,i=t.length,o=e.length;i>n&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;i>n+1&&t.charAt(i-1).isEqualTo(e.charAt(o-1));)i--,o--;return{utf16String:t.slice(n,i),offset:n}}}.call(this),function(){e.extend({copyObject:function(t){var e,n,i;null==t&&(t={}),n={};for(e in t)i=t[e],n[e]=i;return n},objectsAreEqual:function(t,e){var n,i;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(i=t[n],i!==e[n])return!1;return!0}})}.call(this),function(){var t=[].slice;e.extend({arraysAreEqual:function(t,e){var n,i,o,r;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(i=n=0,o=t.length;o>n;i=++n)if(r=t[i],r!==e[i])return!1;return!0},arrayStartsWith:function(t,n){return null==t&&(t=[]),null==n&&(n=[]),e.arraysAreEqual(t.slice(0,n.length),n)},spliceArray:function(){var e,n,i;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],i=n.slice(0),i.splice.apply(i,e),i},summarizeArrayChange:function(t,e){var n,i,o,r,s,a,u,c,l,h,p;for(null==t&&(t=[]),null==e&&(e=[]),n=[],h=[],o=new Set,r=0,u=t.length;u>r;r++)p=t[r],o.add(p);for(i=new Set,s=0,c=e.length;c>s;s++)p=e[s],i.add(p),o.has(p)||n.push(p);for(a=0,l=t.length;l>a;a++)p=t[a],i.has(p)||h.push(p);return{added:n,removed:h}}})}.call(this),function(){var t,n,i,o;t=null,n=null,o=null,i=null,e.extend({getAllAttributeNames:function(){return null!=t?t:t=e.getTextAttributeNames().concat(e.getBlockAttributeNames())},getBlockConfig:function(t){return e.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=n?n:n=Object.keys(e.config.blockAttributes)},getTextConfig:function(t){return e.config.textAttributes[t]},getTextAttributeNames:function(){return null!=o?o:o=Object.keys(e.config.textAttributes)},getListAttributeNames:function(){var t,n;return null!=i?i:i=function(){var i,o;i=e.config.blockAttributes,o=[];for(t in i)n=i[t].listAttribute,null!=n&&o.push(n);return o}()}})}.call(this),function(){var t,n,i,o,r,s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=document.documentElement,n=null!=(i=null!=(o=null!=(r=t.matchesSelector)?r:t.webkitMatchesSelector)?o:t.msMatchesSelector)?i:t.mozMatchesSelector,e.extend({handleEvent:function(n,i){var o,r,s,a,u,c,l,h,p,d,f,g;return h=null!=i?i:{},c=h.onElement,u=h.matchingSelector,g=h.withCallback,a=h.inPhase,l=h.preventDefault,d=h.times,r=null!=c?c:t,p=u,o=g,f=\"capturing\"===a,s=function(t){var n;return null!=d&&0===--d&&s.destroy(),n=e.findClosestElementFromNode(t.target,{matchingSelector:p}),null!=n&&(null!=g&&g.call(n,t,n),l)?t.preventDefault():void 0},s.destroy=function(){return r.removeEventListener(n,s,f)},r.addEventListener(n,s,f),s},handleEventOnce:function(t,n){return null==n&&(n={}),n.times=1,e.handleEvent(t,n)},triggerEvent:function(n,i){var o,r,s,a,u,c,l;return l=null!=i?i:{},c=l.onElement,r=l.bubbles,s=l.cancelable,o=l.attributes,a=null!=c?c:t,r=r!==!1,s=s!==!1,u=document.createEvent(\"Events\"),u.initEvent(n,r,s),null!=o&&e.extend.call(u,o),a.dispatchEvent(u)},elementMatchesSelector:function(t,e){return 1===(null!=t?t.nodeType:void 0)?n.call(t,e):void 0},findClosestElementFromNode:function(t,n){var i,o,r;for(o=null!=n?n:{},i=o.matchingSelector,r=o.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==i)return t;if(t.closest&&null==r)return t.closest(i);for(;t&&t!==r;){if(e.elementMatchesSelector(t,i))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&e.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(t,n){var i;return i=e.findNodeFromContainerAndOffset(t,n),e.findClosestElementFromNode(i)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},removeNode:function(t){var e;return null!=t&&null!=(e=t.parentNode)?e.removeChild(t):void 0},walkTree:function(t,e){var n,i,o,r,s;return o=null!=e?e:{},i=o.onlyNodesOfType,r=o.usingFilter,n=o.expandEntityReferences,s=function(){switch(i){case\"element\":return NodeFilter.SHOW_ELEMENT;case\"text\":return NodeFilter.SHOW_TEXT;case\"comment\":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,s,null!=r?r:null,n===!0)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,i,o,r,s,a,u,c,l,h;if(null==e&&(e={}),\"object\"==typeof t?(e=t,t=e.tagName):e={attributes:e},i=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes){a=e.attributes;for(r in a)h=a[r],i.setAttribute(r,h)}if(e.style){u=e.style;for(r in u)h=u[r],i.style[r]=h}if(e.data){c=e.data;for(r in c)h=c[r],i.dataset[r]=h}if(e.className)for(l=e.className.split(\" \"),o=0,s=l.length;s>o;o++)n=l[o],i.classList.add(n);return e.textContent&&(i.textContent=e.textContent),i},getBlockTagNames:function(){var t,n;return null!=e.blockTagNames?e.blockTagNames:e.blockTagNames=function(){var i,o;i=e.config.blockAttributes,o=[];for(t in i)n=i[t].tagName,n&&o.push(n);return o}()},nodeIsBlockContainer:function(t){return e.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var n,i;return n=e.tagName(t),s.call(e.getBlockTagNames(),n)>=0&&(i=e.tagName(t.firstChild),s.call(e.getBlockTagNames(),i)<0)},nodeIsBlockStart:function(t,n){var i;return i=(null!=n?n:{strict:!0}).strict,i?e.nodeIsBlockStartComment(t):e.nodeIsBlockStartComment(t)||!e.nodeIsBlockStartComment(t.firstChild)&&e.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return e.nodeIsCommentNode(t)&&\"block\"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t,n){var i;return i=(null!=n?n:{}).name,t?e.nodeIsTextNode(t)?t.data===e.ZERO_WIDTH_SPACE?i?t.parentNode.dataset.trixCursorTarget===i:!0:void 0:e.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return e.elementMatchesSelector(t,e.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return e.nodeIsTextNode(t)&&\"\"===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var t,n,i,o,r;t=e.copyObject,o=e.objectsAreEqual,e.extend({normalizeRange:i=function(t){var e;if(null!=t)return Array.isArray(t)||(t=[t,t]),[n(t[0]),n(null!=(e=t[1])?e:t[0])]},rangeIsCollapsed:function(t){var e,n,o;if(null!=t)return n=i(t),o=n[0],e=n[1],r(o,e)},rangesAreEqual:function(t,e){var n,o,s,a,u,c;if(null!=t&&null!=e)return s=i(t),o=s[0],n=s[1],a=i(e),c=a[0],u=a[1],r(o,c)&&r(n,u)}}),n=function(e){return\"number\"==typeof e?e:t(e)},r=function(t,e){return\"number\"==typeof t?t===e:o(t,e)}}.call(this),function(){var t,n,i,o,r,s,a;e.registerElement=function(t,e){var n,i;return null==e&&(e={}),t=t.toLowerCase(),e=a(e),i=s(e),(n=i.defaultCSS)&&(delete i.defaultCSS,o(n,t)),r(t,i)},o=function(t,e){var n;return n=i(e),n.textContent=t.replace(/%t/g,e)},i=function(e){var n,i;return n=document.createElement(\"style\"),n.setAttribute(\"type\",\"text/css\"),n.setAttribute(\"data-tag-name\",e.toLowerCase()),(i=t())&&n.setAttribute(\"nonce\",i),document.head.insertBefore(n,document.head.firstChild),n},t=function(){var t;return(t=n(\"trix-csp-nonce\")||n(\"csp-nonce\"))?t.getAttribute(\"content\"):void 0},n=function(t){return document.head.querySelector(\"meta[name=\"+t+\"]\")},s=function(t){var e,n,i;n={};for(e in t)i=t[e],n[e]=\"function\"==typeof i?{value:i}:i;return n},a=function(){var t;return t=function(t){var e,n,i,o,r;for(e={},r=[\"initialize\",\"connect\",\"disconnect\"],n=0,o=r.length;o>n;n++)i=r[n],e[i]=t[i],delete t[i];return e},window.customElements?function(e){var n,i,o,r,s;return s=t(e),o=s.initialize,n=s.connect,i=s.disconnect,o&&(r=n,n=function(){return this.initialized||(this.initialized=!0,o.call(this)),null!=r?r.call(this):void 0}),n&&(e.connectedCallback=n),i&&(e.disconnectedCallback=i),e}:function(e){var n,i,o,r;return r=t(e),o=r.initialize,n=r.connect,i=r.disconnect,o&&(e.createdCallback=o),n&&(e.attachedCallback=n),i&&(e.detachedCallback=i),e}}(),r=function(){return window.customElements?function(t,e){var n;return n=function(){return\"object\"==typeof Reflect?Reflect.construct(HTMLElement,[],n):HTMLElement.apply(this)},Object.setPrototypeOf(n.prototype,HTMLElement.prototype),Object.setPrototypeOf(n,HTMLElement),Object.defineProperties(n.prototype,e),window.customElements.define(t,n),n}:function(t,e){var n,i;return i=Object.create(HTMLElement.prototype,e),n=document.registerElement(t,{prototype:i}),Object.defineProperty(i,\"constructor\",{value:n}),n}}()}.call(this),function(){var t,n;e.extend({getDOMSelection:function(){var t;return t=window.getSelection(),t.rangeCount>0?t:void 0},getDOMRange:function(){var n,i;return(n=null!=(i=e.getDOMSelection())?i.getRangeAt(0):void 0)&&!t(n)?n:void 0},setDOMRange:function(t){var n;return n=window.getSelection(),n.removeAllRanges(),n.addRange(t),e.selectionChangeObserver.update()}}),t=function(t){return n(t.startContainer)||n(t.endContainer)},n=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){var t;t={\"application/x-trix-feature-detection\":\"test\"},e.extend({dataTransferIsPlainText:function(t){var e,n,i;return i=t.getData(\"text/plain\"),n=t.getData(\"text/html\"),i&&n?(e=(new DOMParser).parseFromString(n,\"text/html\").body,e.textContent===i?!e.querySelector(\"*\"):void 0):null!=i?i.length:void 0},dataTransferIsWritable:function(e){var n,i;if(null!=(null!=e?e.setData:void 0)){for(n in t)if(i=t[n],!function(){try{return e.setData(n,i),e.getData(n)===i}catch(t){}}())return;return!0}},keyEventIsKeyboardCommand:function(){return/Mac|^iP/.test(navigator.platform)?function(t){return t.metaKey}:function(t){return t.ctrlKey}}()})}.call(this),function(){}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=e.arraysAreEqual,e.Hash=function(i){function o(t){null==t&&(t={}),this.values=s(t),o.__super__.constructor.apply(this,arguments)}var r,s,a,u,c;return n(o,i),o.fromCommonAttributesOfObjects=function(t){var e,n,i,o,s,a;if(null==t&&(t=[]),!t.length)return new this;for(e=r(t[0]),i=e.getKeys(),a=t.slice(1),n=0,o=a.length;o>n;n++)s=a[n],i=e.getKeysCommonToHash(r(s)),e=e.slice(i);return e},o.box=function(t){return r(t)},o.prototype.add=function(t,e){return this.merge(u(t,e))},o.prototype.remove=function(t){return new e.Hash(s(this.values,t))},o.prototype.get=function(t){return this.values[t]},o.prototype.has=function(t){return t in this.values},o.prototype.merge=function(t){return new e.Hash(a(this.values,c(t)))},o.prototype.slice=function(t){var n,i,o,r;for(r={},n=0,o=t.length;o>n;n++)i=t[n],this.has(i)&&(r[i]=this.values[i]);return new e.Hash(r)},o.prototype.getKeys=function(){return Object.keys(this.values)},o.prototype.getKeysCommonToHash=function(t){var e,n,i,o,s;for(t=r(t),o=this.getKeys(),s=[],e=0,i=o.length;i>e;e++)n=o[e],this.values[n]===t.values[n]&&s.push(n);return s},o.prototype.isEqualTo=function(e){return t(this.toArray(),r(e).toArray())},o.prototype.isEmpty=function(){return 0===this.getKeys().length},o.prototype.toArray=function(){var t,e,n;return(null!=this.array?this.array:this.array=function(){var i;e=[],i=this.values;for(t in i)n=i[t],e.push(t,n);return e}.call(this)).slice(0)},o.prototype.toObject=function(){return s(this.values)},o.prototype.toJSON=function(){return this.toObject()},o.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},u=function(t,e){var n;return n={},n[t]=e,n},a=function(t,e){var n,i,o;i=s(t);for(n in e)o=e[n],i[n]=o;return i},s=function(t,e){var n,i,o,r,s;for(r={},s=Object.keys(t).sort(),n=0,o=s.length;o>n;n++)i=s[n],i!==e&&(r[i]=t[i]);return r},r=function(t){return t instanceof e.Hash?t:new e.Hash(t)},c=function(t){return t instanceof e.Hash?t.values:t},o}(e.Object)}.call(this),function(){e.ObjectGroup=function(){function t(t,e){var n,i;this.objects=null!=t?t:[],i=e.depth,n=e.asTree,n&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,i,o,r,s,a,u,c,l;for(null==t&&(t=[]),l=null!=e?e:{},o=l.depth,n=l.asTree,n&&null==o&&(o=0),c=[],s=0,a=t.length;a>s;s++){if(u=t[s],r){if((\"function\"==typeof u.canBeGrouped?u.canBeGrouped(o):void 0)&&(\"function\"==typeof(i=r[r.length-1]).canBeGroupedWith?i.canBeGroupedWith(u,o):void 0)){r.push(u);continue}c.push(new this(r,{depth:o,asTree:n})),r=null}(\"function\"==typeof u.canBeGrouped?u.canBeGrouped(o):void 0)?r=[u]:c.push(u)}return r&&c.push(new this(r,{depth:o,asTree:n})),c},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,i,o;for(e=[\"objectGroup\"],o=this.getObjects(),t=0,n=o.length;n>t;t++)i=o[t],e.push(i.getCacheKey());return e.join(\"/\")},t}()}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ObjectMap=function(e){function n(t){var e,n,i,o,r;for(null==t&&(t=[]),this.objects={},i=0,o=t.length;o>i;i++)r=t[i],n=JSON.stringify(r),null==(e=this.objects)[n]&&(e[n]=r)}return t(n,e),n.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},n}(e.BasicObject)}.call(this),function(){e.ElementStore=function(){function t(t){this.reset(t)}var e;return t.prototype.add=function(t){var n;return n=e(t),this.elements[n]=t},t.prototype.remove=function(t){var n,i;return n=e(t),(i=this.elements[n])?(delete this.elements[n],i):void 0},t.prototype.reset=function(t){var e,n,i;for(null==t&&(t=[]),this.elements={},n=0,i=t.length;i>n;n++)e=t[n],this.add(e);return t},e=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Operation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPerforming=function(){return this.performing===!0},n.prototype.hasPerformed=function(){return this.performed===!0},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise(function(t){return function(e,n){return t.performing=!0,t.perform(function(i,o){return t.succeeded=i,t.performing=!1,t.performed=!0,t.succeeded?e(o):n(o)})}}(this))},n.prototype.perform=function(t){return t(!1)},n.prototype.release=function(){var t;return null!=(t=this.promise)&&\"function\"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod(\"getPromise().then\"),n.proxyMethod(\"getPromise().catch\"),n}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;e.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return s(e,t),e.box=function(t){return null==t&&(t=\"\"),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,o(t))},e.fromCodepoints=function(t){return new this(r(t),t)},e.prototype.offsetToUCS2Offset=function(t){return r(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return o(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(e.BasicObject),t=1===(\"function\"==typeof Array.from?Array.from(\"\\ud83d\\udc7c\").length:void 0),n=null!=(\"function\"==typeof\" \".codePointAt?\" \".codePointAt(0):void 0),i=\" \\ud83d\\udc7c\"===(\"function\"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),o=t&&n?function(t){return Array.from(t).map(function(t){return t.codePointAt(0)})}:function(t){var e,n,i,o,r;for(o=[],e=0,i=t.length;i>e;)r=t.charCodeAt(e++),r>=55296&&56319>=r&&i>e&&(n=t.charCodeAt(e++),56320===(64512&n)?r=((1023&r)<<10)+(1023&n)+65536:e--),o.push(r);return o},r=i?function(t){return String.fromCodePoint.apply(String,t)}:function(t){var e,n,i;return e=function(){var e,o,r;for(r=[],e=0,o=t.length;o>e;e++)i=t[e],n=\"\",i>65535&&(i-=65536,n+=String.fromCharCode(i>>>10&1023|55296),i=56320|1023&i),r.push(n+String.fromCharCode(i));return r}(),e.join(\"\")}}.call(this),function(){}.call(this),function(){}.call(this),function(){e.config.lang={attachFiles:\"Attach Files\",bold:\"Bold\",bullets:\"Bullets\",\"byte\":\"Byte\",bytes:\"Bytes\",captionPlaceholder:\"Add a caption\\u2026\",code:\"Code\",heading1:\"Heading\",indent:\"Increase Level\",italic:\"Italic\",link:\"Link\",numbers:\"Numbers\",outdent:\"Decrease Level\",quote:\"Quote\",redo:\"Redo\",remove:\"Remove\",strike:\"Strikethrough\",undo:\"Undo\",unlink:\"Unlink\",url:\"URL\",urlPlaceholder:\"Enter a URL\\u2026\",GB:\"GB\",KB:\"KB\",MB:\"MB\",PB:\"PB\",TB:\"TB\"}}.call(this),function(){e.config.css={attachment:\"attachment\",attachmentCaption:\"attachment__caption\",attachmentCaptionEditor:\"attachment__caption-editor\",attachmentMetadata:\"attachment__metadata\",attachmentMetadataContainer:\"attachment__metadata-container\",attachmentName:\"attachment__name\",attachmentProgress:\"attachment__progress\",attachmentSize:\"attachment__size\",attachmentToolbar:\"attachment__toolbar\",attachmentGallery:\"attachment-gallery\"}}.call(this),function(){var t;e.config.blockAttributes=t={\"default\":{tagName:\"div\",parse:!1},quote:{tagName:\"blockquote\",nestable:!0},heading1:{tagName:\"h1\",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:\"pre\",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:\"ul\",parse:!1},bullet:{tagName:\"li\",listAttribute:\"bulletList\",group:!1,nestable:!0,test:function(n){return e.tagName(n.parentNode)===t[this.listAttribute].tagName}},numberList:{tagName:\"ol\",parse:!1},number:{tagName:\"li\",listAttribute:\"numberList\",group:!1,nestable:!0,test:function(n){return e.tagName(n.parentNode)===t[this.listAttribute].tagName}},attachmentGallery:{tagName:\"div\",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var t,n;t=e.config.lang,n=[t.bytes,t.KB,t.MB,t.GB,t.TB,t.PB],e.config.fileSize={prefix:\"IEC\",precision:2,formatter:function(e){var i,o,r,s,a;switch(e){case 0:return\"0 \"+t.bytes;case 1:return\"1 \"+t.byte;default:return i=function(){switch(this.prefix){case\"SI\":return 1e3;case\"IEC\":return 1024}}.call(this),o=Math.floor(Math.log(e)/Math.log(i)),r=e/Math.pow(i,o),s=r.toFixed(this.precision),a=s.replace(/0*$/,\"\").replace(/\\.$/,\"\"),a+\" \"+n[o]}}}}.call(this),function(){e.config.textAttributes={bold:{tagName:\"strong\",inheritable:!0,parser:function(t){var e;return e=window.getComputedStyle(t),\"bold\"===e.fontWeight||e.fontWeight>=600}},italic:{tagName:\"em\",inheritable:!0,parser:function(t){var e;return e=window.getComputedStyle(t),\"italic\"===e.fontStyle}},href:{groupTagName:\"a\",parser:function(t){var n,i,o;return n=e.AttachmentView.attachmentSelector,o=\"a:not(\"+n+\")\",(i=e.findClosestElementFromNode(t,{matchingSelector:o}))?i.getAttribute(\"href\"):void 0}},strike:{tagName:\"del\",inheritable:!0},frozen:{style:{backgroundColor:\"highlight\"}}}}.call(this),function(){var t,n,i,o,r;r=\"[data-trix-serialize=false]\",o=[\"contenteditable\",\"data-trix-id\",\"data-trix-store-key\",\"data-trix-mutable\",\"data-trix-placeholder\",\"tabindex\"],n=\"data-trix-serialized-attributes\",i=\"[\"+n+\"]\",t=new RegExp(\"<!--block-->\",\"g\"),e.extend({serializers:{\"application/json\":function(t){var n;if(t instanceof e.Document)n=t;else{if(!(t instanceof HTMLElement))throw new Error(\"unserializable object\");n=e.Document.fromHTML(t.innerHTML)}return n.toSerializableDocument().toJSONString()},\"text/html\":function(s){var a,u,c,l,h,p,d,f,g,m,y,v,b,A,x,C,S;if(s instanceof e.Document)l=e.DocumentView.render(s);else{if(!(s instanceof HTMLElement))throw new Error(\"unserializable object\");l=s.cloneNode(!0)}for(A=l.querySelectorAll(r),h=0,g=A.length;g>h;h++)c=A[h],e.removeNode(c);for(p=0,m=o.length;m>p;p++)for(a=o[p],x=l.querySelectorAll(\"[\"+a+\"]\"),d=0,y=x.length;y>d;d++)c=x[d],c.removeAttribute(a);for(C=l.querySelectorAll(i),f=0,v=C.length;v>f;f++){c=C[f];try{u=JSON.parse(c.getAttribute(n)),c.removeAttribute(n);for(b in u)S=u[b],c.setAttribute(b,S)}catch(R){}}return l.innerHTML.replace(t,\"\")}},deserializers:{\"application/json\":function(t){return e.Document.fromJSONString(t)},\"text/html\":function(t){return e.Document.fromHTML(t)}},serializeToContentType:function(t,n){var i;if(i=e.serializers[n])return i(t);throw new Error(\"unknown content type: \"+n)},deserializeFromContentType:function(t,n){var i;if(i=e.deserializers[n])return i(t);throw new Error(\"unknown content type: \"+n)}})}.call(this),function(){var t;t=e.config.lang,e.config.toolbar={getDefaultHTML:function(){return'<div class=\"trix-button-row\">\\n  <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"'+t.bold+'\" tabindex=\"-1\">'+t.bold+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"'+t.italic+'\" tabindex=\"-1\">'+t.italic+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"'+t.strike+'\" tabindex=\"-1\">'+t.strike+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"'+t.link+'\" tabindex=\"-1\">'+t.link+'</button>\\n  </span>\\n\\n  <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"'+t.heading1+'\" tabindex=\"-1\">'+t.heading1+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"'+t.quote+'\" tabindex=\"-1\">'+t.quote+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"'+t.code+'\" tabindex=\"-1\">'+t.code+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"'+t.bullets+'\" tabindex=\"-1\">'+t.bullets+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"'+t.numbers+'\" tabindex=\"-1\">'+t.numbers+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"'+t.outdent+'\" tabindex=\"-1\">'+t.outdent+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"'+t.indent+'\" tabindex=\"-1\">'+t.indent+'</button>\\n  </span>\\n\\n  <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"'+t.attachFiles+'\" tabindex=\"-1\">'+t.attachFiles+'</button>\\n  </span>\\n\\n  <span class=\"trix-button-group-spacer\"></span>\\n\\n  <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"'+t.undo+'\" tabindex=\"-1\">'+t.undo+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"'+t.redo+'\" tabindex=\"-1\">'+t.redo+'</button>\\n  </span>\\n</div>\\n\\n<div class=\"trix-dialogs\" data-trix-dialogs>\\n  <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\\n    <div class=\"trix-dialog__link-fields\">\\n      <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"'+t.urlPlaceholder+'\" aria-label=\"'+t.url+'\" required data-trix-input>\\n      <div class=\"trix-button-group\">\\n        <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"'+t.link+'\" data-trix-method=\"setAttribute\">\\n        <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"'+t.unlink+'\" data-trix-method=\"removeAttribute\">\\n      </div>\\n    </div>\\n  </div>\\n</div>'}}}.call(this),function(){e.config.undoInterval=5e3}.call(this),function(){e.config.attachments={preview:{presentation:\"gallery\",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){e.config.keyNames={8:\"backspace\",9:\"tab\",13:\"return\",27:\"escape\",37:\"left\",39:\"right\",46:\"delete\",68:\"d\",72:\"h\",79:\"o\"}}.call(this),function(){e.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&e.browser.supportsInputEvents?2:0},pickFiles:function(t){var n;return n=e.makeElement(\"input\",{type:\"file\",multiple:!0,hidden:!0,id:this.fileInputId}),n.addEventListener(\"change\",function(){return t(n.files),e.removeNode(n)}),e.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(n),n.click()},fileInputId:\"trix-file-input-\"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){e.registerElement(\"trix-toolbar\",{defaultCSS:\"%t {\\n  display: block;\\n}\\n\\n%t {\\n  white-space: nowrap;\\n}\\n\\n%t [data-trix-dialog] {\\n  display: none;\\n}\\n\\n%t [data-trix-dialog][data-trix-active] {\\n  display: block;\\n}\\n\\n%t [data-trix-dialog] [data-trix-validate]:invalid {\\n  background-color: #ffdddd;\\n}\",initialize:function(){return\"\"===this.innerHTML?this.innerHTML=e.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty,i=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e.ObjectView=function(n){function o(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return t(o,n),o.prototype.getNodes=function(){var t,e,n,i,o;for(null==this.nodes&&(this.nodes=this.createNodes()),i=this.nodes,o=[],t=0,e=i.length;e>t;t++)n=i[t],o.push(n.cloneNode(!0));return o},o.prototype.invalidate=function(){var t;return this.nodes=null,this.childViews=[],null!=(t=this.parentView)?t.invalidate():void 0},o.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},o.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},o.prototype.createChildView=function(t,n,i){var o;return null==i&&(i={}),n instanceof e.ObjectGroup&&(i.viewClass=t,t=e.ObjectGroupView),o=new t(n,i),this.recordChildView(o)},o.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t},o.prototype.getAllChildViews=function(){var t,e,n,i,o;for(o=[],i=this.childViews,e=0,n=i.length;n>e;e++)t=i[e],o.push(t),o=o.concat(t.getAllChildViews());return o},o.prototype.findElement=function(){return this.findElementForObject(this.object)},o.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector(\"[data-trix-id='\"+e+\"']\"):void 0},o.prototype.findViewForObject=function(t){var e,n,i,o;for(i=this.getAllChildViews(),e=0,n=i.length;n>e;e++)if(o=i[e],o.object===t)return o},o.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},o.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},o.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0\n},o.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},o.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},o.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},o.prototype.garbageCollectCachedViews=function(){var t,e,n,o,r,s;if(t=this.getViewCache()){s=this.getAllChildViews().concat(this),n=function(){var t,e,n;for(n=[],t=0,e=s.length;e>t;t++)r=s[t],n.push(r.object.getCacheKey());return n}(),o=[];for(e in t)i.call(n,e)<0&&o.push(delete t[e]);return o}},o}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ObjectGroupView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return t(n,e),n.prototype.getChildViews=function(){var t,e,n,i;if(!this.childViews.length)for(i=this.objectGroup.getObjects(),t=0,e=i.length;e>t;t++)n=i[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var t,e,n,i,o,r,s,a,u;for(t=this.createContainerElement(),s=this.getChildViews(),e=0,i=s.length;i>e;e++)for(u=s[e],a=u.getNodes(),n=0,o=a.length;o>n;n++)r=a[n],t.appendChild(r);return[t]},n.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},n}(e.ObjectView)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Controller=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,s,a=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.findClosestElementFromNode,i=e.nodeIsEmptyTextNode,n=e.nodeIsBlockStartComment,o=e.normalizeSpaces,r=e.summarizeStringChange,s=e.tagName,e.MutationObserver=function(e){function c(t){this.element=t,this.didMutate=a(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var h,p,d,f;return u(c,e),p=\"data-trix-mutable\",d=\"[\"+p+\"]\",f={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},c.prototype.start=function(){return this.reset(),this.observer.observe(this.element,f)},c.prototype.stop=function(){return this.observer.disconnect()},c.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&\"function\"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},c.prototype.reset=function(){return this.mutations=[]},c.prototype.findSignificantMutations=function(t){var e,n,i,o;for(o=[],e=0,n=t.length;n>e;e++)i=t[e],this.mutationIsSignificant(i)&&o.push(i);return o},c.prototype.mutationIsSignificant=function(t){var e,n,i,o;if(this.nodeIsMutable(t.target))return!1;for(o=this.nodesModifiedByMutation(t),e=0,n=o.length;n>e;e++)if(i=o[e],this.nodeIsSignificant(i))return!0;return!1},c.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!i(t)},c.prototype.nodeIsMutable=function(e){return t(e,{matchingSelector:d})},c.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case\"attributes\":t.attributeName!==p&&e.push(t.target);break;case\"characterData\":e.push(t.target.parentNode),e.push(t.target);break;case\"childList\":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},c.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},c.prototype.getTextMutationSummary=function(){var t,e,n,i,o,r,s,a,u,c,h;for(a=this.getTextChangesFromCharacterData(),n=a.additions,o=a.deletions,h=this.getTextChangesFromChildList(),u=h.additions,r=0,s=u.length;s>r;r++)e=u[r],l.call(n,e)<0&&n.push(e);return o.push.apply(o,h.deletions),c={},(t=n.join(\"\"))&&(c.textAdded=t),(i=o.join(\"\"))&&(c.textDeleted=i),c},c.prototype.getMutationsByType=function(t){var e,n,i,o,r;for(o=this.mutations,r=[],e=0,n=o.length;n>e;e++)i=o[e],i.type===t&&r.push(i);return r},c.prototype.getTextChangesFromChildList=function(){var t,e,i,r,s,a,u,c,l,p,d;for(t=[],u=[],a=this.getMutationsByType(\"childList\"),e=0,r=a.length;r>e;e++)s=a[e],t.push.apply(t,s.addedNodes),u.push.apply(u,s.removedNodes);return c=0===t.length&&1===u.length&&n(u[0]),c?(p=[],d=[\"\\n\"]):(p=h(t),d=h(u)),{additions:function(){var t,e,n;for(n=[],i=t=0,e=p.length;e>t;i=++t)l=p[i],l!==d[i]&&n.push(o(l));return n}(),deletions:function(){var t,e,n;for(n=[],i=t=0,e=d.length;e>t;i=++t)l=d[i],l!==p[i]&&n.push(o(l));return n}()}},c.prototype.getTextChangesFromCharacterData=function(){var t,e,n,i,s,a,u,c;return e=this.getMutationsByType(\"characterData\"),e.length&&(c=e[0],n=e[e.length-1],s=o(c.oldValue),i=o(n.target.data),a=r(s,i),t=a.added,u=a.removed),{additions:t?[t]:[],deletions:u?[u]:[]}},h=function(t){var e,n,i,o;for(null==t&&(t=[]),o=[],e=0,n=t.length;n>e;e++)switch(i=t[e],i.nodeType){case Node.TEXT_NODE:o.push(i.data);break;case Node.ELEMENT_NODE:\"br\"===s(i)?o.push(\"\\n\"):o.push.apply(o,h(i.childNodes))}return o},c}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.FileVerificationOperation=function(e){function n(t){this.file=t}return t(n,e),n.prototype.perform=function(t){var e;return e=new FileReader,e.onerror=function(){return t(!1)},e.onload=function(n){return function(){e.onerror=null;try{e.abort()}catch(i){}return t(!0,n.file)}}(this),e.readAsArrayBuffer(this.file)},n}(e.Operation)}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=e.handleEvent,n=e.innerElementIsActive,e.InputController=function(o){function r(n){var i;this.element=n,this.mutationObserver=new e.MutationObserver(this.element),this.mutationObserver.delegate=this;for(i in this.events)t(i,{onElement:this.element,withCallback:this.handlerFor(i)})}return i(r,o),r.prototype.events={},r.prototype.elementDidMutate=function(){},r.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},r.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},r.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&\"function\"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},r.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&\"function\"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},r.prototype.attachFiles=function(t){var n,i;return i=function(){var i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(new e.FileVerificationOperation(n));return r}(),Promise.all(i).then(function(t){return function(e){return t.handleInput(function(){var t,n;return null!=(t=this.delegate)&&t.inputControllerWillAttachFiles(),null!=(n=this.responder)&&n.insertFiles(e),this.requestRender()})}}(this))},r.prototype.handlerFor=function(t){return function(e){return function(i){return i.defaultPrevented?void 0:e.handleInput(function(){return n(this.element)?void 0:(this.eventName=t,this.events[t].call(this,i))})}}(this)},r.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},r}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,s,a,u,c,l,h,p,d,f=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty,m=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};c=e.makeElement,l=e.objectsAreEqual,d=e.tagName,n=e.browser,a=e.keyEventIsKeyboardCommand,o=e.dataTransferIsWritable,i=e.dataTransferIsPlainText,u=e.config.keyNames,e.Level0InputController=function(n){function s(){s.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var d;return f(s,n),d=0,s.prototype.setInputSummary=function(t){var e,n;null==t&&(t={}),this.inputSummary.eventName=this.eventName;for(e in t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},s.prototype.resetInputSummary=function(){return this.inputSummary={}},s.prototype.reset=function(){return this.resetInputSummary(),e.selectionChangeObserver.reset()},s.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&\"function\"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})},s.prototype.mutationIsExpected=function(t){var e,n,i,o,r,s,a,u,c,l;return a=t.textAdded,u=t.textDeleted,this.inputSummary.preferDocument?!0:(e=null!=a?a===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=u?this.inputSummary.didDelete:!this.inputSummary.didDelete,c=(\"\\n\"===a||\" \\n\"===a)&&!e,l=\"\\n\"===u&&!n,s=c&&!l||l&&!c,s&&(o=this.getSelectedRange())&&(i=c?a.replace(/\\n$/,\"\").length||-1:(null!=a?a.length:void 0)||1,null!=(r=this.responder)?r.positionIsBlockBreak(o[1]+i):void 0)?!0:e&&n)},s.prototype.mutationIsSignificant=function(t){var e,n,i;return i=Object.keys(t).length>0,e=\"\"===(null!=(n=this.compositionInput)?n.getEndData():void 0),i||!e},s.prototype.events={keydown:function(t){var n,i,o,r,s,c,l,h,p;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,r=u[t.keyCode]){for(i=this.keys,h=[\"ctrl\",\"alt\",\"shift\",\"meta\"],o=0,c=h.length;c>o;o++)l=h[o],t[l+\"Key\"]&&(\"ctrl\"===l&&(l=\"control\"),i=null!=i?i[l]:void 0);null!=(null!=i?i[r]:void 0)&&(this.setInputSummary({keyName:r}),e.selectionChangeObserver.reset(),i[r].call(this,t))}return a(t)&&(n=String.fromCharCode(t.keyCode).toLowerCase())&&(s=function(){var e,n,i,o;for(i=[\"alt\",\"shift\"],o=[],e=0,n=i.length;n>e;e++)l=i[e],t[l+\"Key\"]&&o.push(l);return o}(),s.push(n),null!=(p=this.delegate)?p.inputControllerDidReceiveKeyboardCommand(s):void 0)?t.preventDefault():void 0},keypress:function(t){var e,n,i;if(null==this.inputSummary.eventName&&!t.metaKey&&(!t.ctrlKey||t.altKey))return(i=p(t))?(null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(i),this.setInputSummary({textAdded:i,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,n,i,o;return e=t.data,o=this.inputSummary.textAdded,o&&o!==e&&o.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+o.length]),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e,n;return n=t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&\"function\"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},l(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&\"function\"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&\"function\"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var n,i,o,r,s,a,u,c,l;return t.preventDefault(),o=null!=(s=t.dataTransfer)?s.files:void 0,r={x:t.clientX,y:t.clientY},null!=(a=this.responder)&&a.setLocationRangeFromPointRange(r),(null!=o?o.length:void 0)?this.attachFiles(o):this.draggedRange?(null!=(u=this.delegate)&&u.inputControllerWillMoveText(),null!=(c=this.responder)&&c.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(i=t.dataTransfer.getData(\"application/x-trix-document\"))&&(n=e.Document.fromJSONString(i),null!=(l=this.responder)&&l.insertDocument(n),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e,n;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillCutText(),this.deleteInDirection(\"backward\"),t.defaultPrevented)?this.requestRender():void 0},copy:function(t){var e;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(t){var n,o,s,a,u,c,l,p,f,g,y,v,b,A,x,C,S,R,k,E,w,D;return n=null!=(p=t.clipboardData)?p:t.testClipboardData,l={clipboard:n},null==n||h(t)?void this.getPastedHTMLUsingHiddenElement(function(t){return function(e){var n,i,o;return l.type=\"text/html\",l.html=e,null!=(n=t.delegate)&&n.inputControllerWillPaste(l),null!=(i=t.responder)&&i.insertHTML(l.html),t.requestRender(),null!=(o=t.delegate)?o.inputControllerDidPaste(l):void 0}}(this)):((a=n.getData(\"URL\"))?(l.type=\"URL\",l.href=a,l.string=(c=n.getData(\"public.url-name\"))?e.squishBreakableWhitespace(c).trim():a,null!=(f=this.delegate)&&f.inputControllerWillPaste(l),this.setInputSummary({textAdded:l.string,didDelete:this.selectionIsExpanded()}),null!=(x=this.responder)&&x.insertText(e.Text.textForStringWithAttributes(l.string,{href:l.href})),this.requestRender(),null!=(C=this.delegate)&&C.inputControllerDidPaste(l)):i(n)?(l.type=\"text/plain\",l.string=n.getData(\"text/plain\"),null!=(S=this.delegate)&&S.inputControllerWillPaste(l),this.setInputSummary({textAdded:l.string,didDelete:this.selectionIsExpanded()}),null!=(R=this.responder)&&R.insertString(l.string),this.requestRender(),null!=(k=this.delegate)&&k.inputControllerDidPaste(l)):(u=n.getData(\"text/html\"))?(l.type=\"text/html\",l.html=u,null!=(E=this.delegate)&&E.inputControllerWillPaste(l),null!=(w=this.responder)&&w.insertHTML(l.html),this.requestRender(),null!=(D=this.delegate)&&D.inputControllerDidPaste(l)):m.call(n.types,\"Files\")>=0&&(s=null!=(g=n.items)&&null!=(y=g[0])&&\"function\"==typeof y.getAsFile?y.getAsFile():void 0)&&(!s.name&&(o=r(s))&&(s.name=\"pasted-file-\"+ ++d+\".\"+o),l.type=\"File\",l.file=s,null!=(v=this.delegate)&&v.inputControllerWillAttachFiles(),null!=(b=this.responder)&&b.insertFile(l.file),this.requestRender(),null!=(A=this.delegate)&&A.inputControllerDidPaste(l)),t.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(t){return this.inputSummary.didInput=!0,t.stopPropagation()}},s.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection(\"backward\",t)},\"delete\":function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection(\"forward\",t)},\"return\":function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection(\"backward\"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection(\"forward\"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection(\"forward\",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection(\"backward\",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(\"\\n\",{updatePosition:!1}),this.requestRender()}},shift:{\"return\":function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(\"\\n\"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection(\"backward\")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection(\"forward\")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},s.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new t(this)},s.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},s.prototype.deleteInDirection=function(t,e){var n;return(null!=(n=this.responder)?n.deleteInDirection(t):void 0)!==!1?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},s.prototype.serializeSelectionToDataTransfer=function(t){var n,i;if(o(t))return n=null!=(i=this.responder)?i.getSelectedDocument().toSerializableDocument():void 0,t.setData(\"application/x-trix-document\",JSON.stringify(n)),t.setData(\"text/html\",e.DocumentView.render(n).innerHTML),t.setData(\"text/plain\",n.toString().replace(/\\n$/,\"\")),!0},s.prototype.canAcceptDataTransfer=function(t){var e,n,i,o,r,s;for(s={},o=null!=(i=null!=t?t.types:void 0)?i:[],e=0,n=o.length;n>e;e++)r=o[e],s[r]=!0;return s.Files||s[\"application/x-trix-document\"]||s[\"text/html\"]||s[\"text/plain\"]},s.prototype.getPastedHTMLUsingHiddenElement=function(t){var n,i,o;return i=this.getSelectedRange(),o={position:\"absolute\",left:window.pageXOffset+\"px\",top:window.pageYOffset+\"px\",opacity:0},n=c({style:o,tagName:\"div\",editable:!0}),document.body.appendChild(n),n.focus(),requestAnimationFrame(function(o){return function(){var r;return r=n.innerHTML,e.removeNode(n),o.setSelectedRange(i),t(r)}}(this))},s.proxyMethod(\"responder?.getSelectedRange\"),s.proxyMethod(\"responder?.setSelectedRange\"),s.proxyMethod(\"responder?.expandSelectionInDirection\"),s.proxyMethod(\"responder?.selectionIsInCursorTarget\"),s.proxyMethod(\"responder?.selectionIsExpanded\"),s}(e.InputController),r=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\\/(\\w+)$/))?n[1]:void 0},s=null!=(\"function\"==typeof\" \".codePointAt?\" \".codePointAt(0):void 0),p=function(t){var n;return t.key&&s&&t.key.codePointAt(0)===t.keyCode?t.key:(null===t.which?n=t.keyCode:0!==t.which&&0!==t.charCode&&(n=t.charCode),null!=n&&\"escape\"!==u[n]?e.UTF16String.fromCodepoints([n]).toString():void 0)},h=function(t){var e,n,i,o,r,s,a,u,c,l;if(u=t.clipboardData){if(m.call(u.types,\"text/html\")>=0){for(c=u.types,i=0,s=c.length;s>i;i++)if(l=c[i],e=/^CorePasteboardFlavorType/.test(l),n=/^dyn\\./.test(l)&&u.getData(l),a=e||n)return!0;return!1}return o=m.call(u.types,\"com.apple.webarchive\")>=0,r=m.call(u.types,\"com.apple.flat-rtfd\")>=0,o||r}},t=function(t){function e(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return f(e,t),e.prototype.start=function(t){var e,n;return this.data.start=t,this.isSignificant()?(\"keypress\"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection(\"left\"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0):void 0},e.prototype.update=function(t){var e;return this.data.update=t,this.isSignificant()&&(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},e.prototype.end=function(t){var e,n,i,o;return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(i=this.responder)&&i.insertString(this.data.end),null!=(o=this.responder)?o.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},e.prototype.getEndData=function(){return this.data.end},e.prototype.isEnded=function(){return null!=this.getEndData()},e.prototype.isSignificant=function(){return n.composesExistingText?this.inputSummary.didInput:!0},e.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&(null!=(e=this.data.end)?e.length:void 0)>0&&null!=this.range},e.proxyMethod(\"inputController.setInputSummary\"),e.proxyMethod(\"inputController.requestRender\"),e.proxyMethod(\"inputController.requestReparse\"),e.proxyMethod(\"responder?.selectionIsExpanded\"),e.proxyMethod(\"responder?.insertPlaceholder\"),e.proxyMethod(\"responder?.selectPlaceholder\"),e.proxyMethod(\"responder?.forgetPlaceholder\"),e}(e.BasicObject)}.call(this),function(){var t,n,i,o=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.dataTransferIsPlainText,n=e.keyEventIsKeyboardCommand,i=e.objectsAreEqual,e.Level2InputController=function(s){function u(){return this.render=o(this.render,this),u.__super__.constructor.apply(this,arguments)}var c,l,h,p,d,f;return r(u,s),u.prototype.elementDidMutate=function(){var t;return this.scheduledRender?this.composing&&null!=(t=this.delegate)&&\"function\"==typeof t.inputControllerDidAllowUnhandledInput?t.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},u.prototype.scheduleRender=function(){return null!=this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},u.prototype.render=function(){var t;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null!=(t=this.delegate)&&t.render(),\"function\"==typeof this.afterRender&&this.afterRender(),this.afterRender=null},u.prototype.reparse=function(){var t;return null!=(t=this.delegate)?t.reparse():void 0},u.prototype.events={keydown:function(t){var e,i,o,r;if(n(t)){if(e=l(t),null!=(r=this.delegate)?r.inputControllerDidReceiveKeyboardCommand(e):void 0)return t.preventDefault()}else if(o=t.key,t.altKey&&(o+=\"+Alt\"),t.shiftKey&&(o+=\"+Shift\"),i=this.keys[o])return this.withEvent(t,i)},paste:function(t){var n,i,o,r,s,a,u,c,l;return h(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):p(t)?(t.preventDefault(),i={type:\"text/plain\",string:t.clipboardData.getData(\"text/plain\")},null!=(o=this.delegate)&&o.inputControllerWillPaste(i),null!=(r=this.responder)&&r.insertString(i.string),this.render(),null!=(s=this.delegate)?s.inputControllerDidPaste(i):void 0):(n=null!=(a=t.clipboardData)?a.getData(\"URL\"):void 0)?(t.preventDefault(),i={type:\"URL\",href:n,string:n},null!=(u=this.delegate)&&u.inputControllerWillPaste(i),null!=(c=this.responder)&&c.insertText(e.Text.textForStringWithAttributes(i.string,{href:i.href})),this.render(),null!=(l=this.delegate)?l.inputControllerDidPaste(i):void 0):void 0},beforeinput:function(t){var e;return(e=this.inputTypes[t.inputType])?(this.withEvent(t,e),this.scheduleRender()):void 0},input:function(){return e.selectionChangeObserver.reset()},dragstart:function(t){var e,n;return(null!=(e=this.responder)?e.selectionContainsAttachments():void 0)?(t.dataTransfer.setData(\"application/x-trix-dragging\",!0),this.dragging={range:null!=(n=this.responder)?n.getSelectedRange():void 0,point:d(t)}):void 0},dragenter:function(t){return c(t)?t.preventDefault():void 0},dragover:function(t){var e,n;return this.dragging&&(t.preventDefault(),e=d(t),!i(e,this.dragging.point))?(this.dragging.point=e,null!=(n=this.responder)?n.setLocationRangeFromPointRange(e):void 0):void 0},drop:function(t){var e,n,i,o;return this.dragging?(t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillMoveText(),null!=(i=this.responder)&&i.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):c(t)?(t.preventDefault(),e=d(t),null!=(o=this.responder)&&o.setLocationRangeFromPointRange(e),this.attachFiles(t.dataTransfer.files)):void 0},dragend:function(){var t;return this.dragging?(null!=(t=this.responder)&&t.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},u.prototype.keys={ArrowLeft:function(){var t,e;return(null!=(t=this.responder)?t.shouldManageMovingCursorInDirection(\"backward\"):void 0)?(this.event.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection(\"backward\"):void 0):void 0},ArrowRight:function(){var t,e;return(null!=(t=this.responder)?t.shouldManageMovingCursorInDirection(\"forward\"):void 0)?(this.event.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection(\"forward\"):void 0):void 0},Backspace:function(){var t,e,n;return(null!=(t=this.responder)?t.shouldManageDeletingInDirection(\"backward\"):void 0)?(this.event.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.deleteInDirection(\"backward\"),this.render()):void 0},Tab:function(){var t,e;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(e=this.responder)&&e.increaseNestingLevel(),this.render()):void 0},\"Tab+Shift\":function(){var t,e;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(e=this.responder)&&e.decreaseNestingLevel(),this.render()):void 0}},u.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection(\"backward\",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection(\"backward\")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var t;return this.deleteByDragRange=null!=(t=this.responder)?t.getSelectedRange():void 0})},deleteCompositionText:function(){return this.deleteInDirection(\"backward\",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection(\"backward\")},deleteContentBackward:function(){return this.deleteInDirection(\"backward\")},deleteContentForward:function(){return this.deleteInDirection(\"forward\")},deleteEntireSoftLine:function(){return this.deleteInDirection(\"forward\")},deleteHardLineBackward:function(){return this.deleteInDirection(\"backward\")},deleteHardLineForward:function(){return this.deleteInDirection(\"forward\")},deleteSoftLineBackward:function(){return this.deleteInDirection(\"backward\")},deleteSoftLineForward:function(){return this.deleteInDirection(\"forward\")},deleteWordBackward:function(){return this.deleteInDirection(\"backward\")},deleteWordForward:function(){return this.deleteInDirection(\"forward\")},formatBackColor:function(){return this.activateAttributeIfSupported(\"backgroundColor\",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported(\"bold\")},formatFontColor:function(){return this.activateAttributeIfSupported(\"color\",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported(\"font\",this.event.data)},formatIndent:function(){var t;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?this.withTargetDOMRange(function(){var t;return null!=(t=this.responder)?t.increaseNestingLevel():void 0}):void 0},formatItalic:function(){return this.toggleAttributeIfSupported(\"italic\")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported(\"justifyCenter\")},formatJustifyFull:function(){return this.toggleAttributeIfSupported(\"justifyFull\")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported(\"justifyLeft\")},formatJustifyRight:function(){return this.toggleAttributeIfSupported(\"justifyRight\")},formatOutdent:function(){var t;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?this.withTargetDOMRange(function(){var t;return null!=(t=this.responder)?t.decreaseNestingLevel():void 0}):void 0},formatRemove:function(){return this.withTargetDOMRange(function(){var t,e,n,i;i=[];for(t in null!=(e=this.responder)?e.getCurrentAttributes():void 0)i.push(null!=(n=this.responder)?n.removeCurrentAttribute(t):void 0);return i})},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported(\"blockDir\",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported(\"textDir\",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported(\"strike\")},formatSubscript:function(){return this.toggleAttributeIfSupported(\"sub\")},formatSuperscript:function(){return this.toggleAttributeIfSupported(\"sup\")},formatUnderline:function(){return this.toggleAttributeIfSupported(\"underline\")},historyRedo:function(){var t;return null!=(t=this.delegate)?t.inputControllerWillPerformRedo():void 0},historyUndo:function(){var t;return null!=(t=this.delegate)?t.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var t,e;return(t=this.deleteByDragRange)?(this.deleteByDragRange=null,null!=(e=this.delegate)&&e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var e;return null!=(e=this.responder)?e.moveTextFromRange(t):void 0})):void 0},insertFromPaste:function(){var n,i,o,r,s,a,u,c,l,h;return n=this.event.dataTransfer,s={dataTransfer:n},(i=n.getData(\"URL\"))?(s.type=\"URL\",s.href=i,s.string=(r=n.getData(\"public.url-name\"))?e.squishBreakableWhitespace(r).trim():i,null!=(a=this.delegate)&&a.inputControllerWillPaste(s),this.withTargetDOMRange(function(){var t;return null!=(t=this.responder)?t.insertText(e.Text.textForStringWithAttributes(s.string,{href:s.href})):void 0}),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(s):void 0}}(this)):t(n)?(s.type=\"text/plain\",s.string=n.getData(\"text/plain\"),null!=(u=this.delegate)&&u.inputControllerWillPaste(s),this.withTargetDOMRange(function(){var t;return null!=(t=this.responder)?t.insertString(s.string):void 0}),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(s):void 0}}(this)):(o=n.getData(\"text/html\"))?(s.type=\"text/html\",s.html=o,null!=(c=this.delegate)&&c.inputControllerWillPaste(s),this.withTargetDOMRange(function(){var t;return null!=(t=this.responder)?t.insertHTML(s.html):void 0}),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(s):void 0}}(this)):(null!=(l=n.files)?l.length:void 0)?(s.type=\"File\",s.file=n.files[0],null!=(h=this.delegate)&&h.inputControllerWillPaste(s),this.withTargetDOMRange(function(){var t;return null!=(t=this.responder)?t.insertFile(s.file):void 0}),this.afterRender=function(t){return function(){var e;\nreturn null!=(e=t.delegate)?e.inputControllerDidPaste(s):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString(\"\\n\")},insertLink:function(){return this.activateAttributeIfSupported(\"href\",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported(\"number\")},insertParagraph:function(){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return null!=(t=this.responder)?t.insertLineBreak():void 0})},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData(\"text/plain\"),{updatePosition:!1})},insertText:function(){var t,e;return this.insertString(null!=(t=this.event.data)?t:null!=(e=this.event.dataTransfer)?e.getData(\"text/plain\"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported(\"bullet\")}},u.prototype.insertString=function(t,e){var n;return null==t&&(t=\"\"),null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var n;return null!=(n=this.responder)?n.insertString(t,e):void 0})},u.prototype.toggleAttributeIfSupported=function(t){var n;return a.call(e.getAllAttributeNames(),t)>=0?(null!=(n=this.delegate)&&n.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var e;return null!=(e=this.responder)?e.toggleCurrentAttribute(t):void 0})):void 0},u.prototype.activateAttributeIfSupported=function(t,n){var i;return a.call(e.getAllAttributeNames(),t)>=0?(null!=(i=this.delegate)&&i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var e;return null!=(e=this.responder)?e.setCurrentAttribute(t,n):void 0})):void 0},u.prototype.deleteInDirection=function(t,e){var n,i,o,r;return o=(null!=e?e:{recordUndoEntry:!0}).recordUndoEntry,o&&null!=(r=this.delegate)&&r.inputControllerWillPerformTyping(),i=function(e){return function(){var n;return null!=(n=e.responder)?n.deleteInDirection(t):void 0}}(this),(n=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(n,i):i()},u.prototype.withTargetDOMRange=function(t,n){var i;return\"function\"==typeof t&&(n=t,t=this.getTargetDOMRange()),t?null!=(i=this.responder)?i.withTargetDOMRange(t,n.bind(this)):void 0:(e.selectionChangeObserver.reset(),n.call(this))},u.prototype.getTargetDOMRange=function(t){var e,n,i,o;return i=(null!=t?t:{minLength:0}).minLength,(o=\"function\"==typeof(e=this.event).getTargetRanges?e.getTargetRanges():void 0)&&o.length&&(n=f(o[0]),0===i||n.toString().length>=i)?n:void 0},f=function(t){var e;return e=document.createRange(),e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},u.prototype.withEvent=function(t,e){var n;this.event=t;try{n=e.call(this)}finally{this.event=null}return n},c=function(t){var e,n;return a.call(null!=(e=null!=(n=t.dataTransfer)?n.types:void 0)?e:[],\"Files\")>=0},h=function(t){var e;return(e=t.clipboardData)?a.call(e.types,\"Files\")>=0&&1===e.types.length&&e.files.length>=1:void 0},p=function(t){var e;return(e=t.clipboardData)?a.call(e.types,\"text/plain\")>=0&&1===e.types.length:void 0},l=function(t){var e;return e=[],t.altKey&&e.push(\"alt\"),t.shiftKey&&e.push(\"shift\"),e.push(t.key),e},d=function(t){return{x:t.clientX,y:t.clientY}},u}(e.InputController)}.call(this),function(){var t,n,i,o,r,s,a,u,c,l=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;n=e.defer,i=e.escapeHTML,o=e.handleEvent,a=e.makeElement,c=e.tagName,u=e.config,s=u.lang,t=u.css,r=u.keyNames,e.AttachmentEditorController=function(u){function p(t,e,n,i){this.attachmentPiece=t,this.element=e,this.container=n,this.options=null!=i?i:{},this.didBlurCaption=l(this.didBlurCaption,this),this.didChangeCaption=l(this.didChangeCaption,this),this.didInputCaption=l(this.didInputCaption,this),this.didKeyDownCaption=l(this.didKeyDownCaption,this),this.didClickActionButton=l(this.didClickActionButton,this),this.didClickToolbar=l(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,\"a\"===c(this.element)&&(this.element=this.element.firstChild),this.install()}var d;return h(p,u),d=function(t){return function(){var e;return e=t.apply(this,arguments),e[\"do\"](),null==this.undos&&(this.undos=[]),this.undos.push(e.undo)}},p.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},p.prototype.uninstall=function(){var t,e;for(this.savePendingCaption();e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},p.prototype.savePendingCaption=function(){var t,e,n;return null!=this.pendingCaption?(t=this.pendingCaption,this.pendingCaption=null,t?null!=(e=this.delegate)&&\"function\"==typeof e.attachmentEditorDidRequestUpdatingAttributesForAttachment?e.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:t},this.attachment):void 0:null!=(n=this.delegate)&&\"function\"==typeof n.attachmentEditorDidRequestRemovingAttributeForAttachment?n.attachmentEditorDidRequestRemovingAttributeForAttachment(\"caption\",this.attachment):void 0):void 0},p.prototype.makeElementMutable=d(function(){return{\"do\":function(t){return function(){return t.element.dataset.trixMutable=!0}}(this),undo:function(t){return function(){return delete t.element.dataset.trixMutable}}(this)}}),p.prototype.addToolbar=d(function(){var n,r,u;return n=a({tagName:\"div\",className:t.attachmentToolbar,data:{trixMutable:!0}}),n.innerHTML='<div class=\"trix-button-row\">\\n  <span class=\"trix-button-group trix-button-group--actions\">\\n    <button type=\"button\" data-trix-action=\"remove\" class=\"trix-button trix-button--remove\" title=\"'+s.remove+'\">'+s.remove+\"</button>\\n  </span>\\n</div>\",this.attachment.isPreviewable()&&(r=i(this.attachment.getFilename()),u=i(this.attachment.getFormattedFilesize()),n.innerHTML+='<div class=\"'+t.attachmentMetadataContainer+'\">\\n  <span class=\"'+t.attachmentMetadata+'\">\\n    <span class=\"'+t.attachmentName+'\" title=\"'+r+'\">'+r+'</span>\\n    <span class=\"'+t.attachmentSize+'\">'+u+\"</span>\\n  </span>\\n</div>\"),o(\"click\",{onElement:n,withCallback:this.didClickToolbar}),o(\"click\",{onElement:n,matchingSelector:\"[data-trix-action]\",withCallback:this.didClickActionButton}),{\"do\":function(t){return function(){return t.element.appendChild(n)}}(this),undo:function(){return function(){return e.removeNode(n)}}(this)}}),p.prototype.installCaptionEditor=d(function(){var i,r,u,c,l;return c=a({tagName:\"textarea\",className:t.attachmentCaptionEditor,attributes:{placeholder:s.captionPlaceholder},data:{trixMutable:!0}}),c.value=this.attachmentPiece.getCaption(),l=c.cloneNode(),l.classList.add(\"trix-autoresize-clone\"),l.tabIndex=-1,i=function(){return l.value=c.value,c.style.height=l.scrollHeight+\"px\"},o(\"input\",{onElement:c,withCallback:i}),o(\"input\",{onElement:c,withCallback:this.didInputCaption}),o(\"keydown\",{onElement:c,withCallback:this.didKeyDownCaption}),o(\"change\",{onElement:c,withCallback:this.didChangeCaption}),o(\"blur\",{onElement:c,withCallback:this.didBlurCaption}),u=this.element.querySelector(\"figcaption\"),r=u.cloneNode(),{\"do\":function(e){return function(){return u.style.display=\"none\",r.appendChild(c),r.appendChild(l),r.classList.add(t.attachmentCaption+\"--editing\"),u.parentElement.insertBefore(r,u),i(),e.options.editCaption?n(function(){return c.focus()}):void 0}}(this),undo:function(){return e.removeNode(r),u.style.display=null}}}),p.prototype.didClickToolbar=function(t){return t.preventDefault(),t.stopPropagation()},p.prototype.didClickActionButton=function(t){var e,n;switch(e=t.target.getAttribute(\"data-trix-action\")){case\"remove\":return null!=(n=this.delegate)?n.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},p.prototype.didKeyDownCaption=function(t){var e;return\"return\"===r[t.keyCode]?(t.preventDefault(),this.savePendingCaption(),null!=(e=this.delegate)&&\"function\"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},p.prototype.didInputCaption=function(t){return this.pendingCaption=t.target.value.replace(/\\s/g,\" \").trim()},p.prototype.didChangeCaption=function(){return this.savePendingCaption()},p.prototype.didBlurCaption=function(){return this.savePendingCaption()},p}(e.BasicObject)}.call(this),function(){var t,n,i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=e.makeElement,t=e.config.css,e.AttachmentView=function(r){function s(){s.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var a;return o(s,r),s.attachmentSelector=\"[data-trix-attachment]\",s.prototype.createContentNodes=function(){return[]},s.prototype.createNodes=function(){var e,n,o,r,s,u,c;if(e=r=i({tagName:\"figure\",className:this.getClassName(),data:this.getData(),editable:!1}),(n=this.getHref())&&(r=i({tagName:\"a\",editable:!1,attributes:{href:n,tabindex:-1}}),e.appendChild(r)),this.attachment.hasContent())r.innerHTML=this.attachment.getContent();else for(c=this.createContentNodes(),o=0,s=c.length;s>o;o++)u=c[o],r.appendChild(u);return r.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=i({tagName:\"progress\",attributes:{\"class\":t.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:[\"progressElement\",this.attachment.id].join(\"/\")}}),e.appendChild(this.progressElement)),[a(\"left\"),e,a(\"right\")]},s.prototype.createCaptionElement=function(){var e,n,o,r,s,a,u;return o=i({tagName:\"figcaption\",className:t.attachmentCaption}),(e=this.attachmentPiece.getCaption())?(o.classList.add(t.attachmentCaption+\"--edited\"),o.textContent=e):(n=this.getCaptionConfig(),n.name&&(r=this.attachment.getFilename()),n.size&&(a=this.attachment.getFormattedFilesize()),r&&(s=i({tagName:\"span\",className:t.attachmentName,textContent:r}),o.appendChild(s)),a&&(r&&o.appendChild(document.createTextNode(\" \")),u=i({tagName:\"span\",className:t.attachmentSize,textContent:a}),o.appendChild(u))),o},s.prototype.getClassName=function(){var e,n;return n=[t.attachment,t.attachment+\"--\"+this.attachment.getType()],(e=this.attachment.getExtension())&&n.push(t.attachment+\"--\"+e),n.join(\" \")},s.prototype.getData=function(){var t,e;return e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},t=this.attachmentPiece.attributes,t.isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e},s.prototype.getHref=function(){return n(this.attachment.getContent(),\"a\")?void 0:this.attachment.getHref()},s.prototype.getCaptionConfig=function(){var t,n,i;return i=this.attachment.getType(),t=e.copyObject(null!=(n=e.config.attachments[i])?n.caption:void 0),\"file\"===i&&(t.name=!0),t},s.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector(\"progress\"):void 0},a=function(t){return i({tagName:\"span\",textContent:e.ZERO_WIDTH_SPACE,data:{trixCursorTarget:t,trixSerialize:!1}})},s.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},s}(e.ObjectView),n=function(t,e){var n;return n=i(\"div\"),n.innerHTML=null!=t?t:\"\",n.querySelector(e)}}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=e.makeElement,e.PreviewableAttachmentView=function(i){function o(){o.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return n(o,i),o.prototype.createContentNodes=function(){return this.image=t({tagName:\"img\",attributes:{src:\"\"},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},o.prototype.createCaptionElement=function(){var t;return t=o.__super__.createCaptionElement.apply(this,arguments),t.textContent||t.setAttribute(\"data-trix-placeholder\",e.config.lang.captionPlaceholder),t},o.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector(\"img\"):void 0),t?this.updateAttributesForImage(t):void 0},o.prototype.updateAttributesForImage=function(t){var e,n,i,o,r,s;return r=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||r,n===r?t.removeAttribute(\"data-trix-serialized-attributes\"):(i=JSON.stringify({src:r}),t.setAttribute(\"data-trix-serialized-attributes\",i)),s=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=s&&(t.width=s),null!=e&&(t.height=e),o=[\"imageElement\",this.attachment.id,t.src,t.width,t.height].join(\"/\"),t.dataset.trixStoreKey=o},o.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},o}(e.AttachmentView)}.call(this),function(){var t,n,i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=e.makeElement,t=e.findInnerElement,n=e.getTextConfig,e.PieceView=function(r){function s(){var t;s.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var a;return o(s,r),s.prototype.createNodes=function(){var e,n,i,o,r,s;if(s=this.attachment?this.createAttachmentNodes():this.createStringNodes(),e=this.createElement()){for(i=t(e),n=0,o=s.length;o>n;n++)r=s[n],i.appendChild(r);s=[e]}return s},s.prototype.createAttachmentNodes=function(){var t,n;return t=this.attachment.isPreviewable()?e.PreviewableAttachmentView:e.AttachmentView,n=this.createChildView(t,this.piece.attachment,{piece:this.piece}),n.getNodes()},s.prototype.createStringNodes=function(){var t,e,n,o,r,s,a,u,c,l;if(null!=(u=this.textConfig)?u.plaintext:void 0)return[document.createTextNode(this.string)];for(a=[],c=this.string.split(\"\\n\"),n=e=0,o=c.length;o>e;n=++e)l=c[n],n>0&&(t=i(\"br\"),a.push(t)),(r=l.length)&&(s=document.createTextNode(this.preserveSpaces(l)),a.push(s));return a},s.prototype.createElement=function(){var t,e,o,r,s,a,u,c,l;c={},a=this.attributes;for(r in a)if(l=a[r],(t=n(r))&&(t.tagName&&(s=i(t.tagName),o?(o.appendChild(s),o=s):e=o=s),t.styleProperty&&(c[t.styleProperty]=l),t.style)){u=t.style;for(r in u)l=u[r],c[r]=l}if(Object.keys(c).length){null==e&&(e=i(\"span\"));for(r in c)l=c[r],e.style[r]=l}return e},s.prototype.createContainerElement=function(){var t,e,o,r,s;r=this.attributes;for(o in r)if(s=r[o],(e=n(o))&&e.groupTagName)return t={},t[o]=s,i(e.groupTagName,t)},a=e.NON_BREAKING_SPACE,s.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\\ $/,a)),t=t.replace(/(\\S)\\ {3}(\\S)/g,\"$1 \"+a+\" $2\").replace(/\\ {2}/g,a+\" \").replace(/\\ {2}/g,\" \"+a),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\\ /,a)),t},s}(e.ObjectView)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.TextView=function(n){function i(){i.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var o;return t(i,n),i.prototype.createNodes=function(){var t,n,i,r,s,a,u,c,l,h;for(a=[],c=e.ObjectGroup.groupObjects(this.getPieces()),r=c.length-1,i=n=0,s=c.length;s>n;i=++n)u=c[i],t={},0===i&&(t.isFirst=!0),i===r&&(t.isLast=!0),o(l)&&(t.followsWhitespace=!0),h=this.findOrCreateCachedChildView(e.PieceView,u,{textConfig:this.textConfig,context:t}),a.push.apply(a,h.getNodes()),l=u;return a},i.prototype.getPieces=function(){var t,e,n,i,o;for(i=this.text.getPieces(),o=[],t=0,e=i.length;e>t;t++)n=i[t],n.hasAttribute(\"blockBreak\")||o.push(n);return o},o=function(t){return/\\s$/.test(null!=t?t.toString():void 0)},i}(e.ObjectView)}.call(this),function(){var t,n,i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=e.makeElement,n=e.getBlockConfig,t=e.config.css,e.BlockView=function(r){function s(){s.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return o(s,r),s.prototype.createNodes=function(){var t,o,r,s,a,u,c,l,h;if(t=document.createComment(\"block\"),u=[t],this.block.isEmpty()?u.push(i(\"br\")):(l=null!=(c=n(this.block.getLastAttribute()))?c.text:void 0,h=this.findOrCreateCachedChildView(e.TextView,this.block.text,{textConfig:l}),u.push.apply(u,h.getNodes()),this.shouldAddExtraNewlineElement()&&u.push(i(\"br\"))),this.attributes.length)return u;for(o=i(e.config.blockAttributes[\"default\"].tagName),r=0,s=u.length;s>r;r++)a=u[r],o.appendChild(a);return[o]},s.prototype.createContainerElement=function(e){var o,r,s,a;return o=this.attributes[e],a=n(o).tagName,r={tagName:a},\"attachmentGallery\"===o&&(s=this.block.getBlockBreakPosition(),r.className=t.attachmentGallery+\" \"+t.attachmentGallery+\"--\"+s),i(r)},s.prototype.shouldAddExtraNewlineElement=function(){return/\\n\\n$/.test(this.block.toString())},s}(e.ObjectView)}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=e.defer,n=e.makeElement,e.DocumentView=function(o){function r(){r.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new e.ElementStore,this.setDocument(this.object)}var s,a,u;return i(r,o),r.render=function(t){var e,i;return e=n(\"div\"),i=new this(t,{element:e}),i.render(),i.sync(),e},r.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},r.prototype.render=function(){var t,i,o,r,s,a,u;if(this.childViews=[],this.shadowElement=n(\"div\"),!this.document.isEmpty()){for(s=e.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),a=[],t=0,i=s.length;i>t;t++)r=s[t],u=this.findOrCreateCachedChildView(e.BlockView,r),a.push(function(){var t,e,n,i;for(n=u.getNodes(),i=[],t=0,e=n.length;e>t;t++)o=n[t],i.push(this.shadowElement.appendChild(o));return i}.call(this));return a}},r.prototype.isSynced=function(){return s(this.shadowElement,this.element)},r.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},r.prototype.didSync=function(){return this.elementStore.reset(a(this.element)),t(function(t){return function(){return t.garbageCollectCachedViews()}}(this))},r.prototype.createDocumentFragmentForSync=function(){var t,e,n,i,o,r,s,u,c,l;for(e=document.createDocumentFragment(),u=this.shadowElement.childNodes,n=0,o=u.length;o>n;n++)s=u[n],e.appendChild(s.cloneNode(!0));for(c=a(e),i=0,r=c.length;r>i;i++)t=c[i],(l=this.elementStore.remove(t))&&t.parentNode.replaceChild(l,t);return e},a=function(t){return t.querySelectorAll(\"[data-trix-store-key]\")},s=function(t,e){return u(t.innerHTML)===u(e.innerHTML)},u=function(t){return t.replace(/&nbsp;/g,\" \")},r}(e.ObjectView)}.call(this),function(){var t,n,i,o,r,s=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=e.findClosestElementFromNode,o=e.handleEvent,r=e.innerElementIsActive,n=e.defer,t=e.AttachmentView.attachmentSelector,e.CompositionController=function(u){function c(n,i){this.element=n,this.composition=i,this.didClickAttachment=s(this.didClickAttachment,this),this.didBlur=s(this.didBlur,this),this.didFocus=s(this.didFocus,this),this.documentView=new e.DocumentView(this.composition.document,{element:this.element}),o(\"focus\",{onElement:this.element,withCallback:this.didFocus}),o(\"blur\",{onElement:this.element,withCallback:this.didBlur}),o(\"click\",{onElement:this.element,matchingSelector:\"a[contenteditable=false]\",preventDefault:!0}),o(\"mousedown\",{onElement:this.element,matchingSelector:t,withCallback:this.didClickAttachment}),o(\"click\",{onElement:this.element,matchingSelector:\"a\"+t,preventDefault:!0})}return a(c,u),c.prototype.didFocus=function(){var t,e,n;return t=function(t){return function(){var e;return t.focused?void 0:(t.focused=!0,null!=(e=t.delegate)&&\"function\"==typeof e.compositionControllerDidFocus?e.compositionControllerDidFocus():void 0)}}(this),null!=(e=null!=(n=this.blurPromise)?n.then(t):void 0)?e:t()},c.prototype.didBlur=function(){return this.blurPromise=new Promise(function(t){return function(e){return n(function(){var n;return r(t.element)||(t.focused=null,null!=(n=t.delegate)&&\"function\"==typeof n.compositionControllerDidBlur&&n.compositionControllerDidBlur()),t.blurPromise=null,e()})}}(this))},c.prototype.didClickAttachment=function(t,e){var n,o,r;return n=this.findAttachmentForElement(e),o=null!=i(t.target,{matchingSelector:\"figcaption\"}),null!=(r=this.delegate)&&\"function\"==typeof r.compositionControllerDidSelectAttachment?r.compositionControllerDidSelectAttachment(n,{editCaption:o}):void 0},c.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},c.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null!=(t=this.delegate)&&\"function\"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),null!=(e=this.delegate)&&\"function\"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&\"function\"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},c.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},c.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},c.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},c.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},c.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},c.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},c.prototype.isEditingAttachment=function(){return null!=this.attachmentEditor},c.prototype.installAttachmentEditorForAttachment=function(t,n){var i,o,r;if((null!=(r=this.attachmentEditor)?r.attachment:void 0)!==t&&(o=this.documentView.findElementForObject(t)))return this.uninstallAttachmentEditor(),i=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new e.AttachmentEditorController(i,o,this.element,n),this.attachmentEditor.delegate=this},c.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},c.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},c.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&\"function\"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},c.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&\"function\"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},c.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&\"function\"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},c.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&\"function\"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},c.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},c.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},c}(e.BasicObject)}.call(this),function(){var t,n,i,o=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=e.handleEvent,i=e.triggerEvent,t=e.findClosestElementFromNode,e.ToolbarController=function(e){function s(t){this.element=t,this.didKeyDownDialogInput=o(this.didKeyDownDialogInput,this),this.didClickDialogButton=o(this.didClickDialogButton,this),this.didClickAttributeButton=o(this.didClickAttributeButton,this),this.didClickActionButton=o(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),n(\"mousedown\",{onElement:this.element,matchingSelector:a,withCallback:this.didClickActionButton}),n(\"mousedown\",{onElement:this.element,matchingSelector:c,withCallback:this.didClickAttributeButton}),n(\"click\",{onElement:this.element,matchingSelector:y,preventDefault:!0}),n(\"click\",{onElement:this.element,matchingSelector:l,withCallback:this.didClickDialogButton}),n(\"keydown\",{onElement:this.element,matchingSelector:h,withCallback:this.didKeyDownDialogInput})}var a,u,c,l,h,p,d,f,g,m,y;return r(s,e),c=\"[data-trix-attribute]\",a=\"[data-trix-action]\",y=c+\", \"+a,p=\"[data-trix-dialog]\",u=p+\"[data-trix-active]\",l=p+\" [data-trix-method]\",h=p+\" [data-trix-input]\",s.prototype.didClickActionButton=function(t,e){var n,i,o;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=d(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)?o.toolbarDidInvokeAction(n):void 0},s.prototype.didClickAttributeButton=function(t,e){var n,i,o;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=f(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)&&o.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},s.prototype.didClickDialogButton=function(e,n){var i,o;return i=t(n,{matchingSelector:p}),o=n.getAttribute(\"data-trix-method\"),this[o].call(this,i)},s.prototype.didKeyDownDialogInput=function(t,e){var n,i;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute(\"name\"),i=this.getDialog(n),this.setAttribute(i)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},s.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},s.prototype.refreshActionButtons=function(){return this.eachActionButton(function(t){return function(e,n){return e.disabled=t.actions[n]===!1}}(this))},s.prototype.eachActionButton=function(t){var e,n,i,o,r;for(o=this.element.querySelectorAll(a),r=[],n=0,i=o.length;i>n;n++)e=o[n],r.push(t(e,d(e)));return r},s.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},s.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(t){return function(e,n){return e.disabled=t.attributes[n]===!1,t.attributes[n]||t.dialogIsVisible(n)?(e.setAttribute(\"data-trix-active\",\"\"),e.classList.add(\"trix-active\")):(e.removeAttribute(\"data-trix-active\"),e.classList.remove(\"trix-active\"))}}(this))},s.prototype.eachAttributeButton=function(t){var e,n,i,o,r;for(o=this.element.querySelectorAll(c),r=[],n=0,i=o.length;i>n;n++)e=o[n],r.push(t(e,f(e)));return r},s.prototype.applyKeyboardCommand=function(t){var e,n,o,r,s,a,u;for(s=JSON.stringify(t.sort()),u=this.element.querySelectorAll(\"[data-trix-key]\"),r=0,a=u.length;a>r;r++)if(e=u[r],o=e.getAttribute(\"data-trix-key\").split(\"+\"),n=JSON.stringify(o.sort()),n===s)return i(\"mousedown\",{onElement:e}),!0;return!1},s.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.hasAttribute(\"data-trix-active\"):void 0},s.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},s.prototype.showDialog=function(t){var e,n,i,o,r,s,a,u,c,l;for(this.hideDialog(),null!=(a=this.delegate)&&a.toolbarWillShowDialog(),i=this.getDialog(t),i.setAttribute(\"data-trix-active\",\"\"),i.classList.add(\"trix-active\"),u=i.querySelectorAll(\"input[disabled]\"),o=0,s=u.length;s>o;o++)n=u[o],n.removeAttribute(\"disabled\");return(e=f(i))&&(r=m(i,t))&&(r.value=null!=(c=this.attributes[e])?c:\"\",r.select()),null!=(l=this.delegate)?l.toolbarDidShowDialog(t):void 0},s.prototype.setAttribute=function(t){var e,n,i;return e=f(t),n=m(t,e),n.willValidate&&!n.checkValidity()?(n.setAttribute(\"data-trix-validate\",\"\"),n.classList.add(\"trix-validate\"),n.focus()):(null!=(i=this.delegate)&&i.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},s.prototype.removeAttribute=function(t){var e,n;return e=f(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},s.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(u))?(t.removeAttribute(\"data-trix-active\"),t.classList.remove(\"trix-active\"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(g(t)):void 0):void 0},s.prototype.resetDialogInputs=function(){var t,e,n,i,o;for(i=this.element.querySelectorAll(h),o=[],t=0,n=i.length;n>t;t++)e=i[t],e.setAttribute(\"disabled\",\"disabled\"),e.removeAttribute(\"data-trix-validate\"),o.push(e.classList.remove(\"trix-validate\"));return o},s.prototype.getDialog=function(t){return this.element.querySelector(\"[data-trix-dialog=\"+t+\"]\")},m=function(t,e){return null==e&&(e=f(t)),t.querySelector(\"[data-trix-input][name='\"+e+\"']\")},d=function(t){return t.getAttribute(\"data-trix-action\")},f=function(t){var e;return null!=(e=t.getAttribute(\"data-trix-attribute\"))?e:t.getAttribute(\"data-trix-dialog-attribute\")},g=function(t){return t.getAttribute(\"data-trix-dialog\")},s}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ImagePreloadOperation=function(e){function n(t){this.url=t}return t(n,e),n.prototype.perform=function(t){var e;return e=new Image,e.onload=function(n){return function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}}(this),e.onerror=function(){return t(!1)},e.src=this.url},n}(e.Operation)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.Attachment=function(i){function o(n){null==n&&(n={}),this.releaseFile=t(this.releaseFile,this),o.__super__.constructor.apply(this,arguments),this.attributes=e.Hash.box(n),this.didChangeAttributes()}return n(o,i),o.previewablePattern=/^image(\\/(gif|png|jpe?g)|$)/,o.attachmentForFile=function(t){var e,n;return n=this.attributesForFile(t),e=new this(n),e.setFile(t),e},o.attributesForFile=function(t){return new e.Hash({filename:t.name,filesize:t.size,contentType:t.type})},o.fromJSON=function(t){return new this(t)},o.prototype.getAttribute=function(t){return this.attributes.get(t)},o.prototype.hasAttribute=function(t){return this.attributes.has(t)},o.prototype.getAttributes=function(){return this.attributes.toObject()},o.prototype.setAttributes=function(t){var e,n,i;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.previewDelegate)&&\"function\"==typeof n.attachmentDidChangeAttributes&&n.attachmentDidChangeAttributes(this),null!=(i=this.delegate)&&\"function\"==typeof i.attachmentDidChangeAttributes?i.attachmentDidChangeAttributes(this):void 0)\n},o.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},o.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},o.prototype.isPreviewable=function(){return this.attributes.has(\"previewable\")?this.attributes.get(\"previewable\"):this.constructor.previewablePattern.test(this.getContentType())},o.prototype.getType=function(){return this.hasContent()?\"content\":this.isPreviewable()?\"preview\":\"file\"},o.prototype.getURL=function(){return this.attributes.get(\"url\")},o.prototype.getHref=function(){return this.attributes.get(\"href\")},o.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get(\"filename\"))?t:\"\"},o.prototype.getFilesize=function(){return this.attributes.get(\"filesize\")},o.prototype.getFormattedFilesize=function(){var t;return t=this.attributes.get(\"filesize\"),\"number\"==typeof t?e.config.fileSize.formatter(t):\"\"},o.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\\.(\\w+)$/))?t[1].toLowerCase():void 0},o.prototype.getContentType=function(){return this.attributes.get(\"contentType\")},o.prototype.hasContent=function(){return this.attributes.has(\"content\")},o.prototype.getContent=function(){return this.attributes.get(\"content\")},o.prototype.getWidth=function(){return this.attributes.get(\"width\")},o.prototype.getHeight=function(){return this.attributes.get(\"height\")},o.prototype.getFile=function(){return this.file},o.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},o.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},o.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},o.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&\"function\"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},o.prototype.toJSON=function(){return this.getAttributes()},o.prototype.getCacheKey=function(){return[o.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join(\"/\")},o.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},o.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&\"function\"==typeof e.attachmentDidChangeAttributes&&e.attachmentDidChangeAttributes(this),null!=(n=this.delegate)&&\"function\"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},o.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},o.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},o.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},o.prototype.preload=function(t,n){var i;return t&&t!==this.getPreviewURL()?(this.preloadingURL=t,i=new e.ImagePreloadOperation(t),i.then(function(e){return function(i){var o,r;return r=i.width,o=i.height,e.getWidth()&&e.getHeight()||e.setAttributes({width:r,height:o}),e.preloadingURL=null,e.setPreviewURL(t),\"function\"==typeof n?n():void 0}}(this))[\"catch\"](function(t){return function(){return t.preloadingURL=null,\"function\"==typeof n?n():void 0}}(this))):void 0},o}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Piece=function(n){function i(t,n){null==n&&(n={}),i.__super__.constructor.apply(this,arguments),this.attributes=e.Hash.box(n)}return t(i,n),i.types={},i.registerType=function(t,e){return e.type=t,this.types[t]=e},i.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},i.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},i.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},i.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},i.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},i.prototype.getAttribute=function(t){return this.attributes.get(t)},i.prototype.getAttributesHash=function(){return this.attributes},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.getCommonAttributes=function(){var t,e,n;return(n=pieceList.getPieceAtIndex(0))?(t=n.attributes,e=t.getKeys(),pieceList.eachPiece(function(n){return e=t.getKeysCommonToHash(n.attributes),t=t.slice(e)}),t.toObject()):{}},i.prototype.hasAttribute=function(t){return this.attributes.has(t)},i.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},i.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},i.prototype.isBlockBreak=function(){return!1},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isSerializable=function(){return!0},i.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},i.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},i.prototype.canBeGrouped=function(){return this.hasAttribute(\"href\")},i.prototype.canBeGroupedWith=function(t){return this.getAttribute(\"href\")===t.getAttribute(\"href\")},i.prototype.getLength=function(){return this.length},i.prototype.canBeConsolidatedWith=function(){return!1},i}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Piece.registerType(\"attachment\",e.AttachmentPiece=function(n){function i(t){this.attachment=t,i.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute(\"href\"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return t(i,n),i.fromJSON=function(t){return new this(e.Attachment.fromJSON(t.attachment),t.attributes)},i.permittedAttributes=[\"caption\",\"presentation\"],i.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)?(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice(t)),this.attributes=this.attributes.remove(t)):void 0},i.prototype.removeProhibitedAttributes=function(){var t;return t=this.attributes.slice(this.constructor.permittedAttributes),t.isEqualTo(this.attributes)?void 0:this.attributes=t},i.prototype.getValue=function(){return this.attachment},i.prototype.isSerializable=function(){return!this.attachment.isPending()},i.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get(\"caption\"))?t:\"\"},i.prototype.isEqualTo=function(t){var e;return i.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},i.prototype.toString=function(){return e.OBJECT_REPLACEMENT_CHARACTER},i.prototype.toJSON=function(){var t;return t=i.__super__.toJSON.apply(this,arguments),t.attachment=this.attachment,t},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join(\"/\")},i.prototype.toConsole=function(){return JSON.stringify(this.toString())},i}(e.Piece))}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=e.normalizeNewlines,e.Piece.registerType(\"string\",e.StringPiece=function(e){function i(e){i.__super__.constructor.apply(this,arguments),this.string=t(e),this.length=this.string.length}return n(i,e),i.fromJSON=function(t){return new this(t.string,t.attributes)},i.prototype.getValue=function(){return this.string},i.prototype.toString=function(){return this.string.toString()},i.prototype.isBlockBreak=function(){return\"\\n\"===this.toString()&&this.getAttribute(\"blockBreak\")===!0},i.prototype.toJSON=function(){var t;return t=i.__super__.toJSON.apply(this,arguments),t.string=this.string,t},i.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},i.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},i.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},i.prototype.toConsole=function(){var t;return t=this.string,t.length>15&&(t=t.slice(0,14)+\"\\u2026\"),JSON.stringify(t.toString())},i}(e.Piece))}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,o=[].slice;t=e.spliceArray,e.SplittableList=function(e){function i(t){null==t&&(t=[]),i.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var r,s,a;return n(i,e),i.box=function(t){return t instanceof this?t:new this(t)},i.prototype.indexOf=function(t){return this.objects.indexOf(t)},i.prototype.splice=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],new this.constructor(t.apply(null,[this.objects].concat(o.call(e))))},i.prototype.eachObject=function(t){var e,n,i,o,r,s;for(r=this.objects,s=[],n=e=0,i=r.length;i>e;n=++e)o=r[n],s.push(t(o,n));return s},i.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},i.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(o.call(t.objects)))},i.prototype.insertSplittableListAtPosition=function(t,e){var n,i,o;return o=this.splitObjectAtPosition(e),i=o[0],n=o[1],new this.constructor(i).insertSplittableListAtIndex(t,n)},i.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},i.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},i.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},i.prototype.getObjectAtIndex=function(t){return this.objects[t]},i.prototype.getSplittableListInRange=function(t){var e,n,i,o;return i=this.splitObjectsAtRange(t),n=i[0],e=i[1],o=i[2],new this.constructor(n.slice(e,o+1))},i.prototype.selectSplittableList=function(t){var e,n;return n=function(){var n,i,o,r;for(o=this.objects,r=[],n=0,i=o.length;i>n;n++)e=o[n],t(e)&&r.push(e);return r}.call(this),new this.constructor(n)},i.prototype.removeObjectsInRange=function(t){var e,n,i,o;return i=this.splitObjectsAtRange(t),n=i[0],e=i[1],o=i[2],new this.constructor(n).splice(e,o-e+1)},i.prototype.transformObjectsInRange=function(t,e){var n,i,o,r,s,a,u;return s=this.splitObjectsAtRange(t),r=s[0],i=s[1],a=s[2],u=function(){var t,s,u;for(u=[],n=t=0,s=r.length;s>t;n=++t)o=r[n],u.push(n>=i&&a>=n?e(o):o);return u}(),new this.constructor(u)},i.prototype.splitObjectsAtRange=function(t){var e,n,i,o,s,u;return o=this.splitObjectAtPosition(a(t)),n=o[0],e=o[1],i=o[2],s=new this.constructor(n).splitObjectAtPosition(r(t)+i),n=s[0],u=s[1],[n,e,u-1]},i.prototype.getObjectAtPosition=function(t){var e,n,i;return i=this.findIndexAndOffsetAtPosition(t),e=i.index,n=i.offset,this.objects[e]},i.prototype.splitObjectAtPosition=function(t){var e,n,i,o,r,s,a,u,c,l;return s=this.findIndexAndOffsetAtPosition(t),e=s.index,r=s.offset,o=this.objects.slice(0),null!=e?0===r?(c=e,l=0):(i=this.getObjectAtIndex(e),a=i.splitAtOffset(r),n=a[0],u=a[1],o.splice(e,1,n,u),c=e+1,l=n.getLength()-r):(c=o.length,l=0),[o,c,l]},i.prototype.consolidate=function(){var t,e,n,i,o,r;for(i=[],o=this.objects[0],r=this.objects.slice(1),t=0,e=r.length;e>t;t++)n=r[t],(\"function\"==typeof o.canBeConsolidatedWith?o.canBeConsolidatedWith(n):void 0)?o=o.consolidateWith(n):(i.push(o),o=n);return null!=o&&i.push(o),new this.constructor(i)},i.prototype.consolidateFromIndexToIndex=function(t,e){var n,i,r;return i=this.objects.slice(0),r=i.slice(t,e+1),n=new this.constructor(r).consolidate().toArray(),this.splice.apply(this,[t,r.length].concat(o.call(n)))},i.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,i,o,r,s,a;for(e=0,a=this.objects,i=n=0,o=a.length;o>n;i=++n){if(s=a[i],r=e+s.getLength(),t>=e&&r>t)return{index:i,offset:t-e};e=r}return{index:null,offset:null}},i.prototype.findPositionAtIndexAndOffset=function(t,e){var n,i,o,r,s,a;for(s=0,a=this.objects,n=i=0,o=a.length;o>i;n=++i)if(r=a[n],t>n)s+=r.getLength();else if(n===t){s+=e;break}return s},i.prototype.getEndPosition=function(){var t,e;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,i,o;for(e=0,o=this.objects,n=0,i=o.length;i>n;n++)t=o[n],e+=t.getLength();return e}.call(this)},i.prototype.toString=function(){return this.objects.join(\"\")},i.prototype.toArray=function(){return this.objects.slice(0)},i.prototype.toJSON=function(){return this.toArray()},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||s(this.objects,null!=t?t.objects:void 0)},s=function(t,e){var n,i,o,r,s;if(null==e&&(e=[]),t.length!==e.length)return!1;for(s=!0,i=n=0,o=t.length;o>n;i=++n)r=t[i],s&&!r.isEqualTo(e[i])&&(s=!1);return s},i.prototype.contentsForInspection=function(){var t;return{objects:\"[\"+function(){var e,n,i,o;for(i=this.objects,o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(t.inspect());return o}.call(this).join(\", \")+\"]\"}},a=function(t){return t[0]},r=function(t){return t[1]},i}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Text=function(n){function i(t){var n;null==t&&(t=[]),i.__super__.constructor.apply(this,arguments),this.pieceList=new e.SplittableList(function(){var e,i,o;for(o=[],e=0,i=t.length;i>e;e++)n=t[e],n.isEmpty()||o.push(n);return o}())}return t(i,n),i.textForAttachmentWithAttributes=function(t,n){var i;return i=new e.AttachmentPiece(t,n),new this([i])},i.textForStringWithAttributes=function(t,n){var i;return i=new e.StringPiece(t,n),new this([i])},i.fromJSON=function(t){var n,i;return i=function(){var i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(e.Piece.fromJSON(n));return r}(),new this(i)},i.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},i.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},i.prototype.copyUsingObjectMap=function(t){var e,n;return n=function(){var n,i,o,r,s;for(o=this.getPieces(),s=[],n=0,i=o.length;i>n;n++)e=o[n],s.push(null!=(r=t.find(e))?r:e);return s}.call(this),new this.constructor(n)},i.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},i.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},i.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},i.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},i.prototype.moveTextFromRangeToPosition=function(t,e){var n,i;if(!(t[0]<=e&&e<=t[1]))return i=this.getTextAtRange(t),n=i.getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(i,e)},i.prototype.addAttributeAtRange=function(t,e,n){var i;return i={},i[t]=e,this.addAttributesAtRange(i,n)},i.prototype.addAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithAdditionalAttributes(t)}))},i.prototype.removeAttributeAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithoutAttribute(t)}))},i.prototype.setAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithAttributes(t)}))},i.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},i.prototype.getCommonAttributes=function(){var t,n;return t=function(){var t,e,i,o;for(i=this.pieceList.toArray(),o=[],t=0,e=i.length;e>t;t++)n=i[t],o.push(n.getAttributes());return o}.call(this),e.Hash.fromCommonAttributesOfObjects(t).toObject()},i.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},i.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,i,o;for(n=o=e,i=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,o])[t];)n--;for(;i>o&&this.getCommonAttributesAtRange([e,o+1])[t];)o++;return[n,o]},i.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},i.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},i.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},i.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},i.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},i.prototype.getAttachmentPieces=function(){var t,e,n,i,o;for(i=this.pieceList.toArray(),o=[],t=0,e=i.length;e>t;t++)n=i[t],null!=n.attachment&&o.push(n);return o},i.prototype.getAttachments=function(){var t,e,n,i,o;for(i=this.getAttachmentPieces(),o=[],t=0,e=i.length;e>t;t++)n=i[t],o.push(n.attachment);return o},i.prototype.getAttachmentAndPositionById=function(t){var e,n,i,o,r,s;for(o=0,r=this.pieceList.toArray(),e=0,n=r.length;n>e;e++){if(i=r[e],(null!=(s=i.attachment)?s.id:void 0)===t)return{attachment:i.attachment,position:o};o+=i.length}return{attachment:null,position:null}},i.prototype.getAttachmentById=function(t){var e,n,i;return i=this.getAttachmentAndPositionById(t),e=i.attachment,n=i.position,e},i.prototype.getRangeOfAttachment=function(t){var e,n;return n=this.getAttachmentAndPositionById(t.id),t=n.attachment,e=n.position,null!=t?[e,e+1]:void 0},i.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},i.prototype.getLength=function(){return this.pieceList.getEndPosition()},i.prototype.isEmpty=function(){return 0===this.getLength()},i.prototype.isEqualTo=function(t){var e;return i.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},i.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},i.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},i.prototype.getPieces=function(){return this.pieceList.toArray()},i.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},i.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},i.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList(function(t){return t.isSerializable()}),this.copyWithPieceList(t)},i.prototype.toString=function(){return this.pieceList.toString()},i.prototype.toJSON=function(){return this.pieceList.toJSON()},i.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,i,o;for(i=this.pieceList.toArray(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(JSON.parse(t.toConsole()));return o}.call(this))},i}(e.Object)}.call(this),function(){var t,n,i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=[].slice;t=e.arraysAreEqual,r=e.spliceArray,i=e.getBlockConfig,n=e.getBlockAttributeNames,o=e.getListAttributeNames,e.Block=function(n){function a(t,n){null==t&&(t=new e.Text),null==n&&(n=[]),a.__super__.constructor.apply(this,arguments),this.text=h(t),this.attributes=n}var l,h,p,d,f,g,m,y,v;return s(a,n),a.fromJSON=function(t){var n;return n=e.Text.fromJSON(t.text),new this(n,t.attributes)},a.prototype.isEmpty=function(){return this.text.isBlockBreak()},a.prototype.isEqualTo=function(e){return a.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=e?e.text:void 0)&&t(this.attributes,null!=e?e.attributes:void 0)},a.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},a.prototype.copyWithoutText=function(){return this.copyWithText(null)},a.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},a.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},a.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},a.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(d(t)),this.copyWithAttributes(e)},a.prototype.removeAttribute=function(t){var e,n;return n=i(t).listAttribute,e=g(g(this.attributes,t),n),this.copyWithAttributes(e)},a.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},a.prototype.getLastAttribute=function(){return f(this.attributes)},a.prototype.getAttributes=function(){return this.attributes.slice(0)},a.prototype.getAttributeLevel=function(){return this.attributes.length},a.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},a.prototype.hasAttribute=function(t){return u.call(this.attributes,t)>=0},a.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},a.prototype.getLastNestableAttribute=function(){return f(this.getNestableAttributes())},a.prototype.getNestableAttributes=function(){var t,e,n,o,r;for(o=this.attributes,r=[],e=0,n=o.length;n>e;e++)t=o[e],i(t).nestable&&r.push(t);return r},a.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},a.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},a.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=r.apply(null,[this.attributes,n+1,0].concat(c.call(d(t)))),this.copyWithAttributes(e)):this},a.prototype.getListItemAttributes=function(){var t,e,n,o,r;for(o=this.attributes,r=[],e=0,n=o.length;n>e;e++)t=o[e],i(t).listAttribute&&r.push(t);return r},a.prototype.isListItem=function(){var t;return null!=(t=i(this.getLastAttribute()))?t.listAttribute:void 0},a.prototype.isTerminalBlock=function(){var t;return null!=(t=i(this.getLastAttribute()))?t.terminal:void 0},a.prototype.breaksOnReturn=function(){var t;return null!=(t=i(this.getLastAttribute()))?t.breakOnReturn:void 0},a.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,i;return i=this.toString(),n=function(){switch(t){case\"forward\":return i.indexOf(\"\\n\",e);case\"backward\":return i.slice(0,e).lastIndexOf(\"\\n\")}}(),-1!==n?n:void 0},a.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},a.prototype.toString=function(){return this.text.toString()},a.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},a.prototype.getLength=function(){return this.text.getLength()},a.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},a.prototype.consolidateWith=function(t){var n,i;return n=e.Text.textForStringWithAttributes(\"\\n\"),i=this.getTextWithoutBlockBreak().appendText(n),this.copyWithText(i.appendText(t.text))},a.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},a.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},a.prototype.getTextWithoutBlockBreak=function(){return m(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},a.prototype.canBeGrouped=function(t){return this.attributes[t]},a.prototype.canBeGroupedWith=function(t,e){var n,r,s,a;return s=t.getAttributes(),r=s[e],n=this.attributes[e],n===r&&!(i(n).group===!1&&(a=s[e+1],u.call(o(),a)<0))},h=function(t){return t=v(t),t=l(t)},v=function(t){var n,i,o,r,s,a;return r=!1,a=t.getPieces(),i=2<=a.length?c.call(a,0,n=a.length-1):(n=0,[]),o=a[n++],null==o?t:(i=function(){var t,e,n;for(n=[],t=0,e=i.length;e>t;t++)s=i[t],s.isBlockBreak()?(r=!0,n.push(y(s))):n.push(s);return n}(),r?new e.Text(c.call(i).concat([o])):t)},p=e.Text.textForStringWithAttributes(\"\\n\",{blockBreak:!0}),l=function(t){return m(t)?t:t.appendText(p)},m=function(t){var e,n;return n=t.getLength(),0===n?!1:(e=t.getTextAtRange([n-1,n]),e.isBlockBreak())},y=function(t){return t.copyWithoutAttribute(\"blockBreak\")},d=function(t){var e;return e=i(t).listAttribute,null!=e?[e,t]:[t]},f=function(t){return t.slice(-1)[0]},g=function(t,e){var n;return n=t.lastIndexOf(e),-1===n?t:r(t,n,1)},a}(e.Object)}.call(this),function(){var t,n,i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=[].slice;n=e.tagName,i=e.walkTree,t=e.nodeIsAttachmentElement,e.HTMLSanitizer=function(r){function u(t,e){var n;n=null!=e?e:{},this.allowedAttributes=n.allowedAttributes,this.forbiddenProtocols=n.forbiddenProtocols,null==this.allowedAttributes&&(this.allowedAttributes=c),null==this.forbiddenProtocols&&(this.forbiddenProtocols=l),this.body=h(t)}var c,l,h,p;return o(u,r),c=\"style href src width height class\".split(\" \"),l=\"javascript:\".split(\" \"),u.sanitize=function(t,e){var n;return n=new this(t,e),n.sanitize(),n},u.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},u.prototype.getHTML=function(){return this.body.innerHTML},u.prototype.getBody=function(){return this.body},u.prototype.sanitizeElements=function(){var t,n,o,r,s;for(s=i(this.body),r=[];s.nextNode();)switch(o=s.currentNode,o.nodeType){case Node.ELEMENT_NODE:p(o)?r.push(o):this.sanitizeElement(o);break;case Node.COMMENT_NODE:r.push(o)}for(t=0,n=r.length;n>t;t++)o=r[t],e.removeNode(o);return this.body},u.prototype.sanitizeElement=function(t){var e,n,i,o,r;for(t.hasAttribute(\"href\")&&(o=t.protocol,s.call(this.forbiddenProtocols,o)>=0&&t.removeAttribute(\"href\")),r=a.call(t.attributes),e=0,n=r.length;n>e;e++)i=r[e].name,s.call(this.allowedAttributes,i)>=0||0===i.indexOf(\"data-trix\")||t.removeAttribute(i);return t},u.prototype.normalizeListElementNesting=function(){var t,e,i,o,r;for(r=a.call(this.body.querySelectorAll(\"ul,ol\")),t=0,e=r.length;e>t;t++)i=r[t],(o=i.previousElementSibling)&&\"li\"===n(o)&&o.appendChild(i);return this.body},p=function(e){return(null!=e?e.nodeType:void 0)!==Node.ELEMENT_NODE||t(e)?void 0:\"script\"===n(e)||\"false\"===e.getAttribute(\"data-trix-serialize\")},h=function(t){var e,n,i,o,r;for(null==t&&(t=\"\"),t=t.replace(/<\\/html[^>]*>[^]*$/i,\"</html>\"),e=document.implementation.createHTMLDocument(\"\"),e.documentElement.innerHTML=t,r=e.head.querySelectorAll(\"style\"),i=0,o=r.length;o>i;i++)n=r[i],e.body.appendChild(n);return e.body},u}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,s,a,u,c,l,h,p=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty,f=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.arraysAreEqual,s=e.makeElement,l=e.tagName,r=e.getBlockTagNames,h=e.walkTree,o=e.findClosestElementFromNode,i=e.elementContainsNode,a=e.nodeIsAttachmentElement,u=e.normalizeSpaces,n=e.breakableWhitespacePattern,c=e.squishBreakableWhitespace,e.HTMLParser=function(d){function g(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var m,y,v,b,A,x,C,S,R,k,E,w;return p(g,d),g.parse=function(t,e){var n;return n=new this(t,e),n.parse(),n},g.prototype.getDocument=function(){return e.Document.fromJSON(this.blocks)},g.prototype.parse=function(){var t,n;try{for(this.createHiddenContainer(),t=e.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=t,n=h(this.containerElement,{usingFilter:S});n.nextNode();)this.processNode(n.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},g.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute(\"id\"),this.containerElement.setAttribute(\"data-trix-internal\",\"\"),this.containerElement.style.display=\"none\",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=s({tagName:\"div\",style:{display:\"none\"}}),document.body.appendChild(this.containerElement))},g.prototype.removeHiddenContainer=function(){return e.removeNode(this.containerElement)},S=function(t){return\"style\"===l(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},g.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},g.prototype.appendBlockForTextNode=function(e){var n,i,o;return i=e.parentNode,i===this.currentBlockElement||i!==this.containerElement&&!this.isBlockElement(i)?void 0:(n=this.getBlockAttributes(i),t(n,null!=(o=this.currentBlock)?o.attributes:void 0)?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(n,i),this.currentBlockElement=i))},g.prototype.appendBlockForElement=function(e){var n,o,r,s;if(r=this.isBlockElement(e),o=i(this.currentBlockElement,e),r&&!this.isBlockElement(e.firstChild)){if(!(this.isInsignificantTextNode(e.firstChild)&&this.isBlockElement(e.firstElementChild)||(n=this.getBlockAttributes(e),o&&t(n,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(n,e),this.currentBlockElement=e}else if(this.currentBlockElement&&!o&&!r)return(s=this.findParentBlockElement(e))?this.appendBlockForElement(s):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},g.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&f.call(this.blockElements,e)>=0)return e;e=e.parentElement}return null},g.prototype.processTextNode=function(t){var e,n;return n=t.data,y(t.parentNode)||(n=c(n),E(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=x(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode))},g.prototype.processElement=function(t){var e,n,i,o,r;if(a(t))return e=v(t),Object.keys(e).length&&(o=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,o),t.innerHTML=\"\"),this.processedElements.push(t);switch(l(t)){case\"br\":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(\"\\n\",this.getTextAttributes(t)),this.processedElements.push(t);case\"img\":e={url:t.getAttribute(\"src\"),contentType:\"image\"},i=A(t);for(n in i)r=i[n],e[n]=r;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case\"tr\":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(\"\\n\");break;case\"td\":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(\" | \")}},g.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=m(t),this.blocks.push(n),n},g.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},g.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(k(t,e))},g.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(R(t,e))},g.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)\n},g.prototype.appendStringToTextAtIndex=function(t,e){var n,i;return i=this.blocks[e].text,n=i[i.length-1],\"string\"===(null!=n?n.type:void 0)?n.string+=t:i.push(k(t))},g.prototype.prependStringToTextAtIndex=function(t,e){var n,i;return i=this.blocks[e].text,n=i[0],\"string\"===(null!=n?n.type:void 0)?n.string=t+n.string:i.unshift(k(t))},k=function(t,e){var n;return null==e&&(e={}),n=\"string\",t=u(t),{string:t,attributes:e,type:n}},R=function(t,e){var n;return null==e&&(e={}),n=\"attachment\",{attachment:t,attributes:e,type:n}},m=function(t){var e;return null==t&&(t={}),e=[],{text:e,attributes:t}},g.prototype.getTextAttributes=function(t){var n,i,r,s,u,c,l,h,p,d,f,g,m;r={},d=e.config.textAttributes;for(n in d)if(u=d[n],u.tagName&&o(t,{matchingSelector:u.tagName,untilNode:this.containerElement}))r[n]=!0;else if(u.parser){if(m=u.parser(t)){for(i=!1,f=this.findBlockElementAncestors(t),c=0,p=f.length;p>c;c++)if(s=f[c],u.parser(s)===m){i=!0;break}i||(r[n]=m)}}else u.styleProperty&&(m=t.style[u.styleProperty])&&(r[n]=m);if(a(t)&&(l=t.getAttribute(\"data-trix-attributes\"))){g=JSON.parse(l);for(h in g)m=g[h],r[h]=m}return r},g.prototype.getBlockAttributes=function(t){var n,i,o,r;for(i=[];t&&t!==this.containerElement;){r=e.config.blockAttributes;for(n in r)o=r[n],o.parse!==!1&&l(t)===o.tagName&&((\"function\"==typeof o.test?o.test(t):void 0)||!o.test)&&(i.push(n),o.listAttribute&&i.push(o.listAttribute));t=t.parentNode}return i.reverse()},g.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=l(t),f.call(r(),n)>=0&&e.push(t),t=t.parentNode;return e},v=function(t){return JSON.parse(t.getAttribute(\"data-trix-attachment\"))},A=function(t){var e,n,i;return i=t.getAttribute(\"width\"),n=t.getAttribute(\"height\"),e={},i&&(e.width=parseInt(i,10)),n&&(e.height=parseInt(n,10)),e},g.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!a(t)&&!o(t,{matchingSelector:\"td\",untilNode:this.containerElement}))return e=l(t),f.call(r(),e)>=0||\"block\"===window.getComputedStyle(t).display},g.prototype.isInsignificantTextNode=function(t){var e,n,i;if((null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&w(t.data)&&(n=t.parentNode,i=t.previousSibling,e=t.nextSibling,(!C(n.previousSibling)||this.isBlockElement(n.previousSibling))&&!y(n)))return!i||this.isBlockElement(i)||!e||this.isBlockElement(e)},g.prototype.isExtraBR=function(t){return\"br\"===l(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},y=function(t){var e;return e=window.getComputedStyle(t).whiteSpace,\"pre\"===e||\"pre-wrap\"===e||\"pre-line\"===e},C=function(t){return t&&!E(t.textContent)},g.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,i,o,r,s,a;for(e=this.getMarginOfDefaultBlockElement(),s=this.blocks,a=[],i=n=0,o=s.length;o>n;i=++n)t=s[i],(r=this.getMarginOfBlockElementAtIndex(i))&&(r.top>2*e.top&&this.prependStringToTextAtIndex(\"\\n\",i),a.push(r.bottom>2*e.bottom?this.appendStringToTextAtIndex(\"\\n\",i):void 0));return a},g.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||!e.textContent||(n=l(e),f.call(r(),n)>=0||f.call(this.processedElements,e)>=0)?void 0:b(e)},g.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=s(e.config.blockAttributes[\"default\"].tagName),this.containerElement.appendChild(t),b(t)},b=function(t){var e;return e=window.getComputedStyle(t),\"block\"===e.display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},x=function(t){return t.replace(RegExp(\"^\"+n.source+\"+\"),\"\")},w=function(t){return RegExp(\"^\"+n.source+\"*$\").test(t)},E=function(t){return/\\s$/.test(t)},g}(e.BasicObject)}.call(this),function(){var t,n,i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=[].slice,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.arraysAreEqual,i=e.normalizeRange,o=e.rangeIsCollapsed,n=e.getBlockConfig,e.Document=function(s){function c(t){null==t&&(t=[]),c.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new e.Block]),this.blockList=e.SplittableList.box(t)}var l;return r(c,s),c.fromJSON=function(t){var n,i;return i=function(){var i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(e.Block.fromJSON(n));return r}(),new this(i)},c.fromHTML=function(t,n){return e.HTMLParser.parse(t,n).getDocument()},c.fromString=function(t,n){var i;return i=e.Text.textForStringWithAttributes(t,n),new this([new e.Block(i)])},c.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&(t=this.getBlockAtIndex(0),t.isEmpty()&&!t.hasAttributes())},c.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},c.prototype.copyUsingObjectsFromDocument=function(t){var n;return n=new e.ObjectMap(t.getObjects()),this.copyUsingObjectMap(n)},c.prototype.copyUsingObjectMap=function(t){var e,n,i;return n=function(){var n,o,r,s;for(r=this.getBlocks(),s=[],n=0,o=r.length;o>n;n++)e=r[n],s.push((i=t.find(e))?i:e.copyUsingObjectMap(t));return s}.call(this),new this.constructor(n)},c.prototype.copyWithBaseBlockAttributes=function(t){var e,n,i;return null==t&&(t=[]),i=function(){var i,o,r,s;for(r=this.getBlocks(),s=[],i=0,o=r.length;o>i;i++)n=r[i],e=t.concat(n.getAttributes()),s.push(n.copyWithAttributes(e));return s}.call(this),new this.constructor(i)},c.prototype.replaceBlock=function(t,e){var n;return n=this.blockList.indexOf(t),-1===n?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},c.prototype.insertDocumentAtRange=function(t,e){var n,r,s,a,u,c,l;return r=t.blockList,u=(e=i(e))[0],c=this.locationFromPosition(u),s=c.index,a=c.offset,l=this,n=this.getBlockAtPosition(u),o(e)&&n.isEmpty()&&!n.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(s)):n.getBlockBreakPosition()===a&&u++,l=l.removeTextAtRange(e),new this.constructor(l.blockList.insertSplittableListAtPosition(r,u))},c.prototype.mergeDocumentAtRange=function(e,n){var o,r,s,a,u,c,l,h,p,d,f,g;return f=(n=i(n))[0],d=this.locationFromPosition(f),r=this.getBlockAtIndex(d.index).getAttributes(),o=e.getBaseBlockAttributes(),g=r.slice(-o.length),t(o,g)?(l=r.slice(0,-o.length),c=e.copyWithBaseBlockAttributes(l)):c=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(r),s=c.getBlockCount(),a=c.getBlockAtIndex(0),t(r,a.getAttributes())?(u=a.getTextWithoutBlockBreak(),p=this.insertTextAtRange(u,n),s>1&&(c=new this.constructor(c.getBlocks().slice(1)),h=f+u.getLength(),p=p.insertDocumentAtRange(c,h))):p=this.insertDocumentAtRange(c,n),p},c.prototype.insertTextAtRange=function(t,e){var n,o,r,s,a;return a=(e=i(e))[0],s=this.locationFromPosition(a),o=s.index,r=s.offset,n=this.removeTextAtRange(e),new this.constructor(n.blockList.editObjectAtIndex(o,function(e){return e.copyWithText(e.text.insertTextAtPosition(t,r))}))},c.prototype.removeTextAtRange=function(t){var e,n,r,s,a,u,c,l,h,p,d,f,g,m,y,v,b,A,x,C,S;return p=t=i(t),l=p[0],A=p[1],o(t)?this:(d=this.locationRangeFromRange(t),u=d[0],v=d[1],a=u.index,c=u.offset,s=this.getBlockAtIndex(a),y=v.index,b=v.offset,m=this.getBlockAtIndex(y),f=A-l===1&&s.getBlockBreakPosition()===c&&m.getBlockBreakPosition()!==b&&\"\\n\"===m.text.getStringAtPosition(b),f?r=this.blockList.editObjectAtIndex(y,function(t){return t.copyWithText(t.text.removeTextAtRange([b,b+1]))}):(h=s.text.getTextAtRange([0,c]),x=m.text.getTextAtRange([b,m.getLength()]),C=h.appendText(x),g=a!==y&&0===c,S=g&&s.getAttributeLevel()>=m.getAttributeLevel(),n=S?m.copyWithText(C):s.copyWithText(C),e=y+1-a,r=this.blockList.splice(a,e,n)),new this.constructor(r))},c.prototype.moveTextFromRangeToPosition=function(t,e){var n,o,r,s,u,c,l,h,p,d;return c=t=i(t),p=c[0],r=c[1],e>=p&&r>=e?this:(o=this.getDocumentAtRange(t),h=this.removeTextAtRange(t),u=e>p,u&&(e-=o.getLength()),l=o.getBlocks(),s=l[0],n=2<=l.length?a.call(l,1):[],0===n.length?(d=s.getTextWithoutBlockBreak(),u&&(e+=1)):d=s.text,h=h.insertTextAtRange(d,e),0===n.length?h:(o=new this.constructor(n),e+=d.getLength(),h.insertDocumentAtRange(o,e)))},c.prototype.addAttributeAtRange=function(t,e,i){var o;return o=this.blockList,this.eachBlockAtRange(i,function(i,r,s){return o=o.editObjectAtIndex(s,function(){return n(t)?i.addAttribute(t,e):r[0]===r[1]?i:i.copyWithText(i.text.addAttributeAtRange(t,e,r))})}),new this.constructor(o)},c.prototype.addAttribute=function(t,e){var n;return n=this.blockList,this.eachBlock(function(i,o){return n=n.editObjectAtIndex(o,function(){return i.addAttribute(t,e)})}),new this.constructor(n)},c.prototype.removeAttributeAtRange=function(t,e){var i;return i=this.blockList,this.eachBlockAtRange(e,function(e,o,r){return n(t)?i=i.editObjectAtIndex(r,function(){return e.removeAttribute(t)}):o[0]!==o[1]?i=i.editObjectAtIndex(r,function(){return e.copyWithText(e.text.removeAttributeAtRange(t,o))}):void 0}),new this.constructor(i)},c.prototype.updateAttributesForAttachment=function(t,e){var n,i,o,r;return o=(i=this.getRangeOfAttachment(e))[0],n=this.locationFromPosition(o).index,r=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,function(n){return n.copyWithText(r.updateAttributesForAttachment(t,e))}))},c.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},c.prototype.insertBlockBreakAtRange=function(t){var n,o,r,s;return s=(t=i(t))[0],r=this.locationFromPosition(s).offset,o=this.removeTextAtRange(t),0===r&&(n=[new e.Block]),new this.constructor(o.blockList.insertSplittableListAtPosition(new e.SplittableList(n),s))},c.prototype.applyBlockAttributeAtRange=function(t,e,i){var o,r,s,a;return s=this.expandRangeToLineBreaksAndSplitBlocks(i),r=s.document,i=s.range,o=n(t),o.listAttribute?(r=r.removeLastListAttributeAtRange(i,{exceptAttributeName:t}),a=r.convertLineBreaksToBlockBreaksInRange(i),r=a.document,i=a.range):r=o.exclusive?r.removeBlockAttributesAtRange(i):o.terminal?r.removeLastTerminalAttributeAtRange(i):r.consolidateBlocksAtRange(i),r.addAttributeAtRange(t,e,i)},c.prototype.removeLastListAttributeAtRange=function(t,e){var i;return null==e&&(e={}),i=this.blockList,this.eachBlockAtRange(t,function(t,o,r){var s;if((s=t.getLastAttribute())&&n(s).listAttribute&&s!==e.exceptAttributeName)return i=i.editObjectAtIndex(r,function(){return t.removeAttribute(s)})}),new this.constructor(i)},c.prototype.removeLastTerminalAttributeAtRange=function(t){var e;return e=this.blockList,this.eachBlockAtRange(t,function(t,i,o){var r;if((r=t.getLastAttribute())&&n(r).terminal)return e=e.editObjectAtIndex(o,function(){return t.removeAttribute(r)})}),new this.constructor(e)},c.prototype.removeBlockAttributesAtRange=function(t){var e;return e=this.blockList,this.eachBlockAtRange(t,function(t,n,i){return t.hasAttributes()?e=e.editObjectAtIndex(i,function(){return t.copyWithoutAttributes()}):void 0}),new this.constructor(e)},c.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,n,o,r,s,a,u,c,l;return a=t=i(t),l=a[0],r=a[1],c=this.locationFromPosition(l),o=this.locationFromPosition(r),e=this,u=e.getBlockAtIndex(c.index),null!=(c.offset=u.findLineBreakInDirectionFromPosition(\"backward\",c.offset))&&(s=e.positionFromLocation(c),e=e.insertBlockBreakAtRange([s,s+1]),o.index+=1,o.offset-=e.getBlockAtIndex(c.index).getLength(),c.index+=1),c.offset=0,0===o.offset&&o.index>c.index?(o.index-=1,o.offset=e.getBlockAtIndex(o.index).getBlockBreakPosition()):(n=e.getBlockAtIndex(o.index),\"\\n\"===n.text.getStringAtRange([o.offset-1,o.offset])?o.offset-=1:o.offset=n.findLineBreakInDirectionFromPosition(\"forward\",o.offset),o.offset!==n.getBlockBreakPosition()&&(s=e.positionFromLocation(o),e=e.insertBlockBreakAtRange([s,s+1]))),l=e.positionFromLocation(c),r=e.positionFromLocation(o),t=i([l,r]),{document:e,range:t}},c.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,n,o;return n=(t=i(t))[0],o=this.getStringAtRange(t).slice(0,-1),e=this,o.replace(/.*?\\n/g,function(t){return n+=t.length,e=e.insertBlockBreakAtRange([n-1,n])}),{document:e,range:t}},c.prototype.consolidateBlocksAtRange=function(t){var e,n,o,r,s;return o=t=i(t),s=o[0],n=o[1],r=this.locationFromPosition(s).index,e=this.locationFromPosition(n).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(r,e))},c.prototype.getDocumentAtRange=function(t){var e;return t=i(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},c.prototype.getStringAtRange=function(t){var e,n,o;return o=t=i(t),n=o[o.length-1],n!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)},c.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},c.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},c.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},c.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},c.prototype.getPieceAtPosition=function(t){var e,n,i;return i=this.locationFromPosition(t),e=i.index,n=i.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},c.prototype.getCharacterAtPosition=function(t){var e,n,i;return i=this.locationFromPosition(t),e=i.index,n=i.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},c.prototype.getLength=function(){return this.blockList.getEndPosition()},c.prototype.getBlocks=function(){return this.blockList.toArray()},c.prototype.getBlockCount=function(){return this.blockList.length},c.prototype.getEditCount=function(){return this.editCount},c.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},c.prototype.eachBlockAtRange=function(t,e){var n,o,r,s,a,u,c,l,h,p,d,f;if(u=t=i(t),d=u[0],r=u[1],p=this.locationFromPosition(d),o=this.locationFromPosition(r),p.index===o.index)return n=this.getBlockAtIndex(p.index),f=[p.offset,o.offset],e(n,f,p.index);for(h=[],a=s=c=p.index,l=o.index;l>=c?l>=s:s>=l;a=l>=c?++s:--s)(n=this.getBlockAtIndex(a))?(f=function(){switch(a){case p.index:return[p.offset,n.text.getLength()];case o.index:return[0,o.offset];default:return[0,n.text.getLength()]}}(),h.push(e(n,f,a))):h.push(void 0);return h},c.prototype.getCommonAttributesAtRange=function(t){var n,r,s;return r=(t=i(t))[0],o(t)?this.getCommonAttributesAtPosition(r):(s=[],n=[],this.eachBlockAtRange(t,function(t,e){return e[0]!==e[1]?(s.push(t.text.getCommonAttributesAtRange(e)),n.push(l(t))):void 0}),e.Hash.fromCommonAttributesOfObjects(s).merge(e.Hash.fromCommonAttributesOfObjects(n)).toObject())},c.prototype.getCommonAttributesAtPosition=function(t){var n,i,o,r,s,a,c,h,p,d;if(p=this.locationFromPosition(t),s=p.index,h=p.offset,o=this.getBlockAtIndex(s),!o)return{};r=l(o),n=o.text.getAttributesAtPosition(h),i=o.text.getAttributesAtPosition(h-1),a=function(){var t,n;t=e.config.textAttributes,n=[];for(c in t)d=t[c],d.inheritable&&n.push(c);return n}();for(c in i)d=i[c],(d===n[c]||u.call(a,c)>=0)&&(r[c]=d);return r},c.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var n,o,r,s,a,u,c,l,h;return a=this.locationFromPosition(e),r=a.index,s=a.offset,h=this.getTextAtIndex(r),u=h.getExpandedRangeForAttributeAtOffset(t,s),l=u[0],o=u[1],c=this.positionFromLocation({index:r,offset:l}),n=this.positionFromLocation({index:r,offset:o}),i([c,n])},c.prototype.getBaseBlockAttributes=function(){var t,e,n,i,o,r,s;for(t=this.getBlockAtIndex(0).getAttributes(),n=i=1,s=this.getBlockCount();s>=1?s>i:i>s;n=s>=1?++i:--i)e=this.getBlockAtIndex(n).getAttributes(),r=Math.min(t.length,e.length),t=function(){var n,i,s;for(s=[],o=n=0,i=r;(i>=0?i>n:n>i)&&e[o]===t[o];o=i>=0?++n:--n)s.push(e[o]);return s}();return t},l=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},c.prototype.getAttachmentById=function(t){var e,n,i,o;for(o=this.getAttachments(),n=0,i=o.length;i>n;n++)if(e=o[n],e.id===t)return e},c.prototype.getAttachmentPieces=function(){var t;return t=[],this.blockList.eachObject(function(e){var n;return n=e.text,t=t.concat(n.getAttachmentPieces())}),t},c.prototype.getAttachments=function(){var t,e,n,i,o;for(i=this.getAttachmentPieces(),o=[],t=0,e=i.length;e>t;t++)n=i[t],o.push(n.attachment);return o},c.prototype.getRangeOfAttachment=function(t){var e,n,o,r,s,a,u;for(r=0,s=this.blockList.toArray(),n=e=0,o=s.length;o>e;n=++e){if(a=s[n].text,u=a.getRangeOfAttachment(t))return i([r+u[0],r+u[1]]);r+=a.getLength()}},c.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},c.prototype.getAttachmentPieceForAttachment=function(t){var e,n,i,o;for(o=this.getAttachmentPieces(),e=0,n=o.length;n>e;e++)if(i=o[e],i.attachment===t)return i},c.prototype.findRangesForBlockAttribute=function(t){var e,n,i,o,r,s,a;for(r=0,s=[],a=this.getBlocks(),n=0,i=a.length;i>n;n++)e=a[n],o=e.getLength(),e.hasAttribute(t)&&s.push([r,r+o]),r+=o;return s},c.prototype.findRangesForTextAttribute=function(t,e){var n,i,o,r,s,a,u,c,l,h;for(h=(null!=e?e:{}).withValue,a=0,u=[],c=[],r=function(e){return null!=h?e.getAttribute(t)===h:e.hasAttribute(t)},l=this.getPieces(),n=0,i=l.length;i>n;n++)s=l[n],o=s.getLength(),r(s)&&(u[1]===a?u[1]=a+o:c.push(u=[a,a+o])),a+=o;return c},c.prototype.locationFromPosition=function(t){var e,n;return n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t)),null!=n.index?n:(e=this.getBlocks(),{index:e.length-1,offset:e[e.length-1].getLength()})},c.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},c.prototype.locationRangeFromPosition=function(t){return i(this.locationFromPosition(t))},c.prototype.locationRangeFromRange=function(t){var e,n,o,r;if(t=i(t))return r=t[0],n=t[1],o=this.locationFromPosition(r),e=this.locationFromPosition(n),i([o,e])},c.prototype.rangeFromLocationRange=function(t){var e,n;return t=i(t),e=this.positionFromLocation(t[0]),o(t)||(n=this.positionFromLocation(t[1])),i([e,n])},c.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},c.prototype.getTexts=function(){var t,e,n,i,o;for(i=this.getBlocks(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(t.text);return o},c.prototype.getPieces=function(){var t,e,n,i,o;for(n=[],i=this.getTexts(),t=0,e=i.length;e>t;t++)o=i[t],n.push.apply(n,o.getPieces());return n},c.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},c.prototype.toSerializableDocument=function(){var t;return t=[],this.blockList.eachObject(function(e){return t.push(e.copyWithText(e.text.toSerializableText()))}),new this.constructor(t)},c.prototype.toString=function(){return this.blockList.toString()},c.prototype.toJSON=function(){return this.blockList.toJSON()},c.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,i,o;for(i=this.blockList.toArray(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(JSON.parse(t.text.toConsole()));return o}.call(this))},c}(e.Object)}.call(this),function(){e.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&\"\\n\"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&\"\\n\"===this.nextCharacter||\"\\n\"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var t,n,i,o,r,s,a,u,c,l,h=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;s=e.normalizeRange,c=e.rangesAreEqual,u=e.rangeIsCollapsed,a=e.objectsAreEqual,t=e.arrayStartsWith,l=e.summarizeArrayChange,i=e.getAllAttributeNames,o=e.getBlockConfig,r=e.getTextConfig,n=e.extend,e.Composition=function(p){function d(){this.document=new e.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var f;return h(d,p),d.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&\"function\"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},d.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},d.prototype.loadSnapshot=function(t){var n,i,o,r;return n=t.document,r=t.selectedRange,null!=(i=this.delegate)&&\"function\"==typeof i.compositionWillLoadSnapshot&&i.compositionWillLoadSnapshot(),this.setDocument(null!=n?n:new e.Document),this.setSelection(null!=r?r:[0,0]),null!=(o=this.delegate)&&\"function\"==typeof o.compositionDidLoadSnapshot?o.compositionDidLoadSnapshot():void 0},d.prototype.insertText=function(t,e){var n,i,o,r;return r=(null!=e?e:{updatePosition:!0}).updatePosition,i=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,i)),o=i[0],n=o+t.getLength(),r&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([o,n])},d.prototype.insertBlock=function(t){var n;return null==t&&(t=new e.Block),n=new e.Document([t]),this.insertDocument(n)},d.prototype.insertDocument=function(t){var n,i,o;return null==t&&(t=new e.Document),i=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,i)),o=i[0],n=o+t.getLength(),this.setSelection(n),this.notifyDelegateOfInsertionAtRange([o,n])},d.prototype.insertString=function(t,n){var i,o;return i=this.getCurrentTextAttributes(),o=e.Text.textForStringWithAttributes(t,i),this.insertText(o,n)},d.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),n=e[0],t=n+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},d.prototype.insertLineBreak=function(){var t,n;return n=new e.LineBreakInsertion(this),n.shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(n.startPosition)):n.shouldPrependListItem()?(t=new e.Document([n.block.copyWithoutText()]),this.insertDocument(t)):n.shouldInsertBlockBreak()?this.insertBlockBreak():n.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():n.shouldBreakFormattedBlock()?this.breakFormattedBlock(n):this.insertString(\"\\n\")},d.prototype.insertHTML=function(t){var n,i,o,r;return n=e.Document.fromHTML(t),o=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(n,o)),r=o[0],i=r+n.getLength()-1,this.setSelection(i),this.notifyDelegateOfInsertionAtRange([r,i])},d.prototype.replaceHTML=function(t){var n,i,o;return n=e.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),o=this.document.rangeFromLocationRange(i),this.setDocument(n),this.setSelection(o)},d.prototype.insertFile=function(t){return this.insertFiles([t])},d.prototype.insertFiles=function(t){var n,i,o,r,s,a;for(i=[],r=0,s=t.length;s>r;r++)o=t[r],(null!=(a=this.delegate)?a.compositionShouldAcceptFile(o):void 0)&&(n=e.Attachment.attachmentForFile(o),i.push(n));return this.insertAttachments(i)},d.prototype.insertAttachment=function(t){return this.insertAttachments([t])},d.prototype.insertAttachments=function(t){var n,i,o,r,s,a,u,c,l;for(c=new e.Text,r=0,s=t.length;s>r;r++)n=t[r],l=n.getType(),a=null!=(u=e.config.attachments[l])?u.presentation:void 0,o=this.getCurrentTextAttributes(),a&&(o.presentation=a),i=e.Text.textForAttachmentWithAttributes(n,o),c=c.appendText(i);return this.insertText(c)},d.prototype.shouldManageDeletingInDirection=function(t){var e;if(e=this.getLocationRange(),u(e)){if(\"backward\"===t&&0===e[0].offset)return!0;if(this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1},d.prototype.deleteInDirection=function(t,e){var n,i,o,r,s,a,c,l;return r=(null!=e?e:{}).length,s=this.getLocationRange(),a=this.getSelectedRange(),c=u(a),c?o=\"backward\"===t&&0===s[0].offset:l=s[0].index!==s[1].index,o&&this.canDecreaseBlockAttributeLevel()&&(i=this.getBlock(),i.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),i.isEmpty())?!1:(c&&(a=this.getExpandedRangeInDirection(t,{length:r}),\"backward\"===t&&(n=this.getAttachmentAtRange(a))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),o||l?!1:void 0))},d.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},d.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},d.prototype.removeLastBlockAttribute=function(){var t,e,n,i;return n=this.getSelectedRange(),i=n[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(i)},f=\" \",d.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(f)},d.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+f.length]),this.getSelectedRange()):void 0},d.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},d.prototype.hasCurrentAttribute=function(t){var e;return e=this.currentAttributes[t],null!=e&&e!==!1},d.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},d.prototype.canSetCurrentAttribute=function(t){return o(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},d.prototype.canSetCurrentTextAttribute=function(){var t,e,n,i,o;if(e=this.getSelectedDocument()){for(o=e.getAttachments(),n=0,i=o.length;i>n;n++)if(t=o[n],!t.hasContent())return!1;return!0}},d.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},d.prototype.setCurrentAttribute=function(t,e){return o(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},d.prototype.setTextAttribute=function(t,n){var i,o,r,s;if(o=this.getSelectedRange())return r=o[0],i=o[1],r!==i?this.setDocument(this.document.addAttributeAtRange(t,n,o)):\"href\"===t?(s=e.Text.textForStringWithAttributes(n,{href:n}),this.insertText(s)):void 0},d.prototype.setBlockAttribute=function(t,e){var n,i;if(i=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(n=this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)):void 0},d.prototype.removeCurrentAttribute=function(t){return o(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},d.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},d.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},d.prototype.canDecreaseNestingLevel=function(){var t;return(null!=(t=this.getBlock())?t.getNestingLevel():void 0)>0},d.prototype.canIncreaseNestingLevel=function(){var e,n,i;if(e=this.getBlock())return(null!=(i=o(e.getLastNestableAttribute()))?i.listAttribute:0)?(n=this.getPreviousBlock())?t(n.getListItemAttributes(),e.getListItemAttributes()):void 0:e.getNestingLevel()>0},d.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},d.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},d.prototype.canDecreaseBlockAttributeLevel=function(){var t;return(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)>0},d.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},d.prototype.decreaseListLevel=function(){var t,e,n,i,o,r;for(r=this.getSelectedRange()[0],o=this.document.locationFromPosition(r).index,n=o,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return r=this.document.positionFromLocation({index:o,offset:0}),i=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([r,i]))},d.prototype.updateCurrentAttributes=function(){var t,e,n,o,r,s;if(s=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(s),r=i(),n=0,o=r.length;o>n;n++)t=r[n],e[t]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!a(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},d.prototype.getCurrentAttributes=function(){return n.call({},this.currentAttributes)},d.prototype.getCurrentTextAttributes=function(){var t,e,n,i;t={},n=this.currentAttributes;for(e in n)i=n[e],i!==!1&&r(e)&&(t[e]=i);return t},d.prototype.freezeSelection=function(){return this.setCurrentAttribute(\"frozen\",!0)},d.prototype.thawSelection=function(){return this.removeCurrentAttribute(\"frozen\")},d.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute(\"frozen\")},d.proxyMethod(\"getSelectionManager().getPointRange\"),d.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\"),d.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\"),d.proxyMethod(\"getSelectionManager().locationIsCursorTarget\"),d.proxyMethod(\"getSelectionManager().selectionIsExpanded\"),d.proxyMethod(\"delegate?.getSelectionManager\"),d.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},d.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},d.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},d.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},d.prototype.getLocationRange=function(t){var e,n;return null!=(e=null!=(n=this.targetLocationRange)?n:this.getSelectionManager().getLocationRange(t))?e:s({index:0,offset:0})},d.prototype.withTargetLocationRange=function(t,e){var n;this.targetLocationRange=t;try{n=e()}finally{this.targetLocationRange=null}return n},d.prototype.withTargetRange=function(t,e){var n;return n=this.document.locationRangeFromRange(t),this.withTargetLocationRange(n,e)},d.prototype.withTargetDOMRange=function(t,e){var n;return n=this.createLocationRangeFromDOMRange(t,{strict:!1}),this.withTargetLocationRange(n,e)},d.prototype.getExpandedRangeInDirection=function(t,e){var n,i,o,r;return i=(null!=e?e:{}).length,o=this.getSelectedRange(),r=o[0],n=o[1],\"backward\"===t?i?r-=i:r=this.translateUTF16PositionFromOffset(r,-1):i?n+=i:n=this.translateUTF16PositionFromOffset(n,1),s([r,n])},d.prototype.shouldManageMovingCursorInDirection=function(t){var e;return this.editingAttachment?!0:(e=this.getExpandedRangeInDirection(t),null!=this.getAttachmentAtRange(e))},d.prototype.moveCursorInDirection=function(t){var e,n,i,o;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(o=this.getSelectedRange(),i=this.getExpandedRangeInDirection(t),n=!c(o,i)),this.setSelectedRange(\"backward\"===t?i[0]:i[1]),n&&(e=this.getAttachmentAtRange(i))?this.editAttachment(e):void 0\n},d.prototype.expandSelectionInDirection=function(t,e){var n,i;return n=(null!=e?e:{}).length,i=this.getExpandedRangeInDirection(t,{length:n}),this.setSelectedRange(i)},d.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute(\"href\")?this.expandSelectionAroundCommonAttribute(\"href\"):void 0},d.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},d.prototype.selectionContainsAttachments=function(){var t;return(null!=(t=this.getSelectedAttachments())?t.length:void 0)>0},d.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},d.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},d.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},d.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},d.prototype.getSelectedAttachments=function(){var t;return null!=(t=this.getSelectedDocument())?t.getAttachments():void 0},d.prototype.getAttachments=function(){return this.attachments.slice(0)},d.prototype.refreshAttachments=function(){var t,e,n,i,o,r,s,a,u,c,h,p;for(n=this.document.getAttachments(),a=l(this.attachments,n),t=a.added,h=a.removed,this.attachments=n,i=0,r=h.length;r>i;i++)e=h[i],e.delegate=null,null!=(u=this.delegate)&&\"function\"==typeof u.compositionDidRemoveAttachment&&u.compositionDidRemoveAttachment(e);for(p=[],o=0,s=t.length;s>o;o++)e=t[o],e.delegate=this,p.push(null!=(c=this.delegate)&&\"function\"==typeof c.compositionDidAddAttachment?c.compositionDidAddAttachment(e):void 0);return p},d.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&\"function\"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},d.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&\"function\"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},d.prototype.editAttachment=function(t,e){var n;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(n=this.delegate)&&\"function\"==typeof n.compositionDidStartEditingAttachment?n.compositionDidStartEditingAttachment(this.editingAttachment,e):void 0},d.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&\"function\"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},d.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},d.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},d.prototype.breakFormattedBlock=function(t){var n,i,o,r,s;return i=t.document,n=t.block,r=t.startPosition,s=[r-1,r],n.getBlockBreakPosition()===t.startLocation.offset?(n.breaksOnReturn()&&\"\\n\"===t.nextCharacter?r+=1:i=i.removeTextAtRange(s),s=[r,r]):\"\\n\"===t.nextCharacter?\"\\n\"===t.previousCharacter?s=[r-1,r+1]:(s=[r,r+1],r+=1):t.startLocation.offset-1!==0&&(r+=1),o=new e.Document([n.removeLastAttribute().copyWithoutText()]),this.setDocument(i.insertDocumentAtRange(o,s)),this.setSelection(r)},d.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&(t=e[0].index,t>0)?this.document.getBlockAtIndex(t-1):void 0},d.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},d.prototype.getAttachmentAtRange=function(t){var n;return n=this.document.getDocumentAtRange(t),n.toString()===e.OBJECT_REPLACEMENT_CHARACTER+\"\\n\"?n.getAttachments()[0]:void 0},d.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&\"function\"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},d.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&\"function\"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},d.prototype.translateUTF16PositionFromOffset=function(t,e){var n,i;return i=this.document.toUTF16String(),n=i.offsetFromUCS2Offset(t),i.offsetToUCS2Offset(n+e)},d}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.UndoManager=function(e){function n(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var i;return t(n,e),n.prototype.recordUndoEntry=function(t,e){var n,o,r,s,a;return s=null!=e?e:{},o=s.context,n=s.consolidatable,r=this.undoEntries.slice(-1)[0],n&&i(r,t,o)?void 0:(a=this.createEntry({description:t,context:o}),this.undoEntries.push(a),this.redoEntries=[])},n.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(t){var e,n,i;return i=null!=t?t:{},n=i.description,e=i.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},i=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},n}(e.BasicObject)}.call(this),function(){var t;e.attachmentGalleryFilter=function(e){var n;return n=new t(e),n.perform(),n.getSnapshot()},t=function(){function t(t){this.document=t.document,this.selectedRange=t.selectedRange}var e,n,i;return e=\"attachmentGallery\",n=\"presentation\",i=\"gallery\",t.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},t.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},t.prototype.removeBlockAttribute=function(){var t,n,i,o,r;for(o=this.findRangesOfBlocks(),r=[],t=0,n=o.length;n>t;t++)i=o[t],r.push(this.document=this.document.removeAttributeAtRange(e,i));return r},t.prototype.applyBlockAttribute=function(){var t,n,i,o,r,s;for(i=0,r=this.findRangesOfPieces(),s=[],t=0,n=r.length;n>t;t++)o=r[t],o[1]-o[0]>1&&(o[0]+=i,o[1]+=i,\"\\n\"!==this.document.getCharacterAtPosition(o[1])&&(this.document=this.document.insertBlockBreakAtRange(o[1]),o[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),o[1]++,i++),0!==o[0]&&\"\\n\"!==this.document.getCharacterAtPosition(o[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(o[0]),o[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),o[0]++,i++),s.push(this.document=this.document.applyBlockAttributeAtRange(e,!0,o)));return s},t.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(e)},t.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute(n,{withValue:i})},t.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Editor=function(){function n(n,o,r){this.composition=n,this.selectionManager=o,this.element=r,this.insertFiles=t(this.insertFiles,this),this.undoManager=new e.UndoManager(this.composition),this.filters=i.slice(0)}var i;return i=[e.attachmentGalleryFilter],n.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},n.prototype.loadHTML=function(t){return null==t&&(t=\"\"),this.loadDocument(e.Document.fromHTML(t,{referenceElement:this.element}))},n.prototype.loadJSON=function(t){var n,i;return n=t.document,i=t.selectedRange,n=e.Document.fromJSON(n),this.loadSnapshot({document:n,selectedRange:i})},n.prototype.loadSnapshot=function(t){return this.undoManager=new e.UndoManager(this.composition),this.composition.loadSnapshot(t)},n.prototype.getDocument=function(){return this.composition.document},n.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},n.prototype.getSnapshot=function(){return this.composition.getSnapshot()},n.prototype.toJSON=function(){return this.getSnapshot()},n.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},n.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},n.prototype.insertAttachments=function(t){return this.composition.insertAttachments(t)},n.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},n.prototype.insertFile=function(t){return this.composition.insertFile(t)},n.prototype.insertFiles=function(t){return this.composition.insertFiles(t)},n.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},n.prototype.insertString=function(t){return this.composition.insertString(t)},n.prototype.insertText=function(t){return this.composition.insertText(t)},n.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},n.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},n.prototype.getPosition=function(){return this.composition.getPosition()},n.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},n.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},n.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},n.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},n.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},n.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},n.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},n.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},n.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},n.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},n.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},n.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},n.prototype.canRedo=function(){return this.undoManager.canRedo()},n.prototype.canUndo=function(){return this.undoManager.canUndo()},n.prototype.recordUndoEntry=function(t,e){var n,i,o;return o=null!=e?e:{},i=o.context,n=o.consolidatable,this.undoManager.recordUndoEntry(t,{context:i,consolidatable:n})},n.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},n.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},n}()}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ManagedAttachment=function(e){function n(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return t(n,e),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod(\"attachment.getAttribute\"),n.proxyMethod(\"attachment.hasAttribute\"),n.proxyMethod(\"attachment.setAttribute\"),n.proxyMethod(\"attachment.getAttributes\"),n.proxyMethod(\"attachment.setAttributes\"),n.proxyMethod(\"attachment.isPending\"),n.proxyMethod(\"attachment.isPreviewable\"),n.proxyMethod(\"attachment.getURL\"),n.proxyMethod(\"attachment.getHref\"),n.proxyMethod(\"attachment.getFilename\"),n.proxyMethod(\"attachment.getFilesize\"),n.proxyMethod(\"attachment.getFormattedFilesize\"),n.proxyMethod(\"attachment.getExtension\"),n.proxyMethod(\"attachment.getContentType\"),n.proxyMethod(\"attachment.getFile\"),n.proxyMethod(\"attachment.setFile\"),n.proxyMethod(\"attachment.releaseFile\"),n.proxyMethod(\"attachment.getUploadProgress\"),n.proxyMethod(\"attachment.setUploadProgress\"),n}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.AttachmentManager=function(n){function i(t){var e,n,i;for(null==t&&(t=[]),this.managedAttachments={},n=0,i=t.length;i>n;n++)e=t[n],this.manageAttachment(e)}return t(i,n),i.prototype.getAttachments=function(){var t,e,n,i;n=this.managedAttachments,i=[];for(e in n)t=n[e],i.push(t);return i},i.prototype.manageAttachment=function(t){var n,i;return null!=(n=this.managedAttachments)[i=t.id]?n[i]:n[i]=new e.ManagedAttachment(this,t)},i.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},i.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&\"function\"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},i.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},i}(e.BasicObject)}.call(this),function(){var t,n,i,o,r,s,a,u,c,l,h;t=e.elementContainsNode,n=e.findChildIndexOfNode,r=e.nodeIsBlockStart,s=e.nodeIsBlockStartComment,o=e.nodeIsBlockContainer,a=e.nodeIsCursorTarget,u=e.nodeIsEmptyTextNode,c=e.nodeIsTextNode,i=e.nodeIsAttachmentElement,l=e.tagName,h=e.walkTree,e.LocationMapper=function(){function e(t){this.element=t}var p,d,f,g;return e.prototype.findLocationFromContainerAndOffset=function(e,i,o){var s,u,l,p,g,m,y;for(m=(null!=o?o:{strict:!0}).strict,u=0,l=!1,p={index:0,offset:0},(s=this.findAttachmentElementParentForNode(e))&&(e=s.parentNode,i=n(s)),y=h(this.element,{usingFilter:f});y.nextNode();){if(g=y.currentNode,g===e&&c(e)){a(g)||(p.offset+=i);break}if(g.parentNode===e){if(u++===i)break}else if(!t(e,g)&&u>0)break;r(g,{strict:m})?(l&&p.index++,p.offset=0,l=!0):p.offset+=d(g)}return p},e.prototype.findContainerAndOffsetFromLocation=function(t){var e,i,s,u,l;if(0===t.index&&0===t.offset){for(e=this.element,u=0;e.firstChild;)if(e=e.firstChild,o(e)){u=1;break}return[e,u]}if(l=this.findNodeAndOffsetFromLocation(t),i=l[0],s=l[1],i){if(c(i))0===d(i)?(e=i.parentNode.parentNode,u=n(i.parentNode),a(i,{name:\"right\"})&&u++):(e=i,u=t.offset-s);else{if(e=i.parentNode,!r(i.previousSibling)&&!o(e))for(;i===e.lastChild&&(i=e,e=e.parentNode,!o(e)););u=n(i),0!==t.offset&&u++}return[e,u]}},e.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,i,o,r,s,u,l;for(u=0,l=this.getSignificantNodesForIndex(t.index),n=0,i=l.length;i>n;n++){if(e=l[n],o=d(e),t.offset<=u+o)if(c(e)){if(r=e,s=u,t.offset===s&&a(r))break}else r||(r=e,s=u);if(u+=o,u>t.offset)break}return[r,s]},e.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(i(t))return t;t=t.parentNode}},e.prototype.getSignificantNodesForIndex=function(t){var e,n,i,o,r;for(i=[],r=h(this.element,{usingFilter:p}),o=!1;r.nextNode();)if(n=r.currentNode,s(n)){if(\"undefined\"!=typeof e&&null!==e?e++:e=0,e===t)o=!0;else if(o)break}else o&&i.push(n);return i},d=function(t){var e;return t.nodeType===Node.TEXT_NODE?a(t)?0:(e=t.textContent,e.length):\"br\"===l(t)||i(t)?1:0},p=function(t){return g(t)===NodeFilter.FILTER_ACCEPT?f(t):NodeFilter.FILTER_REJECT},g=function(t){return u(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},f=function(t){return i(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},e}()}.call(this),function(){var t,n,i=[].slice;t=e.getDOMRange,n=e.setDOMRange,e.PointMapper=function(){function e(){}return e.prototype.createDOMRangeFromPoint=function(e){var i,o,r,s,a,u,c,l;if(c=e.x,l=e.y,document.caretPositionFromPoint)return a=document.caretPositionFromPoint(c,l),r=a.offsetNode,o=a.offset,i=document.createRange(),i.setStart(r,o),i;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(c,l);if(document.body.createTextRange){s=t();try{u=document.body.createTextRange(),u.moveToPoint(c,l),u.select()}catch(h){}return i=t(),n(s),i}},e.prototype.getClientRectsForDOMRange=function(t){var e,n,o;return n=i.call(t.getClientRects()),o=n[0],e=n[n.length-1],[o,e]},e}()}.call(this),function(){var t,n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,r=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.getDOMRange,e.SelectionChangeObserver=function(e){function o(){this.run=n(this.run,this),this.update=n(this.update,this),this.selectionManagers=[]}var s;return i(o,e),o.prototype.start=function(){return this.started?void 0:(this.started=!0,\"onselectionchange\"in document?document.addEventListener(\"selectionchange\",this.update,!0):this.run())},o.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener(\"selectionchange\",this.update,!0)):void 0},o.prototype.registerSelectionManager=function(t){return r.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},o.prototype.unregisterSelectionManager=function(t){var e;return this.selectionManagers=function(){var n,i,o,r;for(o=this.selectionManagers,r=[],n=0,i=o.length;i>n;n++)e=o[n],e!==t&&r.push(e);return r}.call(this),0===this.selectionManagers.length?this.stop():void 0},o.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,i,o;for(n=this.selectionManagers,i=[],t=0,e=n.length;e>t;t++)o=n[t],i.push(o.selectionDidChange());return i},o.prototype.update=function(){var e;return e=t(),s(e,this.domRange)?void 0:(this.domRange=e,this.notifySelectionManagersOfSelectionChange())},o.prototype.reset=function(){return this.domRange=null,this.update()},o.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},s=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},o}(e.BasicObject),null==e.selectionChangeObserver&&(e.selectionChangeObserver=new e.SelectionChangeObserver)}.call(this),function(){var t,n,i,o,r,s,a,u,c,l,h=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;i=e.getDOMSelection,n=e.getDOMRange,l=e.setDOMRange,t=e.elementContainsNode,s=e.nodeIsCursorTarget,r=e.innerElementIsActive,o=e.handleEvent,a=e.normalizeRange,u=e.rangeIsCollapsed,c=e.rangesAreEqual,e.SelectionManager=function(d){function f(t){this.element=t,this.selectionDidChange=h(this.selectionDidChange,this),this.didMouseDown=h(this.didMouseDown,this),this.locationMapper=new e.LocationMapper(this.element),this.pointMapper=new e.PointMapper,this.lockCount=0,o(\"mousedown\",{onElement:this.element,withCallback:this.didMouseDown})}return p(f,d),f.prototype.getLocationRange=function(t){var e,i;return null==t&&(t={}),e=t.strict===!1?this.createLocationRangeFromDOMRange(n(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(i=this.lockedLocationRange)?i:this.currentLocationRange},f.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=a(t),(e=this.createDOMRangeFromLocationRange(t))?(l(e),this.updateCurrentLocationRange(t)):void 0},f.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=a(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},f.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},f.prototype.locationIsCursorTarget=function(t){var e,n,i;return i=this.findNodeAndOffsetFromLocation(t),e=i[0],n=i[1],s(e)},f.prototype.lock=function(){return 0===this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},f.prototype.unlock=function(){var t;return 0===--this.lockCount&&(t=this.lockedLocationRange,this.lockedLocationRange=null,null!=t)?this.setLocationRange(t):void 0},f.prototype.clearSelection=function(){var t;return null!=(t=i())?t.removeAllRanges():void 0},f.prototype.selectionIsCollapsed=function(){var t;return(null!=(t=n())?t.collapsed:void 0)===!0},f.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},f.prototype.createLocationRangeFromDOMRange=function(t,e){var n,i;if(null!=t&&this.domRangeWithinElement(t)&&(i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),a([i,n])},f.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\"),f.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\"),f.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\"),f.proxyMethod(\"pointMapper.createDOMRangeFromPoint\"),f.proxyMethod(\"pointMapper.getClientRectsForDOMRange\"),f.prototype.didMouseDown=function(){return this.pauseTemporarily()},f.prototype.pauseTemporarily=function(){var e,n,i,r;return this.paused=!0,n=function(e){return function(){var n,o,s;for(e.paused=!1,clearTimeout(r),o=0,s=i.length;s>o;o++)n=i[o],n.destroy();return t(document,e.element)?e.selectionDidChange():void 0}}(this),r=setTimeout(n,200),i=function(){var t,i,r,s;for(r=[\"mousemove\",\"keydown\"],s=[],t=0,i=r.length;i>t;t++)e=r[t],s.push(o(e,{onElement:document,withCallback:n}));return s}()},f.prototype.selectionDidChange=function(){return this.paused||r(this.element)?void 0:this.updateCurrentLocationRange()},f.prototype.updateCurrentLocationRange=function(t){var e;return(null!=t?t:t=this.createLocationRangeFromDOMRange(n()))&&!c(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(e=this.delegate)&&\"function\"==typeof e.locationRangeDidChange?e.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},f.prototype.createDOMRangeFromLocationRange=function(t){var e,n,i,o;return i=this.findContainerAndOffsetFromLocation(t[0]),n=u(t)?i:null!=(o=this.findContainerAndOffsetFromLocation(t[1]))?o:i,null!=i&&null!=n?(e=document.createRange(),e.setStart.apply(e,i),e.setEnd.apply(e,n),e):void 0},f.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},f.prototype.domRangeWithinElement=function(e){return e.collapsed?t(this.element,e.startContainer):t(this.element,e.startContainer)&&t(this.element,e.endContainer)},f}(e.BasicObject)}.call(this),function(){var t,n,i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=[].slice;i=e.rangeIsCollapsed,o=e.rangesAreEqual,n=e.objectsAreEqual,t=e.getBlockConfig,e.EditorController=function(s){function u(t){var n,i;this.editorElement=t.editorElement,n=t.document,i=t.html,this.selectionManager=new e.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new e.Composition,this.composition.delegate=this,this.attachmentManager=new e.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new(e[\"Level\"+e.config.input.getLevel()+\"InputController\"])(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new e.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new e.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new e.Editor(this.composition,this.selectionManager,this.editorElement),null!=n?this.editor.loadDocument(n):this.editor.loadHTML(i)}var c;return r(u,s),u.prototype.registerSelectionManager=function(){return e.selectionChangeObserver.registerSelectionManager(this.selectionManager)},u.prototype.unregisterSelectionManager=function(){return e.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},u.prototype.render=function(){return this.compositionController.render()},u.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},u.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement(\"document-change\"),this.handlingInput?void 0:this.render()},u.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement(\"attributes-change\",{attributes:this.currentAttributes})},u.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},u.prototype.compositionShouldAcceptFile=function(t){return this.notifyEditorElement(\"file-accept\",{file:t})},u.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement(\"attachment-add\",{attachment:e})},u.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement(\"attachment-edit\",{attachment:e}),this.notifyEditorElement(\"change\")},u.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement(\"change\")},u.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.notifyEditorElement(\"attachment-remove\",{attachment:e})},u.prototype.compositionDidStartEditingAttachment=function(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)},u.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},u.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},u.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},u.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},u.prototype.getSelectionManager=function(){return this.selectionManager},u.proxyMethod(\"getSelectionManager().setLocationRange\"),u.proxyMethod(\"getSelectionManager().getLocationRange\"),u.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},u.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},u.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement(\"sync\")},u.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement(\"render\")),this.renderedCompositionRevision=this.composition.revision},u.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.notifyEditorElement(\"focus\")},u.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement(\"blur\")},u.prototype.compositionControllerDidSelectAttachment=function(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)},u.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},u.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry(\"Edit Attachment\",{context:t.id,consolidatable:!0})},u.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},u.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},u.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},u.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},u.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement(\"change\")},u.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},u.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},u.prototype.inputControllerWillPerformFormatting=function(t){return this.recordFormattingUndoEntry(t)},u.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry(\"Cut\")},u.prototype.inputControllerWillPaste=function(t){return this.editor.recordUndoEntry(\"Paste\"),this.pasting=!0,this.notifyEditorElement(\"before-paste\",{paste:t})},u.prototype.inputControllerDidPaste=function(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement(\"paste\",{paste:t})},u.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry(\"Move\")},u.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry(\"Drop Files\")},u.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},u.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},u.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},u.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},u.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},u.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},u.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!o(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement(\"selection-change\")},u.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},u.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},u.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},u.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()\n},u.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},u.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},u.prototype.toolbarDidShowDialog=function(t){return this.notifyEditorElement(\"toolbar-dialog-show\",{dialogName:t})},u.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement(\"toolbar-dialog-hide\",{dialogName:t})},u.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},u.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},u.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute(\"href\")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return e.config.input.pickFiles(this.editor.insertFiles)}}},u.prototype.canInvokeAction=function(t){var e,n;return this.actionIsExternal(t)?!0:!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},u.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.notifyEditorElement(\"action-invoke\",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},u.prototype.actionIsExternal=function(t){return/^x-./.test(t)},u.prototype.getCurrentActions=function(){var t,e;e={};for(t in this.actions)e[t]=this.canInvokeAction(t);return e},u.prototype.updateCurrentActions=function(){var t;return t=this.getCurrentActions(),n(t,this.currentActions)?void 0:(this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement(\"actions-change\",{actions:this.currentActions}))},u.prototype.runEditorFilters=function(){var t,e,n,i,o,r,s,a;for(a=this.composition.getSnapshot(),o=this.editor.filters,n=0,i=o.length;i>n;n++)e=o[n],t=a.document,s=a.selectedRange,a=null!=(r=e.call(this.editor,a))?r:{},null==a.document&&(a.document=t),null==a.selectedRange&&(a.selectedRange=s);return c(a,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(a)},c=function(t,e){return o(t.selectedRange,e.selectedRange)&&t.document.isEqualTo(e.document)},u.prototype.updateInputElement=function(){var t,n;return t=this.compositionController.getSerializableElement(),n=e.serializeToContentType(t,\"text/html\"),this.editorElement.setInputElementValue(n)},u.prototype.notifyEditorElement=function(t,e){switch(t){case\"document-change\":this.documentChangedSinceLastRender=!0;break;case\"render\":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement(\"change\"));break;case\"change\":case\"attachment-add\":case\"attachment-edit\":case\"attachment-remove\":this.updateInputElement()}return this.editorElement.notify(t,e)},u.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry(\"Delete Attachment\"),this.composition.removeAttachment(t),this.render()},u.prototype.recordFormattingUndoEntry=function(e){var n,o;return n=t(e),o=this.selectionManager.getLocationRange(),n||!i(o)?this.editor.recordUndoEntry(\"Formatting\",{context:this.getUndoContext(),consolidatable:!0}):void 0},u.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry(\"Typing\",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},u.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(a.call(t))},u.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),i(t)?t[0].index:t},u.prototype.getTimeContext=function(){return e.config.undoInterval>0?Math.floor((new Date).getTime()/e.config.undoInterval):0},u.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},u}(e.Controller)}.call(this),function(){var t,n,i,o,r,s;n=e.browser,r=e.makeElement,s=e.triggerEvent,i=e.handleEvent,o=e.handleEventOnce,t=e.AttachmentView.attachmentSelector,e.registerElement(\"trix-editor\",function(){var a,u,c,l,h,p,d,f;return p=0,u=function(t){return!document.querySelector(\":focus\")&&t.hasAttribute(\"autofocus\")&&document.querySelector(\"[autofocus]\")===t?t.focus():void 0},d=function(t){return t.hasAttribute(\"contenteditable\")?void 0:(t.setAttribute(\"contenteditable\",\"\"),o(\"focus\",{onElement:t,withCallback:function(){return c(t)}}))},a=function(t){return t.hasAttribute(\"role\")?void 0:t.setAttribute(\"role\",\"textbox\")},c=function(t){return h(t),f(t)},h=function(t){return(\"function\"==typeof document.queryCommandSupported?document.queryCommandSupported(\"enableObjectResizing\"):void 0)?(document.execCommand(\"enableObjectResizing\",!1,!1),i(\"mscontrolselect\",{onElement:t,preventDefault:!0})):void 0},f=function(){var t;return(\"function\"==typeof document.queryCommandSupported?document.queryCommandSupported(\"DefaultParagraphSeparator\"):void 0)&&(t=e.config.blockAttributes[\"default\"].tagName,\"div\"===t||\"p\"===t)?document.execCommand(\"DefaultParagraphSeparator\",!1,t):void 0},l=function(){return n.forcesObjectResizing?{display:\"inline\",width:\"auto\"}:{display:\"inline-block\",width:\"1px\"}}(),{defaultCSS:\"%t {\\n  display: block;\\n}\\n\\n%t:empty:not(:focus)::before {\\n  content: attr(placeholder);\\n  color: graytext;\\n  cursor: text;\\n}\\n\\n%t a[contenteditable=false] {\\n  cursor: text;\\n}\\n\\n%t img {\\n  max-width: 100%;\\n  height: auto;\\n}\\n\\n%t \"+t+\" figcaption textarea {\\n  resize: none;\\n}\\n\\n%t \"+t+\" figcaption textarea.trix-autoresize-clone {\\n  position: absolute;\\n  left: -9999px;\\n  max-height: 0px;\\n}\\n\\n%t \"+t+\" figcaption[data-trix-placeholder]:empty::before {\\n  content: attr(data-trix-placeholder);\\n  color: graytext;\\n}\\n\\n%t [data-trix-cursor-target] {\\n  display: \"+l.display+\" !important;\\n  width: \"+l.width+\" !important;\\n  padding: 0 !important;\\n  margin: 0 !important;\\n  border: none !important;\\n}\\n\\n%t [data-trix-cursor-target=left] {\\n  vertical-align: top !important;\\n  margin-left: -1px !important;\\n}\\n\\n%t [data-trix-cursor-target=right] {\\n  vertical-align: bottom !important;\\n  margin-right: -1px !important;\\n}\",trixId:{get:function(){return this.hasAttribute(\"trix-id\")?this.getAttribute(\"trix-id\"):(this.setAttribute(\"trix-id\",++p),this.trixId)}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute(\"toolbar\")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute(\"toolbar\")):void 0:this.parentNode?(n=\"trix-toolbar-\"+this.trixId,this.setAttribute(\"toolbar\",n),t=r(\"trix-toolbar\",{id:n}),this.parentNode.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute(\"input\")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute(\"input\")):void 0:this.parentNode?(e=\"trix-input-\"+this.trixId,this.setAttribute(\"input\",e),t=r(\"input\",{type:\"hidden\",id:e}),this.parentNode.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){return this.editorController?s(\"trix-\"+t,{onElement:this,attributes:e}):void 0},setInputElementValue:function(t){var e;return null!=(e=this.inputElement)?e.value=t:void 0},initialize:function(){return d(this),a(this)},connect:function(){return this.hasAttribute(\"data-trix-internal\")?void 0:(this.editorController||(s(\"trix-before-initialize\",{onElement:this}),this.editorController=new e.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(t){return function(){return s(\"trix-initialize\",{onElement:t})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),u(this))},disconnect:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener(\"reset\",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener(\"reset\",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(){}.call(this)}).call(this), true&&module.exports?module.exports=e: true&&!(__WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))}.call(this);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHJpeC9kaXN0L3RyaXgtY29yZS5qcz8wMjE0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdCQUF3QixXQUFXLFlBQVksWUFBWSxXQUFXLG1IQUFtSCxnS0FBZ0ssWUFBWSwyQ0FBMkMsNERBQTRELElBQUksb0RBQW9ELFNBQVMsR0FBRyxZQUFZLGFBQWEsVUFBVSxhQUFhLFlBQVksWUFBWSx5QkFBeUIsY0FBYyxVQUFVLGlDQUFpQyxjQUFjLDZGQUE2RixRQUFRLCtMQUErTCxlQUFlLFFBQVEsOEVBQThFLFVBQVUsVUFBVSw0RUFBNEUsNkRBQTZELEdBQUcsd0JBQXdCLG9CQUFvQixhQUFhLG1CQUFtQix3Q0FBd0MsMkVBQTJFLEtBQUssZ0JBQWdCLHFCQUFxQixhQUFhLFlBQVksTUFBTSwrQ0FBK0Msb0NBQW9DLDhDQUE4Qyx5REFBeUQsbUNBQW1DLGdCQUFnQixnQ0FBZ0MsVUFBVSxvQkFBb0IsVUFBVSw2Q0FBNkMsTUFBTSxrQ0FBa0MsU0FBUyxzRkFBc0YsK0NBQStDLHFDQUFxQyw0QkFBNEIsc0NBQXNDLCtCQUErQixvQ0FBb0MsMEJBQTBCLEdBQUcsZ0JBQWdCLHVCQUF1QixxQkFBcUIsUUFBUSw0QkFBNEIsYUFBYSx1QkFBdUIsVUFBVSxrQkFBa0Isd0JBQXdCLEVBQUUsdUJBQXVCLFFBQVEsVUFBVSw0QkFBNEIsd0dBQXdHLCtCQUErQiwrQkFBK0IsMkdBQTJHLHFGQUFxRixHQUFHLFFBQVEsd0JBQXdCLE1BQU0sbUVBQW1FLHFDQUFxQyxZQUFZLDBIQUEwSCxvQkFBb0Isa0JBQWtCLGNBQWMsNk9BQTZPLGlCQUFpQixVQUFVLDhCQUE4Qix3Q0FBd0MsS0FBSyxLQUFLLDhDQUE4QyxTQUFTLE9BQU8sb0NBQW9DLHVCQUF1QixVQUFVLHVCQUF1QixVQUFVLGNBQWMsT0FBTyx5QkFBeUIsU0FBUywrQkFBK0IsUUFBUSxpQkFBaUIsZ0JB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QWtDLE1BQU0sb0RBQW9ELHVCQUF1Qix1QkFBdUIsb0JBQW9CLDJHQUEyRyxlQUFlLGdEQUFnRCxxREFBcUQsb0NBQW9DLGtCQUFrQiw0QkFBNEIsWUFBWSxHQUFHLGdHQUFnRyx1QkFBdUIsTUFBTSxzR0FBc0csa0NBQWtDLDhHQUE4RyxvQ0FBb0MsaUVBQWlFLDBCQUEwQixNQUFNLHNHQUFzRyxrQkFBa0Isc0NBQXNDLElBQUksd0JBQXdCLFlBQVksYUFBYSxLQUF1QixrQ0FBa0MsS0FBcUMsRUFBRSxvQ0FBTyxDQUFDO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0dBQUMsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy90cml4L2Rpc3QvdHJpeC1jb3JlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcblRyaXggMS4yLjNcbkNvcHlyaWdodCDCqSAyMDIwIEJhc2VjYW1wLCBMTENcbmh0dHA6Ly90cml4LWVkaXRvci5vcmcvXG4gKi9cbihmdW5jdGlvbigpe30pLmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD10aGlzOyhmdW5jdGlvbigpeyhmdW5jdGlvbigpe3RoaXMuVHJpeD17VkVSU0lPTjpcIjEuMi4zXCIsWkVST19XSURUSF9TUEFDRTpcIlxcdWZlZmZcIixOT05fQlJFQUtJTkdfU1BBQ0U6XCJcXHhhMFwiLE9CSkVDVF9SRVBMQUNFTUVOVF9DSEFSQUNURVI6XCJcXHVmZmZjXCIsYnJvd3Nlcjp7Y29tcG9zZXNFeGlzdGluZ1RleHQ6L0FuZHJvaWQuKkNocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxmb3JjZXNPYmplY3RSZXNpemluZzovVHJpZGVudC4qcnY6MTEvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksc3VwcG9ydHNJbnB1dEV2ZW50czpmdW5jdGlvbigpe3ZhciB0LGUsbixpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBJbnB1dEV2ZW50KXJldHVybiExO2ZvcihpPVtcImRhdGFcIixcImdldFRhcmdldFJhbmdlc1wiLFwiaW5wdXRUeXBlXCJdLHQ9MCxlPWkubGVuZ3RoO2U+dDt0KyspaWYobj1pW3RdLCEobiBpbiBJbnB1dEV2ZW50LnByb3RvdHlwZSkpcmV0dXJuITE7cmV0dXJuITB9KCl9LGNvbmZpZzp7fX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0KTt2YXIgZT10LlRyaXg7KGZ1bmN0aW9uKCl7KGZ1bmN0aW9uKCl7ZS5CYXNpY09iamVjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9dmFyIGUsbixpO3JldHVybiB0LnByb3h5TWV0aG9kPWZ1bmN0aW9uKHQpe3ZhciBpLG8scixzLGE7cmV0dXJuIHI9bih0KSxpPXIubmFtZSxzPXIudG9NZXRob2QsYT1yLnRvUHJvcGVydHksbz1yLm9wdGlvbmFsLHRoaXMucHJvdG90eXBlW2ldPWZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gdD1udWxsIT1zP28/XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpc1tzXT90aGlzW3NdKCk6dm9pZCAwOnRoaXNbc10oKTpudWxsIT1hP3RoaXNbYV06dm9pZCAwLG8/KG49bnVsbCE9dD90W2ldOnZvaWQgMCxudWxsIT1uP2UuY2FsbChuLHQsYXJndW1lbnRzKTp2b2lkIDApOihuPXRbaV0sZS5jYWxsKG4sdCxhcmd1bWVudHMpKX19LG49ZnVuY3Rpb24odCl7dmFyIGUsbjtpZighKG49dC5tYXRjaChpKSkpdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgcGFyc2UgQHByb3h5TWV0aG9kIGV4cHJlc3Npb246IFwiK3QpO3JldHVybiBlPXtuYW1lOm5bNF19LG51bGwhPW5bMl0/ZS50b01ldGhvZD1uWzFdOmUudG9Qcm9wZXJ0eT1uWzFdLG51bGwhPW5bM10mJihlLm9wdGlvbmFsPSEwKSxlfSxlPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxpPS9eKC4rPykoXFwoXFwpKT8oXFw/KT9cXC4oLis/KSQvLHR9KCl9KS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKW4uY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sbj17fS5oYXNPd25Qcm9wZXJ0eTtlLk9iamVjdD1mdW5jdGlvbihuKXtmdW5jdGlvbiBpKCl7dGhpcy5pZD0rK299dmFyIG87cmV0dXJuIHQoaSxuKSxvPTAsaS5mcm9tSlNPTlN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcm9tSlNPTihKU09OLnBhcnNlKHQpKX0saS5wcm90b3R5cGUuaGFzU2FtZUNvbnN0cnVjdG9yQXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3I9PT0obnVsbCE9dD90LmNvbnN0cnVjdG9yOnZvaWQgMCl9LGkucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR9LGkucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuIHQ9ZnVuY3Rpb24oKXt2YXIgdCxpLG87aT1udWxsIT0odD10aGlzLmNvbnRlbnRzRm9ySW5zcGVjdGlvbigpKT90Ont9LG89W107Zm9yKGUgaW4gaSluPWlbZV0sby5wdXNoKGUrXCI9XCIrbik7cmV0dXJuIG99LmNhbGwodGhpcyksXCIjPFwiK3RoaXMuY29uc3RydWN0b3IubmFtZStcIjpcIit0aGlzLmlkKyh0Lmxlbmd0aD9cIiBcIit0LmpvaW4oXCIsIFwiKTpcIlwiKStcIj5cIn0saS5wcm90b3R5cGUuY29udGVudHNGb3JJbnNwZWN0aW9uPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS50b0pTT05TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyl9LGkucHJvdG90eXBlLnRvVVRGMTZTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gZS5VVEYxNlN0cmluZy5ib3godGhpcyl9LGkucHJvdG90eXBlLmdldENhY2hlS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWQudG9TdHJpbmcoKX0saX0oZS5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXtlLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZSxuO2ZvcihlIGluIHQpbj10W2VdLHRoaXNbZV09bjtyZXR1cm4gdGhpc319LmNhbGwodGhpcyksZnVuY3Rpb24oKXtlLmV4dGVuZCh7ZGVmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCwxKX19KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG47ZS5leHRlbmQoe25vcm1hbGl6ZVNwYWNlczpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKFJlZ0V4cChcIlwiK2UuWkVST19XSURUSF9TUEFDRSxcImdcIiksXCJcIikucmVwbGFjZShSZWdFeHAoXCJcIitlLk5PTl9CUkVBS0lOR19TUEFDRSxcImdcIiksXCIgXCIpfSxub3JtYWxpemVOZXdsaW5lczpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKX0sYnJlYWthYmxlV2hpdGVzcGFjZVBhdHRlcm46UmVnRXhwKFwiW15cXFxcU1wiK2UuTk9OX0JSRUFLSU5HX1NQQUNFK1wiXVwiKSxzcXVpc2hCcmVha2FibGVXaGl0ZXNwYWNlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoUmVnRXhwKFwiXCIrZS5icmVha2FibGVXaGl0ZXNwYWNlUGF0dGVybi5zb3VyY2UsXCJnXCIpLFwiIFwiKS5yZXBsYWNlKC9cXCB7Mix9L2csXCIgXCIpfSxlc2NhcGVIVE1MOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZS50ZXh0Q29udGVudD10LGUuaW5uZXJIVE1MfSxzdW1tYXJpemVTdHJpbmdDaGFuZ2U6ZnVuY3Rpb24odCxpKXt2YXIgbyxyLHMsYTtyZXR1cm4gdD1lLlVURjE2U3RyaW5nLmJveCh0KSxpPWUuVVRGMTZTdHJpbmcuYm94KGkpLGkubGVuZ3RoPHQubGVuZ3RoPyhyPW4odCxpKSxhPXJbMF0sbz1yWzFdKToocz1uKGksdCksbz1zWzBdLGE9c1sxXSkse2FkZGVkOm8scmVtb3ZlZDphfX19KSxuPWZ1bmN0aW9uKG4saSl7dmFyIG8scixzLGEsdTtyZXR1cm4gbi5pc0VxdWFsVG8oaSk/W1wiXCIsXCJcIl06KHI9dChuLGkpLGE9ci51dGYxNlN0cmluZy5sZW5ndGgscz1hPyh1PXIub2Zmc2V0LHIsbz1uLmNvZGVwb2ludHMuc2xpY2UoMCx1KS5jb25jYXQobi5jb2RlcG9pbnRzLnNsaWNlKHUrYSkpLHQoaSxlLlVURjE2U3RyaW5nLmZyb21Db2RlcG9pbnRzKG8pKSk6dChpLG4pLFtyLnV0ZjE2U3RyaW5nLnRvU3RyaW5nKCkscy51dGYxNlN0cmluZy50b1N0cmluZygpXSl9LHQ9ZnVuY3Rpb24odCxlKXt2YXIgbixpLG87Zm9yKG49MCxpPXQubGVuZ3RoLG89ZS5sZW5ndGg7aT5uJiZ0LmNoYXJBdChuKS5pc0VxdWFsVG8oZS5jaGFyQXQobikpOyluKys7Zm9yKDtpPm4rMSYmdC5jaGFyQXQoaS0xKS5pc0VxdWFsVG8oZS5jaGFyQXQoby0xKSk7KWktLSxvLS07cmV0dXJue3V0ZjE2U3RyaW5nOnQuc2xpY2UobixpKSxvZmZzZXQ6bn19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ZS5leHRlbmQoe2NvcHlPYmplY3Q6ZnVuY3Rpb24odCl7dmFyIGUsbixpO251bGw9PXQmJih0PXt9KSxuPXt9O2ZvcihlIGluIHQpaT10W2VdLG5bZV09aTtyZXR1cm4gbn0sb2JqZWN0c0FyZUVxdWFsOmZ1bmN0aW9uKHQsZSl7dmFyIG4saTtpZihudWxsPT10JiYodD17fSksbnVsbD09ZSYmKGU9e30pLE9iamVjdC5rZXlzKHQpLmxlbmd0aCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aClyZXR1cm4hMTtmb3IobiBpbiB0KWlmKGk9dFtuXSxpIT09ZVtuXSlyZXR1cm4hMTtyZXR1cm4hMH19KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PVtdLnNsaWNlO2UuZXh0ZW5kKHthcnJheXNBcmVFcXVhbDpmdW5jdGlvbih0LGUpe3ZhciBuLGksbyxyO2lmKG51bGw9PXQmJih0PVtdKSxudWxsPT1lJiYoZT1bXSksdC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IoaT1uPTAsbz10Lmxlbmd0aDtvPm47aT0rK24paWYocj10W2ldLHIhPT1lW2ldKXJldHVybiExO3JldHVybiEwfSxhcnJheVN0YXJ0c1dpdGg6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbnVsbD09dCYmKHQ9W10pLG51bGw9PW4mJihuPVtdKSxlLmFycmF5c0FyZUVxdWFsKHQuc2xpY2UoMCxuLmxlbmd0aCksbil9LHNwbGljZUFycmF5OmZ1bmN0aW9uKCl7dmFyIGUsbixpO3JldHVybiBuPWFyZ3VtZW50c1swXSxlPTI8PWFyZ3VtZW50cy5sZW5ndGg/dC5jYWxsKGFyZ3VtZW50cywxKTpbXSxpPW4uc2xpY2UoMCksaS5zcGxpY2UuYXBwbHkoaSxlKSxpfSxzdW1tYXJpemVBcnJheUNoYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBuLGksbyxyLHMsYSx1LGMsbCxoLHA7Zm9yKG51bGw9PXQmJih0PVtdKSxudWxsPT1lJiYoZT1bXSksbj1bXSxoPVtdLG89bmV3IFNldCxyPTAsdT10Lmxlbmd0aDt1PnI7cisrKXA9dFtyXSxvLmFkZChwKTtmb3IoaT1uZXcgU2V0LHM9MCxjPWUubGVuZ3RoO2M+cztzKyspcD1lW3NdLGkuYWRkKHApLG8uaGFzKHApfHxuLnB1c2gocCk7Zm9yKGE9MCxsPXQubGVuZ3RoO2w+YTthKyspcD10W2FdLGkuaGFzKHApfHxoLnB1c2gocCk7cmV0dXJue2FkZGVkOm4scmVtb3ZlZDpofX19KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saSxvO3Q9bnVsbCxuPW51bGwsbz1udWxsLGk9bnVsbCxlLmV4dGVuZCh7Z2V0QWxsQXR0cmlidXRlTmFtZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dD90OnQ9ZS5nZXRUZXh0QXR0cmlidXRlTmFtZXMoKS5jb25jYXQoZS5nZXRCbG9ja0F0dHJpYnV0ZU5hbWVzKCkpfSxnZXRCbG9ja0NvbmZpZzpmdW5jdGlvbih0KXtyZXR1cm4gZS5jb25maWcuYmxvY2tBdHRyaWJ1dGVzW3RdfSxnZXRCbG9ja0F0dHJpYnV0ZU5hbWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPW4/bjpuPU9iamVjdC5rZXlzKGUuY29uZmlnLmJsb2NrQXR0cmlidXRlcyl9LGdldFRleHRDb25maWc6ZnVuY3Rpb24odCl7cmV0dXJuIGUuY29uZmlnLnRleHRBdHRyaWJ1dGVzW3RdfSxnZXRUZXh0QXR0cmlidXRlTmFtZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9bz9vOm89T2JqZWN0LmtleXMoZS5jb25maWcudGV4dEF0dHJpYnV0ZXMpfSxnZXRMaXN0QXR0cmlidXRlTmFtZXM6ZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiBudWxsIT1pP2k6aT1mdW5jdGlvbigpe3ZhciBpLG87aT1lLmNvbmZpZy5ibG9ja0F0dHJpYnV0ZXMsbz1bXTtmb3IodCBpbiBpKW49aVt0XS5saXN0QXR0cmlidXRlLG51bGwhPW4mJm8ucHVzaChuKTtyZXR1cm4gb30oKX19KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saSxvLHIscz1bXS5pbmRleE9mfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMubGVuZ3RoO24+ZTtlKyspaWYoZSBpbiB0aGlzJiZ0aGlzW2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX07dD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbj1udWxsIT0oaT1udWxsIT0obz1udWxsIT0ocj10Lm1hdGNoZXNTZWxlY3Rvcik/cjp0LndlYmtpdE1hdGNoZXNTZWxlY3Rvcik/bzp0Lm1zTWF0Y2hlc1NlbGVjdG9yKT9pOnQubW96TWF0Y2hlc1NlbGVjdG9yLGUuZXh0ZW5kKHtoYW5kbGVFdmVudDpmdW5jdGlvbihuLGkpe3ZhciBvLHIscyxhLHUsYyxsLGgscCxkLGYsZztyZXR1cm4gaD1udWxsIT1pP2k6e30sYz1oLm9uRWxlbWVudCx1PWgubWF0Y2hpbmdTZWxlY3RvcixnPWgud2l0aENhbGxiYWNrLGE9aC5pblBoYXNlLGw9aC5wcmV2ZW50RGVmYXVsdCxkPWgudGltZXMscj1udWxsIT1jP2M6dCxwPXUsbz1nLGY9XCJjYXB0dXJpbmdcIj09PWEscz1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gbnVsbCE9ZCYmMD09PS0tZCYmcy5kZXN0cm95KCksbj1lLmZpbmRDbG9zZXN0RWxlbWVudEZyb21Ob2RlKHQudGFyZ2V0LHttYXRjaGluZ1NlbGVjdG9yOnB9KSxudWxsIT1uJiYobnVsbCE9ZyYmZy5jYWxsKG4sdCxuKSxsKT90LnByZXZlbnREZWZhdWx0KCk6dm9pZCAwfSxzLmRlc3Ryb3k9ZnVuY3Rpb24oKXtyZXR1cm4gci5yZW1vdmVFdmVudExpc3RlbmVyKG4scyxmKX0sci5hZGRFdmVudExpc3RlbmVyKG4scyxmKSxzfSxoYW5kbGVFdmVudE9uY2U6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbnVsbD09biYmKG49e30pLG4udGltZXM9MSxlLmhhbmRsZUV2ZW50KHQsbil9LHRyaWdnZXJFdmVudDpmdW5jdGlvbihuLGkpe3ZhciBvLHIscyxhLHUsYyxsO3JldHVybiBsPW51bGwhPWk/aTp7fSxjPWwub25FbGVtZW50LHI9bC5idWJibGVzLHM9bC5jYW5jZWxhYmxlLG89bC5hdHRyaWJ1dGVzLGE9bnVsbCE9Yz9jOnQscj1yIT09ITEscz1zIT09ITEsdT1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50c1wiKSx1LmluaXRFdmVudChuLHIscyksbnVsbCE9byYmZS5leHRlbmQuY2FsbCh1LG8pLGEuZGlzcGF0Y2hFdmVudCh1KX0sZWxlbWVudE1hdGNoZXNTZWxlY3RvcjpmdW5jdGlvbih0LGUpe3JldHVybiAxPT09KG51bGwhPXQ/dC5ub2RlVHlwZTp2b2lkIDApP24uY2FsbCh0LGUpOnZvaWQgMH0sZmluZENsb3Nlc3RFbGVtZW50RnJvbU5vZGU6ZnVuY3Rpb24odCxuKXt2YXIgaSxvLHI7Zm9yKG89bnVsbCE9bj9uOnt9LGk9by5tYXRjaGluZ1NlbGVjdG9yLHI9by51bnRpbE5vZGU7bnVsbCE9dCYmdC5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyl0PXQucGFyZW50Tm9kZTtpZihudWxsIT10KXtpZihudWxsPT1pKXJldHVybiB0O2lmKHQuY2xvc2VzdCYmbnVsbD09cilyZXR1cm4gdC5jbG9zZXN0KGkpO2Zvcig7dCYmdCE9PXI7KXtpZihlLmVsZW1lbnRNYXRjaGVzU2VsZWN0b3IodCxpKSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX19fSxmaW5kSW5uZXJFbGVtZW50OmZ1bmN0aW9uKHQpe2Zvcig7bnVsbCE9dD90LmZpcnN0RWxlbWVudENoaWxkOnZvaWQgMDspdD10LmZpcnN0RWxlbWVudENoaWxkO3JldHVybiB0fSxpbm5lckVsZW1lbnRJc0FjdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PXQmJmUuZWxlbWVudENvbnRhaW5zTm9kZSh0LGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpfSxlbGVtZW50Q29udGFpbnNOb2RlOmZ1bmN0aW9uKHQsZSl7aWYodCYmZSlmb3IoO2U7KXtpZihlPT09dClyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX19LGZpbmROb2RlRnJvbUNvbnRhaW5lckFuZE9mZnNldDpmdW5jdGlvbih0LGUpe3ZhciBuO2lmKHQpcmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERT90OjA9PT1lP251bGwhPShuPXQuZmlyc3RDaGlsZCk/bjp0OnQuY2hpbGROb2Rlcy5pdGVtKGUtMSl9LGZpbmRFbGVtZW50RnJvbUNvbnRhaW5lckFuZE9mZnNldDpmdW5jdGlvbih0LG4pe3ZhciBpO3JldHVybiBpPWUuZmluZE5vZGVGcm9tQ29udGFpbmVyQW5kT2Zmc2V0KHQsbiksZS5maW5kQ2xvc2VzdEVsZW1lbnRGcm9tTm9kZShpKX0sZmluZENoaWxkSW5kZXhPZk5vZGU6ZnVuY3Rpb24odCl7dmFyIGU7aWYobnVsbCE9dD90LnBhcmVudE5vZGU6dm9pZCAwKXtmb3IoZT0wO3Q9dC5wcmV2aW91c1NpYmxpbmc7KWUrKztyZXR1cm4gZX19LHJlbW92ZU5vZGU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPXQmJm51bGwhPShlPXQucGFyZW50Tm9kZSk/ZS5yZW1vdmVDaGlsZCh0KTp2b2lkIDB9LHdhbGtUcmVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvLHIscztyZXR1cm4gbz1udWxsIT1lP2U6e30saT1vLm9ubHlOb2Rlc09mVHlwZSxyPW8udXNpbmdGaWx0ZXIsbj1vLmV4cGFuZEVudGl0eVJlZmVyZW5jZXMscz1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlXCJlbGVtZW50XCI6cmV0dXJuIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UO2Nhc2VcInRleHRcIjpyZXR1cm4gTm9kZUZpbHRlci5TSE9XX1RFWFQ7Y2FzZVwiY29tbWVudFwiOnJldHVybiBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVDtkZWZhdWx0OnJldHVybiBOb2RlRmlsdGVyLlNIT1dfQUxMfX0oKSxkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKHQscyxudWxsIT1yP3I6bnVsbCxuPT09ITApfSx0YWdOYW1lOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT10JiZudWxsIT0oZT10LnRhZ05hbWUpP2UudG9Mb3dlckNhc2UoKTp2b2lkIDB9LG1ha2VFbGVtZW50OmZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvLHIscyxhLHUsYyxsLGg7aWYobnVsbD09ZSYmKGU9e30pLFwib2JqZWN0XCI9PXR5cGVvZiB0PyhlPXQsdD1lLnRhZ05hbWUpOmU9e2F0dHJpYnV0ZXM6ZX0saT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpLG51bGwhPWUuZWRpdGFibGUmJihudWxsPT1lLmF0dHJpYnV0ZXMmJihlLmF0dHJpYnV0ZXM9e30pLGUuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU9ZS5lZGl0YWJsZSksZS5hdHRyaWJ1dGVzKXthPWUuYXR0cmlidXRlcztmb3IociBpbiBhKWg9YVtyXSxpLnNldEF0dHJpYnV0ZShyLGgpfWlmKGUuc3R5bGUpe3U9ZS5zdHlsZTtmb3IociBpbiB1KWg9dVtyXSxpLnN0eWxlW3JdPWh9aWYoZS5kYXRhKXtjPWUuZGF0YTtmb3IociBpbiBjKWg9Y1tyXSxpLmRhdGFzZXRbcl09aH1pZihlLmNsYXNzTmFtZSlmb3IobD1lLmNsYXNzTmFtZS5zcGxpdChcIiBcIiksbz0wLHM9bC5sZW5ndGg7cz5vO28rKyluPWxbb10saS5jbGFzc0xpc3QuYWRkKG4pO3JldHVybiBlLnRleHRDb250ZW50JiYoaS50ZXh0Q29udGVudD1lLnRleHRDb250ZW50KSxpfSxnZXRCbG9ja1RhZ05hbWVzOmZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gbnVsbCE9ZS5ibG9ja1RhZ05hbWVzP2UuYmxvY2tUYWdOYW1lczplLmJsb2NrVGFnTmFtZXM9ZnVuY3Rpb24oKXt2YXIgaSxvO2k9ZS5jb25maWcuYmxvY2tBdHRyaWJ1dGVzLG89W107Zm9yKHQgaW4gaSluPWlbdF0udGFnTmFtZSxuJiZvLnB1c2gobik7cmV0dXJuIG99KCl9LG5vZGVJc0Jsb2NrQ29udGFpbmVyOmZ1bmN0aW9uKHQpe3JldHVybiBlLm5vZGVJc0Jsb2NrU3RhcnRDb21tZW50KG51bGwhPXQ/dC5maXJzdENoaWxkOnZvaWQgMCl9LG5vZGVQcm9iYWJseUlzQmxvY2tDb250YWluZXI6ZnVuY3Rpb24odCl7dmFyIG4saTtyZXR1cm4gbj1lLnRhZ05hbWUodCkscy5jYWxsKGUuZ2V0QmxvY2tUYWdOYW1lcygpLG4pPj0wJiYoaT1lLnRhZ05hbWUodC5maXJzdENoaWxkKSxzLmNhbGwoZS5nZXRCbG9ja1RhZ05hbWVzKCksaSk8MCl9LG5vZGVJc0Jsb2NrU3RhcnQ6ZnVuY3Rpb24odCxuKXt2YXIgaTtyZXR1cm4gaT0obnVsbCE9bj9uOntzdHJpY3Q6ITB9KS5zdHJpY3QsaT9lLm5vZGVJc0Jsb2NrU3RhcnRDb21tZW50KHQpOmUubm9kZUlzQmxvY2tTdGFydENvbW1lbnQodCl8fCFlLm5vZGVJc0Jsb2NrU3RhcnRDb21tZW50KHQuZmlyc3RDaGlsZCkmJmUubm9kZVByb2JhYmx5SXNCbG9ja0NvbnRhaW5lcih0KX0sbm9kZUlzQmxvY2tTdGFydENvbW1lbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUubm9kZUlzQ29tbWVudE5vZGUodCkmJlwiYmxvY2tcIj09PShudWxsIT10P3QuZGF0YTp2b2lkIDApfSxub2RlSXNDb21tZW50Tm9kZTpmdW5jdGlvbih0KXtyZXR1cm4obnVsbCE9dD90Lm5vZGVUeXBlOnZvaWQgMCk9PT1Ob2RlLkNPTU1FTlRfTk9ERX0sbm9kZUlzQ3Vyc29yVGFyZ2V0OmZ1bmN0aW9uKHQsbil7dmFyIGk7cmV0dXJuIGk9KG51bGwhPW4/bjp7fSkubmFtZSx0P2Uubm9kZUlzVGV4dE5vZGUodCk/dC5kYXRhPT09ZS5aRVJPX1dJRFRIX1NQQUNFP2k/dC5wYXJlbnROb2RlLmRhdGFzZXQudHJpeEN1cnNvclRhcmdldD09PWk6ITA6dm9pZCAwOmUubm9kZUlzQ3Vyc29yVGFyZ2V0KHQuZmlyc3RDaGlsZCk6dm9pZCAwfSxub2RlSXNBdHRhY2htZW50RWxlbWVudDpmdW5jdGlvbih0KXtyZXR1cm4gZS5lbGVtZW50TWF0Y2hlc1NlbGVjdG9yKHQsZS5BdHRhY2htZW50Vmlldy5hdHRhY2htZW50U2VsZWN0b3IpfSxub2RlSXNFbXB0eVRleHROb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBlLm5vZGVJc1RleHROb2RlKHQpJiZcIlwiPT09KG51bGwhPXQ/dC5kYXRhOnZvaWQgMCl9LG5vZGVJc1RleHROb2RlOmZ1bmN0aW9uKHQpe3JldHVybihudWxsIT10P3Qubm9kZVR5cGU6dm9pZCAwKT09PU5vZGUuVEVYVF9OT0RFfX0pfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scjt0PWUuY29weU9iamVjdCxvPWUub2JqZWN0c0FyZUVxdWFsLGUuZXh0ZW5kKHtub3JtYWxpemVSYW5nZTppPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKG51bGwhPXQpcmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fCh0PVt0LHRdKSxbbih0WzBdKSxuKG51bGwhPShlPXRbMV0pP2U6dFswXSldfSxyYW5nZUlzQ29sbGFwc2VkOmZ1bmN0aW9uKHQpe3ZhciBlLG4sbztpZihudWxsIT10KXJldHVybiBuPWkodCksbz1uWzBdLGU9blsxXSxyKG8sZSl9LHJhbmdlc0FyZUVxdWFsOmZ1bmN0aW9uKHQsZSl7dmFyIG4sbyxzLGEsdSxjO2lmKG51bGwhPXQmJm51bGwhPWUpcmV0dXJuIHM9aSh0KSxvPXNbMF0sbj1zWzFdLGE9aShlKSxjPWFbMF0sdT1hWzFdLHIobyxjKSYmcihuLHUpfX0pLG49ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/ZTp0KGUpfSxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dD09PWU6byh0LGUpfX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saSxvLHIscyxhO2UucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtyZXR1cm4gbnVsbD09ZSYmKGU9e30pLHQ9dC50b0xvd2VyQ2FzZSgpLGU9YShlKSxpPXMoZSksKG49aS5kZWZhdWx0Q1NTKSYmKGRlbGV0ZSBpLmRlZmF1bHRDU1MsbyhuLHQpKSxyKHQsaSl9LG89ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbj1pKGUpLG4udGV4dENvbnRlbnQ9dC5yZXBsYWNlKC8ldC9nLGUpfSxpPWZ1bmN0aW9uKGUpe3ZhciBuLGk7cmV0dXJuIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIiksbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhZy1uYW1lXCIsZS50b0xvd2VyQ2FzZSgpKSwoaT10KCkpJiZuLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsaSksZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUobixkb2N1bWVudC5oZWFkLmZpcnN0Q2hpbGQpLG59LHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD1uKFwidHJpeC1jc3Atbm9uY2VcIil8fG4oXCJjc3Atbm9uY2VcIikpP3QuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTp2b2lkIDB9LG49ZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihcIm1ldGFbbmFtZT1cIit0K1wiXVwiKX0scz1mdW5jdGlvbih0KXt2YXIgZSxuLGk7bj17fTtmb3IoZSBpbiB0KWk9dFtlXSxuW2VdPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/e3ZhbHVlOml9Omk7cmV0dXJuIG59LGE9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyO2ZvcihlPXt9LHI9W1wiaW5pdGlhbGl6ZVwiLFwiY29ubmVjdFwiLFwiZGlzY29ubmVjdFwiXSxuPTAsbz1yLmxlbmd0aDtvPm47bisrKWk9cltuXSxlW2ldPXRbaV0sZGVsZXRlIHRbaV07cmV0dXJuIGV9LHdpbmRvdy5jdXN0b21FbGVtZW50cz9mdW5jdGlvbihlKXt2YXIgbixpLG8scixzO3JldHVybiBzPXQoZSksbz1zLmluaXRpYWxpemUsbj1zLmNvbm5lY3QsaT1zLmRpc2Nvbm5lY3QsbyYmKHI9bixuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmluaXRpYWxpemVkPSEwLG8uY2FsbCh0aGlzKSksbnVsbCE9cj9yLmNhbGwodGhpcyk6dm9pZCAwfSksbiYmKGUuY29ubmVjdGVkQ2FsbGJhY2s9biksaSYmKGUuZGlzY29ubmVjdGVkQ2FsbGJhY2s9aSksZX06ZnVuY3Rpb24oZSl7dmFyIG4saSxvLHI7cmV0dXJuIHI9dChlKSxvPXIuaW5pdGlhbGl6ZSxuPXIuY29ubmVjdCxpPXIuZGlzY29ubmVjdCxvJiYoZS5jcmVhdGVkQ2FsbGJhY2s9byksbiYmKGUuYXR0YWNoZWRDYWxsYmFjaz1uKSxpJiYoZS5kZXRhY2hlZENhbGxiYWNrPWkpLGV9fSgpLHI9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmN1c3RvbUVsZW1lbnRzP2Z1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49ZnVuY3Rpb24oKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdD9SZWZsZWN0LmNvbnN0cnVjdChIVE1MRWxlbWVudCxbXSxuKTpIVE1MRWxlbWVudC5hcHBseSh0aGlzKX0sT2JqZWN0LnNldFByb3RvdHlwZU9mKG4ucHJvdG90eXBlLEhUTUxFbGVtZW50LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sSFRNTEVsZW1lbnQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4ucHJvdG90eXBlLGUpLHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodCxuKSxufTpmdW5jdGlvbih0LGUpe3ZhciBuLGk7cmV0dXJuIGk9T2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUsZSksbj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQodCx7cHJvdG90eXBlOml9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOm59KSxufX0oKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG47ZS5leHRlbmQoe2dldERPTVNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PXdpbmRvdy5nZXRTZWxlY3Rpb24oKSx0LnJhbmdlQ291bnQ+MD90OnZvaWQgMH0sZ2V0RE9NUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgbixpO3JldHVybihuPW51bGwhPShpPWUuZ2V0RE9NU2VsZWN0aW9uKCkpP2kuZ2V0UmFuZ2VBdCgwKTp2b2lkIDApJiYhdChuKT9uOnZvaWQgMH0sc2V0RE9NUmFuZ2U6ZnVuY3Rpb24odCl7dmFyIG47cmV0dXJuIG49d2luZG93LmdldFNlbGVjdGlvbigpLG4ucmVtb3ZlQWxsUmFuZ2VzKCksbi5hZGRSYW5nZSh0KSxlLnNlbGVjdGlvbkNoYW5nZU9ic2VydmVyLnVwZGF0ZSgpfX0pLHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG4odC5zdGFydENvbnRhaW5lcil8fG4odC5lbmRDb250YWluZXIpfSxuPWZ1bmN0aW9uKHQpe3JldHVybiFPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ7dD17XCJhcHBsaWNhdGlvbi94LXRyaXgtZmVhdHVyZS1kZXRlY3Rpb25cIjpcInRlc3RcIn0sZS5leHRlbmQoe2RhdGFUcmFuc2ZlcklzUGxhaW5UZXh0OmZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gaT10LmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpLG49dC5nZXREYXRhKFwidGV4dC9odG1sXCIpLGkmJm4/KGU9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhuLFwidGV4dC9odG1sXCIpLmJvZHksZS50ZXh0Q29udGVudD09PWk/IWUucXVlcnlTZWxlY3RvcihcIipcIik6dm9pZCAwKTpudWxsIT1pP2kubGVuZ3RoOnZvaWQgMH0sZGF0YVRyYW5zZmVySXNXcml0YWJsZTpmdW5jdGlvbihlKXt2YXIgbixpO2lmKG51bGwhPShudWxsIT1lP2Uuc2V0RGF0YTp2b2lkIDApKXtmb3IobiBpbiB0KWlmKGk9dFtuXSwhZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGUuc2V0RGF0YShuLGkpLGUuZ2V0RGF0YShuKT09PWl9Y2F0Y2godCl7fX0oKSlyZXR1cm47cmV0dXJuITB9fSxrZXlFdmVudElzS2V5Ym9hcmRDb21tYW5kOmZ1bmN0aW9uKCl7cmV0dXJuL01hY3xeaVAvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKT9mdW5jdGlvbih0KXtyZXR1cm4gdC5tZXRhS2V5fTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jdHJsS2V5fX0oKX0pfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbj1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBvIGluIGUpaS5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxpPXt9Lmhhc093blByb3BlcnR5O3Q9ZS5hcnJheXNBcmVFcXVhbCxlLkhhc2g9ZnVuY3Rpb24oaSl7ZnVuY3Rpb24gbyh0KXtudWxsPT10JiYodD17fSksdGhpcy52YWx1ZXM9cyh0KSxvLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHIscyxhLHUsYztyZXR1cm4gbihvLGkpLG8uZnJvbUNvbW1vbkF0dHJpYnV0ZXNPZk9iamVjdHM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8scyxhO2lmKG51bGw9PXQmJih0PVtdKSwhdC5sZW5ndGgpcmV0dXJuIG5ldyB0aGlzO2ZvcihlPXIodFswXSksaT1lLmdldEtleXMoKSxhPXQuc2xpY2UoMSksbj0wLG89YS5sZW5ndGg7bz5uO24rKylzPWFbbl0saT1lLmdldEtleXNDb21tb25Ub0hhc2gocihzKSksZT1lLnNsaWNlKGkpO3JldHVybiBlfSxvLmJveD1mdW5jdGlvbih0KXtyZXR1cm4gcih0KX0sby5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubWVyZ2UodSh0LGUpKX0sby5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZS5IYXNoKHModGhpcy52YWx1ZXMsdCkpfSxvLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWVzW3RdfSxvLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gdGhpcy52YWx1ZXN9LG8ucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZS5IYXNoKGEodGhpcy52YWx1ZXMsYyh0KSkpfSxvLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0KXt2YXIgbixpLG8scjtmb3Iocj17fSxuPTAsbz10Lmxlbmd0aDtvPm47bisrKWk9dFtuXSx0aGlzLmhhcyhpKSYmKHJbaV09dGhpcy52YWx1ZXNbaV0pO3JldHVybiBuZXcgZS5IYXNoKHIpfSxvLnByb3RvdHlwZS5nZXRLZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudmFsdWVzKX0sby5wcm90b3R5cGUuZ2V0S2V5c0NvbW1vblRvSGFzaD1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxzO2Zvcih0PXIodCksbz10aGlzLmdldEtleXMoKSxzPVtdLGU9MCxpPW8ubGVuZ3RoO2k+ZTtlKyspbj1vW2VdLHRoaXMudmFsdWVzW25dPT09dC52YWx1ZXNbbl0mJnMucHVzaChuKTtyZXR1cm4gc30sby5wcm90b3R5cGUuaXNFcXVhbFRvPWZ1bmN0aW9uKGUpe3JldHVybiB0KHRoaXMudG9BcnJheSgpLHIoZSkudG9BcnJheSgpKX0sby5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5nZXRLZXlzKCkubGVuZ3RofSxvLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybihudWxsIT10aGlzLmFycmF5P3RoaXMuYXJyYXk6dGhpcy5hcnJheT1mdW5jdGlvbigpe3ZhciBpO2U9W10saT10aGlzLnZhbHVlcztmb3IodCBpbiBpKW49aVt0XSxlLnB1c2godCxuKTtyZXR1cm4gZX0uY2FsbCh0aGlzKSkuc2xpY2UoMCl9LG8ucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcy52YWx1ZXMpfSxvLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b09iamVjdCgpfSxvLnByb3RvdHlwZS5jb250ZW50c0Zvckluc3BlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm57dmFsdWVzOkpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWVzKX19LHU9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbj17fSxuW3RdPWUsbn0sYT1mdW5jdGlvbih0LGUpe3ZhciBuLGksbztpPXModCk7Zm9yKG4gaW4gZSlvPWVbbl0saVtuXT1vO3JldHVybiBpfSxzPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvLHIscztmb3Iocj17fSxzPU9iamVjdC5rZXlzKHQpLnNvcnQoKSxuPTAsbz1zLmxlbmd0aDtvPm47bisrKWk9c1tuXSxpIT09ZSYmKHJbaV09dFtpXSk7cmV0dXJuIHJ9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlLkhhc2g/dDpuZXcgZS5IYXNoKHQpfSxjPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZS5IYXNoP3QudmFsdWVzOnR9LG99KGUuT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe2UuT2JqZWN0R3JvdXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG4saTt0aGlzLm9iamVjdHM9bnVsbCE9dD90OltdLGk9ZS5kZXB0aCxuPWUuYXNUcmVlLG4mJih0aGlzLmRlcHRoPWksdGhpcy5vYmplY3RzPXRoaXMuY29uc3RydWN0b3IuZ3JvdXBPYmplY3RzKHRoaXMub2JqZWN0cyx7YXNUcmVlOm4sZGVwdGg6dGhpcy5kZXB0aCsxfSkpfXJldHVybiB0Lmdyb3VwT2JqZWN0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGksbyxyLHMsYSx1LGMsbDtmb3IobnVsbD09dCYmKHQ9W10pLGw9bnVsbCE9ZT9lOnt9LG89bC5kZXB0aCxuPWwuYXNUcmVlLG4mJm51bGw9PW8mJihvPTApLGM9W10scz0wLGE9dC5sZW5ndGg7YT5zO3MrKyl7aWYodT10W3NdLHIpe2lmKChcImZ1bmN0aW9uXCI9PXR5cGVvZiB1LmNhbkJlR3JvdXBlZD91LmNhbkJlR3JvdXBlZChvKTp2b2lkIDApJiYoXCJmdW5jdGlvblwiPT10eXBlb2YoaT1yW3IubGVuZ3RoLTFdKS5jYW5CZUdyb3VwZWRXaXRoP2kuY2FuQmVHcm91cGVkV2l0aCh1LG8pOnZvaWQgMCkpe3IucHVzaCh1KTtjb250aW51ZX1jLnB1c2gobmV3IHRoaXMocix7ZGVwdGg6byxhc1RyZWU6bn0pKSxyPW51bGx9KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUuY2FuQmVHcm91cGVkP3UuY2FuQmVHcm91cGVkKG8pOnZvaWQgMCk/cj1bdV06Yy5wdXNoKHUpfXJldHVybiByJiZjLnB1c2gobmV3IHRoaXMocix7ZGVwdGg6byxhc1RyZWU6bn0pKSxjfSx0LnByb3RvdHlwZS5nZXRPYmplY3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JqZWN0c30sdC5wcm90b3R5cGUuZ2V0RGVwdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZXB0aH0sdC5wcm90b3R5cGUuZ2V0Q2FjaGVLZXk9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvO2ZvcihlPVtcIm9iamVjdEdyb3VwXCJdLG89dGhpcy5nZXRPYmplY3RzKCksdD0wLG49by5sZW5ndGg7bj50O3QrKylpPW9bdF0sZS5wdXNoKGkuZ2V0Q2FjaGVLZXkoKSk7cmV0dXJuIGUuam9pbihcIi9cIil9LHR9KCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBvIGluIGUpbi5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiBpLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgaSx0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxuPXt9Lmhhc093blByb3BlcnR5O2UuT2JqZWN0TWFwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCl7dmFyIGUsbixpLG8scjtmb3IobnVsbD09dCYmKHQ9W10pLHRoaXMub2JqZWN0cz17fSxpPTAsbz10Lmxlbmd0aDtvPmk7aSsrKXI9dFtpXSxuPUpTT04uc3RyaW5naWZ5KHIpLG51bGw9PShlPXRoaXMub2JqZWN0cylbbl0mJihlW25dPXIpfXJldHVybiB0KG4sZSksbi5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1KU09OLnN0cmluZ2lmeSh0KSx0aGlzLm9iamVjdHNbZV19LG59KGUuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ZS5FbGVtZW50U3RvcmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMucmVzZXQodCl9dmFyIGU7cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gbj1lKHQpLHRoaXMuZWxlbWVudHNbbl09dH0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBuLGk7cmV0dXJuIG49ZSh0KSwoaT10aGlzLmVsZW1lbnRzW25dKT8oZGVsZXRlIHRoaXMuZWxlbWVudHNbbl0saSk6dm9pZCAwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXt2YXIgZSxuLGk7Zm9yKG51bGw9PXQmJih0PVtdKSx0aGlzLmVsZW1lbnRzPXt9LG49MCxpPXQubGVuZ3RoO2k+bjtuKyspZT10W25dLHRoaXMuYWRkKGUpO3JldHVybiB0fSxlPWZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGFzZXQudHJpeFN0b3JlS2V5fSx0fSgpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKW4uY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sbj17fS5oYXNPd25Qcm9wZXJ0eTtlLk9wZXJhdGlvbj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG4uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdChuLGUpLG4ucHJvdG90eXBlLmlzUGVyZm9ybWluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlcmZvcm1pbmc9PT0hMH0sbi5wcm90b3R5cGUuaGFzUGVyZm9ybWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVyZm9ybWVkPT09ITB9LG4ucHJvdG90eXBlLmhhc1N1Y2NlZWRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlcmZvcm1lZCYmdGhpcy5zdWNjZWVkZWR9LG4ucHJvdG90eXBlLmhhc0ZhaWxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlcmZvcm1lZCYmIXRoaXMuc3VjY2VlZGVkfSxuLnByb3RvdHlwZS5nZXRQcm9taXNlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucHJvbWlzZT90aGlzLnByb21pc2U6dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiB0LnBlcmZvcm1pbmc9ITAsdC5wZXJmb3JtKGZ1bmN0aW9uKGksbyl7cmV0dXJuIHQuc3VjY2VlZGVkPWksdC5wZXJmb3JtaW5nPSExLHQucGVyZm9ybWVkPSEwLHQuc3VjY2VlZGVkP2Uobyk6bihvKX0pfX0odGhpcykpfSxuLnByb3RvdHlwZS5wZXJmb3JtPWZ1bmN0aW9uKHQpe3JldHVybiB0KCExKX0sbi5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnByb21pc2UpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNhbmNlbCYmdC5jYW5jZWwoKSx0aGlzLnByb21pc2U9bnVsbCx0aGlzLnBlcmZvcm1pbmc9bnVsbCx0aGlzLnBlcmZvcm1lZD1udWxsLHRoaXMuc3VjY2VlZGVkPW51bGx9LG4ucHJveHlNZXRob2QoXCJnZXRQcm9taXNlKCkudGhlblwiKSxuLnByb3h5TWV0aG9kKFwiZ2V0UHJvbWlzZSgpLmNhdGNoXCIpLG59KGUuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scixzPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gZSlhLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LGE9e30uaGFzT3duUHJvcGVydHk7ZS5VVEYxNlN0cmluZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7dGhpcy51Y3MyU3RyaW5nPXQsdGhpcy5jb2RlcG9pbnRzPWUsdGhpcy5sZW5ndGg9dGhpcy5jb2RlcG9pbnRzLmxlbmd0aCx0aGlzLnVjczJMZW5ndGg9dGhpcy51Y3MyU3RyaW5nLmxlbmd0aH1yZXR1cm4gcyhlLHQpLGUuYm94PWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10JiYodD1cIlwiKSx0IGluc3RhbmNlb2YgdGhpcz90OnRoaXMuZnJvbVVDUzJTdHJpbmcobnVsbCE9dD90LnRvU3RyaW5nKCk6dm9pZCAwKX0sZS5mcm9tVUNTMlN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXModCxvKHQpKX0sZS5mcm9tQ29kZXBvaW50cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMocih0KSx0KX0sZS5wcm90b3R5cGUub2Zmc2V0VG9VQ1MyT2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMuY29kZXBvaW50cy5zbGljZSgwLE1hdGgubWF4KDAsdCkpKS5sZW5ndGh9LGUucHJvdG90eXBlLm9mZnNldEZyb21VQ1MyT2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiBvKHRoaXMudWNzMlN0cmluZy5zbGljZSgwLE1hdGgubWF4KDAsdCkpKS5sZW5ndGh9LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuZnJvbUNvZGVwb2ludHMoKHQ9dGhpcy5jb2RlcG9pbnRzKS5zbGljZS5hcHBseSh0LGFyZ3VtZW50cykpfSxlLnByb3RvdHlwZS5jaGFyQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2xpY2UodCx0KzEpfSxlLnByb3RvdHlwZS5pc0VxdWFsVG89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuYm94KHQpLnVjczJTdHJpbmc9PT10aGlzLnVjczJTdHJpbmd9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVjczJTdHJpbmd9LGUucHJvdG90eXBlLmdldENhY2hlS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWNzMlN0cmluZ30sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51Y3MyU3RyaW5nfSxlfShlLkJhc2ljT2JqZWN0KSx0PTE9PT0oXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkuZnJvbT9BcnJheS5mcm9tKFwiXFx1ZDgzZFxcdWRjN2NcIikubGVuZ3RoOnZvaWQgMCksbj1udWxsIT0oXCJmdW5jdGlvblwiPT10eXBlb2ZcIiBcIi5jb2RlUG9pbnRBdD9cIiBcIi5jb2RlUG9pbnRBdCgwKTp2b2lkIDApLGk9XCIgXFx1ZDgzZFxcdWRjN2NcIj09PShcImZ1bmN0aW9uXCI9PXR5cGVvZiBTdHJpbmcuZnJvbUNvZGVQb2ludD9TdHJpbmcuZnJvbUNvZGVQb2ludCgzMiwxMjgxMjQpOnZvaWQgMCksbz10JiZuP2Z1bmN0aW9uKHQpe3JldHVybiBBcnJheS5mcm9tKHQpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlUG9pbnRBdCgwKX0pfTpmdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyO2ZvcihvPVtdLGU9MCxpPXQubGVuZ3RoO2k+ZTspcj10LmNoYXJDb2RlQXQoZSsrKSxyPj01NTI5NiYmNTYzMTk+PXImJmk+ZSYmKG49dC5jaGFyQ29kZUF0KGUrKyksNTYzMjA9PT0oNjQ1MTImbik/cj0oKDEwMjMmcik8PDEwKSsoMTAyMyZuKSs2NTUzNjplLS0pLG8ucHVzaChyKTtyZXR1cm4gb30scj1pP2Z1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludC5hcHBseShTdHJpbmcsdCl9OmZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gZT1mdW5jdGlvbigpe3ZhciBlLG8scjtmb3Iocj1bXSxlPTAsbz10Lmxlbmd0aDtvPmU7ZSsrKWk9dFtlXSxuPVwiXCIsaT42NTUzNSYmKGktPTY1NTM2LG4rPVN0cmluZy5mcm9tQ2hhckNvZGUoaT4+PjEwJjEwMjN8NTUyOTYpLGk9NTYzMjB8MTAyMyZpKSxyLnB1c2gobitTdHJpbmcuZnJvbUNoYXJDb2RlKGkpKTtyZXR1cm4gcn0oKSxlLmpvaW4oXCJcIil9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ZS5jb25maWcubGFuZz17YXR0YWNoRmlsZXM6XCJBdHRhY2ggRmlsZXNcIixib2xkOlwiQm9sZFwiLGJ1bGxldHM6XCJCdWxsZXRzXCIsXCJieXRlXCI6XCJCeXRlXCIsYnl0ZXM6XCJCeXRlc1wiLGNhcHRpb25QbGFjZWhvbGRlcjpcIkFkZCBhIGNhcHRpb25cXHUyMDI2XCIsY29kZTpcIkNvZGVcIixoZWFkaW5nMTpcIkhlYWRpbmdcIixpbmRlbnQ6XCJJbmNyZWFzZSBMZXZlbFwiLGl0YWxpYzpcIkl0YWxpY1wiLGxpbms6XCJMaW5rXCIsbnVtYmVyczpcIk51bWJlcnNcIixvdXRkZW50OlwiRGVjcmVhc2UgTGV2ZWxcIixxdW90ZTpcIlF1b3RlXCIscmVkbzpcIlJlZG9cIixyZW1vdmU6XCJSZW1vdmVcIixzdHJpa2U6XCJTdHJpa2V0aHJvdWdoXCIsdW5kbzpcIlVuZG9cIix1bmxpbms6XCJVbmxpbmtcIix1cmw6XCJVUkxcIix1cmxQbGFjZWhvbGRlcjpcIkVudGVyIGEgVVJMXFx1MjAyNlwiLEdCOlwiR0JcIixLQjpcIktCXCIsTUI6XCJNQlwiLFBCOlwiUEJcIixUQjpcIlRCXCJ9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ZS5jb25maWcuY3NzPXthdHRhY2htZW50OlwiYXR0YWNobWVudFwiLGF0dGFjaG1lbnRDYXB0aW9uOlwiYXR0YWNobWVudF9fY2FwdGlvblwiLGF0dGFjaG1lbnRDYXB0aW9uRWRpdG9yOlwiYXR0YWNobWVudF9fY2FwdGlvbi1lZGl0b3JcIixhdHRhY2htZW50TWV0YWRhdGE6XCJhdHRhY2htZW50X19tZXRhZGF0YVwiLGF0dGFjaG1lbnRNZXRhZGF0YUNvbnRhaW5lcjpcImF0dGFjaG1lbnRfX21ldGFkYXRhLWNvbnRhaW5lclwiLGF0dGFjaG1lbnROYW1lOlwiYXR0YWNobWVudF9fbmFtZVwiLGF0dGFjaG1lbnRQcm9ncmVzczpcImF0dGFjaG1lbnRfX3Byb2dyZXNzXCIsYXR0YWNobWVudFNpemU6XCJhdHRhY2htZW50X19zaXplXCIsYXR0YWNobWVudFRvb2xiYXI6XCJhdHRhY2htZW50X190b29sYmFyXCIsYXR0YWNobWVudEdhbGxlcnk6XCJhdHRhY2htZW50LWdhbGxlcnlcIn19LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdDtlLmNvbmZpZy5ibG9ja0F0dHJpYnV0ZXM9dD17XCJkZWZhdWx0XCI6e3RhZ05hbWU6XCJkaXZcIixwYXJzZTohMX0scXVvdGU6e3RhZ05hbWU6XCJibG9ja3F1b3RlXCIsbmVzdGFibGU6ITB9LGhlYWRpbmcxOnt0YWdOYW1lOlwiaDFcIix0ZXJtaW5hbDohMCxicmVha09uUmV0dXJuOiEwLGdyb3VwOiExfSxjb2RlOnt0YWdOYW1lOlwicHJlXCIsdGVybWluYWw6ITAsdGV4dDp7cGxhaW50ZXh0OiEwfX0sYnVsbGV0TGlzdDp7dGFnTmFtZTpcInVsXCIscGFyc2U6ITF9LGJ1bGxldDp7dGFnTmFtZTpcImxpXCIsbGlzdEF0dHJpYnV0ZTpcImJ1bGxldExpc3RcIixncm91cDohMSxuZXN0YWJsZTohMCx0ZXN0OmZ1bmN0aW9uKG4pe3JldHVybiBlLnRhZ05hbWUobi5wYXJlbnROb2RlKT09PXRbdGhpcy5saXN0QXR0cmlidXRlXS50YWdOYW1lfX0sbnVtYmVyTGlzdDp7dGFnTmFtZTpcIm9sXCIscGFyc2U6ITF9LG51bWJlcjp7dGFnTmFtZTpcImxpXCIsbGlzdEF0dHJpYnV0ZTpcIm51bWJlckxpc3RcIixncm91cDohMSxuZXN0YWJsZTohMCx0ZXN0OmZ1bmN0aW9uKG4pe3JldHVybiBlLnRhZ05hbWUobi5wYXJlbnROb2RlKT09PXRbdGhpcy5saXN0QXR0cmlidXRlXS50YWdOYW1lfX0sYXR0YWNobWVudEdhbGxlcnk6e3RhZ05hbWU6XCJkaXZcIixleGNsdXNpdmU6ITAsdGVybWluYWw6ITAscGFyc2U6ITEsZ3JvdXA6ITF9fX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG47dD1lLmNvbmZpZy5sYW5nLG49W3QuYnl0ZXMsdC5LQix0Lk1CLHQuR0IsdC5UQix0LlBCXSxlLmNvbmZpZy5maWxlU2l6ZT17cHJlZml4OlwiSUVDXCIscHJlY2lzaW9uOjIsZm9ybWF0dGVyOmZ1bmN0aW9uKGUpe3ZhciBpLG8scixzLGE7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm5cIjAgXCIrdC5ieXRlcztjYXNlIDE6cmV0dXJuXCIxIFwiK3QuYnl0ZTtkZWZhdWx0OnJldHVybiBpPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMucHJlZml4KXtjYXNlXCJTSVwiOnJldHVybiAxZTM7Y2FzZVwiSUVDXCI6cmV0dXJuIDEwMjR9fS5jYWxsKHRoaXMpLG89TWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLmxvZyhpKSkscj1lL01hdGgucG93KGksbykscz1yLnRvRml4ZWQodGhpcy5wcmVjaXNpb24pLGE9cy5yZXBsYWNlKC8wKiQvLFwiXCIpLnJlcGxhY2UoL1xcLiQvLFwiXCIpLGErXCIgXCIrbltvXX19fX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe2UuY29uZmlnLnRleHRBdHRyaWJ1dGVzPXtib2xkOnt0YWdOYW1lOlwic3Ryb25nXCIsaW5oZXJpdGFibGU6ITAscGFyc2VyOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLFwiYm9sZFwiPT09ZS5mb250V2VpZ2h0fHxlLmZvbnRXZWlnaHQ+PTYwMH19LGl0YWxpYzp7dGFnTmFtZTpcImVtXCIsaW5oZXJpdGFibGU6ITAscGFyc2VyOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLFwiaXRhbGljXCI9PT1lLmZvbnRTdHlsZX19LGhyZWY6e2dyb3VwVGFnTmFtZTpcImFcIixwYXJzZXI6ZnVuY3Rpb24odCl7dmFyIG4saSxvO3JldHVybiBuPWUuQXR0YWNobWVudFZpZXcuYXR0YWNobWVudFNlbGVjdG9yLG89XCJhOm5vdChcIituK1wiKVwiLChpPWUuZmluZENsb3Nlc3RFbGVtZW50RnJvbU5vZGUodCx7bWF0Y2hpbmdTZWxlY3RvcjpvfSkpP2kuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTp2b2lkIDB9fSxzdHJpa2U6e3RhZ05hbWU6XCJkZWxcIixpbmhlcml0YWJsZTohMH0sZnJvemVuOntzdHlsZTp7YmFja2dyb3VuZENvbG9yOlwiaGlnaGxpZ2h0XCJ9fX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxuLGksbyxyO3I9XCJbZGF0YS10cml4LXNlcmlhbGl6ZT1mYWxzZV1cIixvPVtcImNvbnRlbnRlZGl0YWJsZVwiLFwiZGF0YS10cml4LWlkXCIsXCJkYXRhLXRyaXgtc3RvcmUta2V5XCIsXCJkYXRhLXRyaXgtbXV0YWJsZVwiLFwiZGF0YS10cml4LXBsYWNlaG9sZGVyXCIsXCJ0YWJpbmRleFwiXSxuPVwiZGF0YS10cml4LXNlcmlhbGl6ZWQtYXR0cmlidXRlc1wiLGk9XCJbXCIrbitcIl1cIix0PW5ldyBSZWdFeHAoXCI8IS0tYmxvY2stLT5cIixcImdcIiksZS5leHRlbmQoe3NlcmlhbGl6ZXJzOntcImFwcGxpY2F0aW9uL2pzb25cIjpmdW5jdGlvbih0KXt2YXIgbjtpZih0IGluc3RhbmNlb2YgZS5Eb2N1bWVudCluPXQ7ZWxzZXtpZighKHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpdGhyb3cgbmV3IEVycm9yKFwidW5zZXJpYWxpemFibGUgb2JqZWN0XCIpO249ZS5Eb2N1bWVudC5mcm9tSFRNTCh0LmlubmVySFRNTCl9cmV0dXJuIG4udG9TZXJpYWxpemFibGVEb2N1bWVudCgpLnRvSlNPTlN0cmluZygpfSxcInRleHQvaHRtbFwiOmZ1bmN0aW9uKHMpe3ZhciBhLHUsYyxsLGgscCxkLGYsZyxtLHksdixiLEEseCxDLFM7aWYocyBpbnN0YW5jZW9mIGUuRG9jdW1lbnQpbD1lLkRvY3VtZW50Vmlldy5yZW5kZXIocyk7ZWxzZXtpZighKHMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpdGhyb3cgbmV3IEVycm9yKFwidW5zZXJpYWxpemFibGUgb2JqZWN0XCIpO2w9cy5jbG9uZU5vZGUoITApfWZvcihBPWwucXVlcnlTZWxlY3RvckFsbChyKSxoPTAsZz1BLmxlbmd0aDtnPmg7aCsrKWM9QVtoXSxlLnJlbW92ZU5vZGUoYyk7Zm9yKHA9MCxtPW8ubGVuZ3RoO20+cDtwKyspZm9yKGE9b1twXSx4PWwucXVlcnlTZWxlY3RvckFsbChcIltcIithK1wiXVwiKSxkPTAseT14Lmxlbmd0aDt5PmQ7ZCsrKWM9eFtkXSxjLnJlbW92ZUF0dHJpYnV0ZShhKTtmb3IoQz1sLnF1ZXJ5U2VsZWN0b3JBbGwoaSksZj0wLHY9Qy5sZW5ndGg7dj5mO2YrKyl7Yz1DW2ZdO3RyeXt1PUpTT04ucGFyc2UoYy5nZXRBdHRyaWJ1dGUobikpLGMucmVtb3ZlQXR0cmlidXRlKG4pO2ZvcihiIGluIHUpUz11W2JdLGMuc2V0QXR0cmlidXRlKGIsUyl9Y2F0Y2goUil7fX1yZXR1cm4gbC5pbm5lckhUTUwucmVwbGFjZSh0LFwiXCIpfX0sZGVzZXJpYWxpemVyczp7XCJhcHBsaWNhdGlvbi9qc29uXCI6ZnVuY3Rpb24odCl7cmV0dXJuIGUuRG9jdW1lbnQuZnJvbUpTT05TdHJpbmcodCl9LFwidGV4dC9odG1sXCI6ZnVuY3Rpb24odCl7cmV0dXJuIGUuRG9jdW1lbnQuZnJvbUhUTUwodCl9fSxzZXJpYWxpemVUb0NvbnRlbnRUeXBlOmZ1bmN0aW9uKHQsbil7dmFyIGk7aWYoaT1lLnNlcmlhbGl6ZXJzW25dKXJldHVybiBpKHQpO3Rocm93IG5ldyBFcnJvcihcInVua25vd24gY29udGVudCB0eXBlOiBcIituKX0sZGVzZXJpYWxpemVGcm9tQ29udGVudFR5cGU6ZnVuY3Rpb24odCxuKXt2YXIgaTtpZihpPWUuZGVzZXJpYWxpemVyc1tuXSlyZXR1cm4gaSh0KTt0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGNvbnRlbnQgdHlwZTogXCIrbil9fSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdDt0PWUuY29uZmlnLmxhbmcsZS5jb25maWcudG9vbGJhcj17Z2V0RGVmYXVsdEhUTUw6ZnVuY3Rpb24oKXtyZXR1cm4nPGRpdiBjbGFzcz1cInRyaXgtYnV0dG9uLXJvd1wiPlxcbiAgPHNwYW4gY2xhc3M9XCJ0cml4LWJ1dHRvbi1ncm91cCB0cml4LWJ1dHRvbi1ncm91cC0tdGV4dC10b29sc1wiIGRhdGEtdHJpeC1idXR0b24tZ3JvdXA9XCJ0ZXh0LXRvb2xzXCI+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tYm9sZFwiIGRhdGEtdHJpeC1hdHRyaWJ1dGU9XCJib2xkXCIgZGF0YS10cml4LWtleT1cImJcIiB0aXRsZT1cIicrdC5ib2xkKydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0LmJvbGQrJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWl0YWxpY1wiIGRhdGEtdHJpeC1hdHRyaWJ1dGU9XCJpdGFsaWNcIiBkYXRhLXRyaXgta2V5PVwiaVwiIHRpdGxlPVwiJyt0Lml0YWxpYysnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5pdGFsaWMrJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLXN0cmlrZVwiIGRhdGEtdHJpeC1hdHRyaWJ1dGU9XCJzdHJpa2VcIiB0aXRsZT1cIicrdC5zdHJpa2UrJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3Quc3RyaWtlKyc8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1saW5rXCIgZGF0YS10cml4LWF0dHJpYnV0ZT1cImhyZWZcIiBkYXRhLXRyaXgtYWN0aW9uPVwibGlua1wiIGRhdGEtdHJpeC1rZXk9XCJrXCIgdGl0bGU9XCInK3QubGluaysnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5saW5rKyc8L2J1dHRvbj5cXG4gIDwvc3Bhbj5cXG5cXG4gIDxzcGFuIGNsYXNzPVwidHJpeC1idXR0b24tZ3JvdXAgdHJpeC1idXR0b24tZ3JvdXAtLWJsb2NrLXRvb2xzXCIgZGF0YS10cml4LWJ1dHRvbi1ncm91cD1cImJsb2NrLXRvb2xzXCI+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24taGVhZGluZy0xXCIgZGF0YS10cml4LWF0dHJpYnV0ZT1cImhlYWRpbmcxXCIgdGl0bGU9XCInK3QuaGVhZGluZzErJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3QuaGVhZGluZzErJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLXF1b3RlXCIgZGF0YS10cml4LWF0dHJpYnV0ZT1cInF1b3RlXCIgdGl0bGU9XCInK3QucXVvdGUrJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3QucXVvdGUrJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWNvZGVcIiBkYXRhLXRyaXgtYXR0cmlidXRlPVwiY29kZVwiIHRpdGxlPVwiJyt0LmNvZGUrJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3QuY29kZSsnPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tYnVsbGV0LWxpc3RcIiBkYXRhLXRyaXgtYXR0cmlidXRlPVwiYnVsbGV0XCIgdGl0bGU9XCInK3QuYnVsbGV0cysnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5idWxsZXRzKyc8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1udW1iZXItbGlzdFwiIGRhdGEtdHJpeC1hdHRyaWJ1dGU9XCJudW1iZXJcIiB0aXRsZT1cIicrdC5udW1iZXJzKydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0Lm51bWJlcnMrJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWRlY3JlYXNlLW5lc3RpbmctbGV2ZWxcIiBkYXRhLXRyaXgtYWN0aW9uPVwiZGVjcmVhc2VOZXN0aW5nTGV2ZWxcIiB0aXRsZT1cIicrdC5vdXRkZW50KydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0Lm91dGRlbnQrJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWluY3JlYXNlLW5lc3RpbmctbGV2ZWxcIiBkYXRhLXRyaXgtYWN0aW9uPVwiaW5jcmVhc2VOZXN0aW5nTGV2ZWxcIiB0aXRsZT1cIicrdC5pbmRlbnQrJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3QuaW5kZW50Kyc8L2J1dHRvbj5cXG4gIDwvc3Bhbj5cXG5cXG4gIDxzcGFuIGNsYXNzPVwidHJpeC1idXR0b24tZ3JvdXAgdHJpeC1idXR0b24tZ3JvdXAtLWZpbGUtdG9vbHNcIiBkYXRhLXRyaXgtYnV0dG9uLWdyb3VwPVwiZmlsZS10b29sc1wiPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWF0dGFjaFwiIGRhdGEtdHJpeC1hY3Rpb249XCJhdHRhY2hGaWxlc1wiIHRpdGxlPVwiJyt0LmF0dGFjaEZpbGVzKydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0LmF0dGFjaEZpbGVzKyc8L2J1dHRvbj5cXG4gIDwvc3Bhbj5cXG5cXG4gIDxzcGFuIGNsYXNzPVwidHJpeC1idXR0b24tZ3JvdXAtc3BhY2VyXCI+PC9zcGFuPlxcblxcbiAgPHNwYW4gY2xhc3M9XCJ0cml4LWJ1dHRvbi1ncm91cCB0cml4LWJ1dHRvbi1ncm91cC0taGlzdG9yeS10b29sc1wiIGRhdGEtdHJpeC1idXR0b24tZ3JvdXA9XCJoaXN0b3J5LXRvb2xzXCI+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tdW5kb1wiIGRhdGEtdHJpeC1hY3Rpb249XCJ1bmRvXCIgZGF0YS10cml4LWtleT1cInpcIiB0aXRsZT1cIicrdC51bmRvKydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0LnVuZG8rJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLXJlZG9cIiBkYXRhLXRyaXgtYWN0aW9uPVwicmVkb1wiIGRhdGEtdHJpeC1rZXk9XCJzaGlmdCt6XCIgdGl0bGU9XCInK3QucmVkbysnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5yZWRvKyc8L2J1dHRvbj5cXG4gIDwvc3Bhbj5cXG48L2Rpdj5cXG5cXG48ZGl2IGNsYXNzPVwidHJpeC1kaWFsb2dzXCIgZGF0YS10cml4LWRpYWxvZ3M+XFxuICA8ZGl2IGNsYXNzPVwidHJpeC1kaWFsb2cgdHJpeC1kaWFsb2ctLWxpbmtcIiBkYXRhLXRyaXgtZGlhbG9nPVwiaHJlZlwiIGRhdGEtdHJpeC1kaWFsb2ctYXR0cmlidXRlPVwiaHJlZlwiPlxcbiAgICA8ZGl2IGNsYXNzPVwidHJpeC1kaWFsb2dfX2xpbmstZmllbGRzXCI+XFxuICAgICAgPGlucHV0IHR5cGU9XCJ1cmxcIiBuYW1lPVwiaHJlZlwiIGNsYXNzPVwidHJpeC1pbnB1dCB0cml4LWlucHV0LS1kaWFsb2dcIiBwbGFjZWhvbGRlcj1cIicrdC51cmxQbGFjZWhvbGRlcisnXCIgYXJpYS1sYWJlbD1cIicrdC51cmwrJ1wiIHJlcXVpcmVkIGRhdGEtdHJpeC1pbnB1dD5cXG4gICAgICA8ZGl2IGNsYXNzPVwidHJpeC1idXR0b24tZ3JvdXBcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0tZGlhbG9nXCIgdmFsdWU9XCInK3QubGluaysnXCIgZGF0YS10cml4LW1ldGhvZD1cInNldEF0dHJpYnV0ZVwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1kaWFsb2dcIiB2YWx1ZT1cIicrdC51bmxpbmsrJ1wiIGRhdGEtdHJpeC1tZXRob2Q9XCJyZW1vdmVBdHRyaWJ1dGVcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L2Rpdj4nfX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXtlLmNvbmZpZy51bmRvSW50ZXJ2YWw9NWUzfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ZS5jb25maWcuYXR0YWNobWVudHM9e3ByZXZpZXc6e3ByZXNlbnRhdGlvbjpcImdhbGxlcnlcIixjYXB0aW9uOntuYW1lOiEwLHNpemU6ITB9fSxmaWxlOntjYXB0aW9uOntzaXplOiEwfX19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ZS5jb25maWcua2V5TmFtZXM9ezg6XCJiYWNrc3BhY2VcIiw5OlwidGFiXCIsMTM6XCJyZXR1cm5cIiwyNzpcImVzY2FwZVwiLDM3OlwibGVmdFwiLDM5OlwicmlnaHRcIiw0NjpcImRlbGV0ZVwiLDY4OlwiZFwiLDcyOlwiaFwiLDc5Olwib1wifX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe2UuY29uZmlnLmlucHV0PXtsZXZlbDJFbmFibGVkOiEwLGdldExldmVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGV2ZWwyRW5hYmxlZCYmZS5icm93c2VyLnN1cHBvcnRzSW5wdXRFdmVudHM/MjowfSxwaWNrRmlsZXM6ZnVuY3Rpb24odCl7dmFyIG47cmV0dXJuIG49ZS5tYWtlRWxlbWVudChcImlucHV0XCIse3R5cGU6XCJmaWxlXCIsbXVsdGlwbGU6ITAsaGlkZGVuOiEwLGlkOnRoaXMuZmlsZUlucHV0SWR9KSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbigpe3JldHVybiB0KG4uZmlsZXMpLGUucmVtb3ZlTm9kZShuKX0pLGUucmVtb3ZlTm9kZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZpbGVJbnB1dElkKSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSxuLmNsaWNrKCl9LGZpbGVJbnB1dElkOlwidHJpeC1maWxlLWlucHV0LVwiK0RhdGUubm93KCkudG9TdHJpbmcoMTYpfX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe30uY2FsbCh0aGlzKSxmdW5jdGlvbigpe2UucmVnaXN0ZXJFbGVtZW50KFwidHJpeC10b29sYmFyXCIse2RlZmF1bHRDU1M6XCIldCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuJXQge1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuJXQgW2RhdGEtdHJpeC1kaWFsb2ddIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbiV0IFtkYXRhLXRyaXgtZGlhbG9nXVtkYXRhLXRyaXgtYWN0aXZlXSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuJXQgW2RhdGEtdHJpeC1kaWFsb2ddIFtkYXRhLXRyaXgtdmFsaWRhdGVdOmludmFsaWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZGRkZDtcXG59XCIsaW5pdGlhbGl6ZTpmdW5jdGlvbigpe3JldHVyblwiXCI9PT10aGlzLmlubmVySFRNTD90aGlzLmlubmVySFRNTD1lLmNvbmZpZy50b29sYmFyLmdldERlZmF1bHRIVE1MKCk6dm9pZCAwfX0pfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKW4uY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sbj17fS5oYXNPd25Qcm9wZXJ0eSxpPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfTtlLk9iamVjdFZpZXc9ZnVuY3Rpb24obil7ZnVuY3Rpb24gbyh0LGUpe3RoaXMub2JqZWN0PXQsdGhpcy5vcHRpb25zPW51bGwhPWU/ZTp7fSx0aGlzLmNoaWxkVmlld3M9W10sdGhpcy5yb290Vmlldz10aGlzfXJldHVybiB0KG8sbiksby5wcm90b3R5cGUuZ2V0Tm9kZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvO2ZvcihudWxsPT10aGlzLm5vZGVzJiYodGhpcy5ub2Rlcz10aGlzLmNyZWF0ZU5vZGVzKCkpLGk9dGhpcy5ub2RlcyxvPVtdLHQ9MCxlPWkubGVuZ3RoO2U+dDt0Kyspbj1pW3RdLG8ucHVzaChuLmNsb25lTm9kZSghMCkpO3JldHVybiBvfSxvLnByb3RvdHlwZS5pbnZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMubm9kZXM9bnVsbCx0aGlzLmNoaWxkVmlld3M9W10sbnVsbCE9KHQ9dGhpcy5wYXJlbnRWaWV3KT90LmludmFsaWRhdGUoKTp2b2lkIDB9LG8ucHJvdG90eXBlLmludmFsaWRhdGVWaWV3Rm9yT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmZpbmRWaWV3Rm9yT2JqZWN0KHQpKT9lLmludmFsaWRhdGUoKTp2b2lkIDB9LG8ucHJvdG90eXBlLmZpbmRPckNyZWF0ZUNhY2hlZENoaWxkVmlldz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybihuPXRoaXMuZ2V0Q2FjaGVkVmlld0Zvck9iamVjdChlKSk/dGhpcy5yZWNvcmRDaGlsZFZpZXcobik6KG49dGhpcy5jcmVhdGVDaGlsZFZpZXcuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuY2FjaGVWaWV3Rm9yT2JqZWN0KG4sZSkpLG59LG8ucHJvdG90eXBlLmNyZWF0ZUNoaWxkVmlldz1mdW5jdGlvbih0LG4saSl7dmFyIG87cmV0dXJuIG51bGw9PWkmJihpPXt9KSxuIGluc3RhbmNlb2YgZS5PYmplY3RHcm91cCYmKGkudmlld0NsYXNzPXQsdD1lLk9iamVjdEdyb3VwVmlldyksbz1uZXcgdChuLGkpLHRoaXMucmVjb3JkQ2hpbGRWaWV3KG8pfSxvLnByb3RvdHlwZS5yZWNvcmRDaGlsZFZpZXc9ZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyZW50Vmlldz10aGlzLHQucm9vdFZpZXc9dGhpcy5yb290Vmlldyx0aGlzLmNoaWxkVmlld3MucHVzaCh0KSx0fSxvLnByb3RvdHlwZS5nZXRBbGxDaGlsZFZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbztmb3Iobz1bXSxpPXRoaXMuY2hpbGRWaWV3cyxlPTAsbj1pLmxlbmd0aDtuPmU7ZSsrKXQ9aVtlXSxvLnB1c2godCksbz1vLmNvbmNhdCh0LmdldEFsbENoaWxkVmlld3MoKSk7cmV0dXJuIG99LG8ucHJvdG90eXBlLmZpbmRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmluZEVsZW1lbnRGb3JPYmplY3QodGhpcy5vYmplY3QpfSxvLnByb3RvdHlwZS5maW5kRWxlbWVudEZvck9iamVjdD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT1udWxsIT10P3QuaWQ6dm9pZCAwKT90aGlzLnJvb3RWaWV3LmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLXRyaXgtaWQ9J1wiK2UrXCInXVwiKTp2b2lkIDB9LG8ucHJvdG90eXBlLmZpbmRWaWV3Rm9yT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO2ZvcihpPXRoaXMuZ2V0QWxsQ2hpbGRWaWV3cygpLGU9MCxuPWkubGVuZ3RoO24+ZTtlKyspaWYobz1pW2VdLG8ub2JqZWN0PT09dClyZXR1cm4gb30sby5wcm90b3R5cGUuZ2V0Vmlld0NhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdFZpZXchPT10aGlzP3RoaXMucm9vdFZpZXcuZ2V0Vmlld0NhY2hlKCk6dGhpcy5pc1ZpZXdDYWNoaW5nRW5hYmxlZCgpP251bGwhPXRoaXMudmlld0NhY2hlP3RoaXMudmlld0NhY2hlOnRoaXMudmlld0NhY2hlPXt9OnZvaWQgMH0sby5wcm90b3R5cGUuaXNWaWV3Q2FjaGluZ0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaG91bGRDYWNoZVZpZXdzIT09ITF9LG8ucHJvdG90eXBlLmVuYWJsZVZpZXdDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hvdWxkQ2FjaGVWaWV3cz0hMFxufSxvLnByb3RvdHlwZS5kaXNhYmxlVmlld0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaG91bGRDYWNoZVZpZXdzPSExfSxvLnByb3RvdHlwZS5nZXRDYWNoZWRWaWV3Rm9yT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmdldFZpZXdDYWNoZSgpKT9lW3QuZ2V0Q2FjaGVLZXkoKV06dm9pZCAwfSxvLnByb3RvdHlwZS5jYWNoZVZpZXdGb3JPYmplY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9KG49dGhpcy5nZXRWaWV3Q2FjaGUoKSk/bltlLmdldENhY2hlS2V5KCldPXQ6dm9pZCAwfSxvLnByb3RvdHlwZS5nYXJiYWdlQ29sbGVjdENhY2hlZFZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLG8scixzO2lmKHQ9dGhpcy5nZXRWaWV3Q2FjaGUoKSl7cz10aGlzLmdldEFsbENoaWxkVmlld3MoKS5jb25jYXQodGhpcyksbj1mdW5jdGlvbigpe3ZhciB0LGUsbjtmb3Iobj1bXSx0PTAsZT1zLmxlbmd0aDtlPnQ7dCsrKXI9c1t0XSxuLnB1c2goci5vYmplY3QuZ2V0Q2FjaGVLZXkoKSk7cmV0dXJuIG59KCksbz1bXTtmb3IoZSBpbiB0KWkuY2FsbChuLGUpPDAmJm8ucHVzaChkZWxldGUgdFtlXSk7cmV0dXJuIG99fSxvfShlLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIG8gaW4gZSluLmNhbGwoZSxvKSYmKHRbb109ZVtvXSk7cmV0dXJuIGkucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBpLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG49e30uaGFzT3duUHJvcGVydHk7ZS5PYmplY3RHcm91cFZpZXc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLm9iamVjdEdyb3VwPXRoaXMub2JqZWN0LHRoaXMudmlld0NsYXNzPXRoaXMub3B0aW9ucy52aWV3Q2xhc3MsZGVsZXRlIHRoaXMub3B0aW9ucy52aWV3Q2xhc3N9cmV0dXJuIHQobixlKSxuLnByb3RvdHlwZS5nZXRDaGlsZFZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGk7aWYoIXRoaXMuY2hpbGRWaWV3cy5sZW5ndGgpZm9yKGk9dGhpcy5vYmplY3RHcm91cC5nZXRPYmplY3RzKCksdD0wLGU9aS5sZW5ndGg7ZT50O3QrKyluPWlbdF0sdGhpcy5maW5kT3JDcmVhdGVDYWNoZWRDaGlsZFZpZXcodGhpcy52aWV3Q2xhc3Msbix0aGlzLm9wdGlvbnMpO3JldHVybiB0aGlzLmNoaWxkVmlld3N9LG4ucHJvdG90eXBlLmNyZWF0ZU5vZGVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbyxyLHMsYSx1O2Zvcih0PXRoaXMuY3JlYXRlQ29udGFpbmVyRWxlbWVudCgpLHM9dGhpcy5nZXRDaGlsZFZpZXdzKCksZT0wLGk9cy5sZW5ndGg7aT5lO2UrKylmb3IodT1zW2VdLGE9dS5nZXROb2RlcygpLG49MCxvPWEubGVuZ3RoO28+bjtuKyspcj1hW25dLHQuYXBwZW5kQ2hpbGQocik7cmV0dXJuW3RdfSxuLnByb3RvdHlwZS5jcmVhdGVDb250YWluZXJFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10JiYodD10aGlzLm9iamVjdEdyb3VwLmdldERlcHRoKCkpLHRoaXMuZ2V0Q2hpbGRWaWV3cygpWzBdLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQodCl9LG59KGUuT2JqZWN0Vmlldyl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBvIGluIGUpbi5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiBpLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgaSx0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxuPXt9Lmhhc093blByb3BlcnR5O2UuQ29udHJvbGxlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG4uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdChuLGUpLG59KGUuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scixzLGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fSx1PWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gZSljLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LGM9e30uaGFzT3duUHJvcGVydHksbD1bXS5pbmRleE9mfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMubGVuZ3RoO24+ZTtlKyspaWYoZSBpbiB0aGlzJiZ0aGlzW2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX07dD1lLmZpbmRDbG9zZXN0RWxlbWVudEZyb21Ob2RlLGk9ZS5ub2RlSXNFbXB0eVRleHROb2RlLG49ZS5ub2RlSXNCbG9ja1N0YXJ0Q29tbWVudCxvPWUubm9ybWFsaXplU3BhY2VzLHI9ZS5zdW1tYXJpemVTdHJpbmdDaGFuZ2Uscz1lLnRhZ05hbWUsZS5NdXRhdGlvbk9ic2VydmVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGModCl7dGhpcy5lbGVtZW50PXQsdGhpcy5kaWRNdXRhdGU9YSh0aGlzLmRpZE11dGF0ZSx0aGlzKSx0aGlzLm9ic2VydmVyPW5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcih0aGlzLmRpZE11dGF0ZSksdGhpcy5zdGFydCgpfXZhciBoLHAsZCxmO3JldHVybiB1KGMsZSkscD1cImRhdGEtdHJpeC1tdXRhYmxlXCIsZD1cIltcIitwK1wiXVwiLGY9e2F0dHJpYnV0ZXM6ITAsY2hpbGRMaXN0OiEwLGNoYXJhY3RlckRhdGE6ITAsY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiEwLHN1YnRyZWU6ITB9LGMucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LGYpfSxjLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpfSxjLnByb3RvdHlwZS5kaWRNdXRhdGU9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4oZT10aGlzLm11dGF0aW9ucykucHVzaC5hcHBseShlLHRoaXMuZmluZFNpZ25pZmljYW50TXV0YXRpb25zKHQpKSx0aGlzLm11dGF0aW9ucy5sZW5ndGg/KG51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmVsZW1lbnREaWRNdXRhdGUmJm4uZWxlbWVudERpZE11dGF0ZSh0aGlzLmdldE11dGF0aW9uU3VtbWFyeSgpKSx0aGlzLnJlc2V0KCkpOnZvaWQgMH0sYy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRhdGlvbnM9W119LGMucHJvdG90eXBlLmZpbmRTaWduaWZpY2FudE11dGF0aW9ucz1mdW5jdGlvbih0KXt2YXIgZSxuLGksbztmb3Iobz1bXSxlPTAsbj10Lmxlbmd0aDtuPmU7ZSsrKWk9dFtlXSx0aGlzLm11dGF0aW9uSXNTaWduaWZpY2FudChpKSYmby5wdXNoKGkpO3JldHVybiBvfSxjLnByb3RvdHlwZS5tdXRhdGlvbklzU2lnbmlmaWNhbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG87aWYodGhpcy5ub2RlSXNNdXRhYmxlKHQudGFyZ2V0KSlyZXR1cm4hMTtmb3Iobz10aGlzLm5vZGVzTW9kaWZpZWRCeU11dGF0aW9uKHQpLGU9MCxuPW8ubGVuZ3RoO24+ZTtlKyspaWYoaT1vW2VdLHRoaXMubm9kZUlzU2lnbmlmaWNhbnQoaSkpcmV0dXJuITA7cmV0dXJuITF9LGMucHJvdG90eXBlLm5vZGVJc1NpZ25pZmljYW50PWZ1bmN0aW9uKHQpe3JldHVybiB0IT09dGhpcy5lbGVtZW50JiYhdGhpcy5ub2RlSXNNdXRhYmxlKHQpJiYhaSh0KX0sYy5wcm90b3R5cGUubm9kZUlzTXV0YWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gdChlLHttYXRjaGluZ1NlbGVjdG9yOmR9KX0sYy5wcm90b3R5cGUubm9kZXNNb2RpZmllZEJ5TXV0YXRpb249ZnVuY3Rpb24odCl7dmFyIGU7c3dpdGNoKGU9W10sdC50eXBlKXtjYXNlXCJhdHRyaWJ1dGVzXCI6dC5hdHRyaWJ1dGVOYW1lIT09cCYmZS5wdXNoKHQudGFyZ2V0KTticmVhaztjYXNlXCJjaGFyYWN0ZXJEYXRhXCI6ZS5wdXNoKHQudGFyZ2V0LnBhcmVudE5vZGUpLGUucHVzaCh0LnRhcmdldCk7YnJlYWs7Y2FzZVwiY2hpbGRMaXN0XCI6ZS5wdXNoLmFwcGx5KGUsdC5hZGRlZE5vZGVzKSxlLnB1c2guYXBwbHkoZSx0LnJlbW92ZWROb2Rlcyl9cmV0dXJuIGV9LGMucHJvdG90eXBlLmdldE11dGF0aW9uU3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRleHRNdXRhdGlvblN1bW1hcnkoKX0sYy5wcm90b3R5cGUuZ2V0VGV4dE11dGF0aW9uU3VtbWFyeT1mdW5jdGlvbigpe3ZhciB0LGUsbixpLG8scixzLGEsdSxjLGg7Zm9yKGE9dGhpcy5nZXRUZXh0Q2hhbmdlc0Zyb21DaGFyYWN0ZXJEYXRhKCksbj1hLmFkZGl0aW9ucyxvPWEuZGVsZXRpb25zLGg9dGhpcy5nZXRUZXh0Q2hhbmdlc0Zyb21DaGlsZExpc3QoKSx1PWguYWRkaXRpb25zLHI9MCxzPXUubGVuZ3RoO3M+cjtyKyspZT11W3JdLGwuY2FsbChuLGUpPDAmJm4ucHVzaChlKTtyZXR1cm4gby5wdXNoLmFwcGx5KG8saC5kZWxldGlvbnMpLGM9e30sKHQ9bi5qb2luKFwiXCIpKSYmKGMudGV4dEFkZGVkPXQpLChpPW8uam9pbihcIlwiKSkmJihjLnRleHREZWxldGVkPWkpLGN9LGMucHJvdG90eXBlLmdldE11dGF0aW9uc0J5VHlwZT1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyO2ZvcihvPXRoaXMubXV0YXRpb25zLHI9W10sZT0wLG49by5sZW5ndGg7bj5lO2UrKylpPW9bZV0saS50eXBlPT09dCYmci5wdXNoKGkpO3JldHVybiByfSxjLnByb3RvdHlwZS5nZXRUZXh0Q2hhbmdlc0Zyb21DaGlsZExpc3Q9ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLGEsdSxjLGwscCxkO2Zvcih0PVtdLHU9W10sYT10aGlzLmdldE11dGF0aW9uc0J5VHlwZShcImNoaWxkTGlzdFwiKSxlPTAscj1hLmxlbmd0aDtyPmU7ZSsrKXM9YVtlXSx0LnB1c2guYXBwbHkodCxzLmFkZGVkTm9kZXMpLHUucHVzaC5hcHBseSh1LHMucmVtb3ZlZE5vZGVzKTtyZXR1cm4gYz0wPT09dC5sZW5ndGgmJjE9PT11Lmxlbmd0aCYmbih1WzBdKSxjPyhwPVtdLGQ9W1wiXFxuXCJdKToocD1oKHQpLGQ9aCh1KSkse2FkZGl0aW9uczpmdW5jdGlvbigpe3ZhciB0LGUsbjtmb3Iobj1bXSxpPXQ9MCxlPXAubGVuZ3RoO2U+dDtpPSsrdClsPXBbaV0sbCE9PWRbaV0mJm4ucHVzaChvKGwpKTtyZXR1cm4gbn0oKSxkZWxldGlvbnM6ZnVuY3Rpb24oKXt2YXIgdCxlLG47Zm9yKG49W10saT10PTAsZT1kLmxlbmd0aDtlPnQ7aT0rK3QpbD1kW2ldLGwhPT1wW2ldJiZuLnB1c2gobyhsKSk7cmV0dXJuIG59KCl9fSxjLnByb3RvdHlwZS5nZXRUZXh0Q2hhbmdlc0Zyb21DaGFyYWN0ZXJEYXRhPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGkscyxhLHUsYztyZXR1cm4gZT10aGlzLmdldE11dGF0aW9uc0J5VHlwZShcImNoYXJhY3RlckRhdGFcIiksZS5sZW5ndGgmJihjPWVbMF0sbj1lW2UubGVuZ3RoLTFdLHM9byhjLm9sZFZhbHVlKSxpPW8obi50YXJnZXQuZGF0YSksYT1yKHMsaSksdD1hLmFkZGVkLHU9YS5yZW1vdmVkKSx7YWRkaXRpb25zOnQ/W3RdOltdLGRlbGV0aW9uczp1P1t1XTpbXX19LGg9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG87Zm9yKG51bGw9PXQmJih0PVtdKSxvPVtdLGU9MCxuPXQubGVuZ3RoO24+ZTtlKyspc3dpdGNoKGk9dFtlXSxpLm5vZGVUeXBlKXtjYXNlIE5vZGUuVEVYVF9OT0RFOm8ucHVzaChpLmRhdGEpO2JyZWFrO2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6XCJiclwiPT09cyhpKT9vLnB1c2goXCJcXG5cIik6by5wdXNoLmFwcGx5KG8saChpLmNoaWxkTm9kZXMpKX1yZXR1cm4gb30sY30oZS5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBvIGluIGUpbi5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiBpLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgaSx0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxuPXt9Lmhhc093blByb3BlcnR5O2UuRmlsZVZlcmlmaWNhdGlvbk9wZXJhdGlvbj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQpe3RoaXMuZmlsZT10fXJldHVybiB0KG4sZSksbi5wcm90b3R5cGUucGVyZm9ybT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1uZXcgRmlsZVJlYWRlcixlLm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdCghMSl9LGUub25sb2FkPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2Uub25lcnJvcj1udWxsO3RyeXtlLmFib3J0KCl9Y2F0Y2goaSl7fXJldHVybiB0KCEwLG4uZmlsZSl9fSh0aGlzKSxlLnJlYWRBc0FycmF5QnVmZmVyKHRoaXMuZmlsZSl9LG59KGUuT3BlcmF0aW9uKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIGUpby5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxvPXt9Lmhhc093blByb3BlcnR5O3Q9ZS5oYW5kbGVFdmVudCxuPWUuaW5uZXJFbGVtZW50SXNBY3RpdmUsZS5JbnB1dENvbnRyb2xsZXI9ZnVuY3Rpb24obyl7ZnVuY3Rpb24gcihuKXt2YXIgaTt0aGlzLmVsZW1lbnQ9bix0aGlzLm11dGF0aW9uT2JzZXJ2ZXI9bmV3IGUuTXV0YXRpb25PYnNlcnZlcih0aGlzLmVsZW1lbnQpLHRoaXMubXV0YXRpb25PYnNlcnZlci5kZWxlZ2F0ZT10aGlzO2ZvcihpIGluIHRoaXMuZXZlbnRzKXQoaSx7b25FbGVtZW50OnRoaXMuZWxlbWVudCx3aXRoQ2FsbGJhY2s6dGhpcy5oYW5kbGVyRm9yKGkpfSl9cmV0dXJuIGkocixvKSxyLnByb3RvdHlwZS5ldmVudHM9e30sci5wcm90b3R5cGUuZWxlbWVudERpZE11dGF0ZT1mdW5jdGlvbigpe30sci5wcm90b3R5cGUuZWRpdG9yV2lsbFN5bmNEb2N1bWVudFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRhdGlvbk9ic2VydmVyLnN0b3AoKX0sci5wcm90b3R5cGUuZWRpdG9yRGlkU3luY0RvY3VtZW50Vmlldz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuc3RhcnQoKX0sci5wcm90b3R5cGUucmVxdWVzdFJlbmRlcj1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5pbnB1dENvbnRyb2xsZXJEaWRSZXF1ZXN0UmVuZGVyP3QuaW5wdXRDb250cm9sbGVyRGlkUmVxdWVzdFJlbmRlcigpOnZvaWQgMH0sci5wcm90b3R5cGUucmVxdWVzdFJlcGFyc2U9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaW5wdXRDb250cm9sbGVyRGlkUmVxdWVzdFJlcGFyc2UmJnQuaW5wdXRDb250cm9sbGVyRGlkUmVxdWVzdFJlcGFyc2UoKSx0aGlzLnJlcXVlc3RSZW5kZXIoKX0sci5wcm90b3R5cGUuYXR0YWNoRmlsZXM9ZnVuY3Rpb24odCl7dmFyIG4saTtyZXR1cm4gaT1mdW5jdGlvbigpe3ZhciBpLG8scjtmb3Iocj1bXSxpPTAsbz10Lmxlbmd0aDtvPmk7aSsrKW49dFtpXSxyLnB1c2gobmV3IGUuRmlsZVZlcmlmaWNhdGlvbk9wZXJhdGlvbihuKSk7cmV0dXJuIHJ9KCksUHJvbWlzZS5hbGwoaSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFuZGxlSW5wdXQoZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKSYmdC5pbnB1dENvbnRyb2xsZXJXaWxsQXR0YWNoRmlsZXMoKSxudWxsIT0obj10aGlzLnJlc3BvbmRlcikmJm4uaW5zZXJ0RmlsZXMoZSksdGhpcy5yZXF1ZXN0UmVuZGVyKCl9KX19KHRoaXMpKX0sci5wcm90b3R5cGUuaGFuZGxlckZvcj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBpLmRlZmF1bHRQcmV2ZW50ZWQ/dm9pZCAwOmUuaGFuZGxlSW5wdXQoZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLmVsZW1lbnQpP3ZvaWQgMDoodGhpcy5ldmVudE5hbWU9dCx0aGlzLmV2ZW50c1t0XS5jYWxsKHRoaXMsaSkpfSl9fSh0aGlzKX0sci5wcm90b3R5cGUuaGFuZGxlSW5wdXQ9ZnVuY3Rpb24odCl7dmFyIGUsbjt0cnl7cmV0dXJuIG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxIYW5kbGVJbnB1dCgpLHQuY2FsbCh0aGlzKX1maW5hbGx5e251bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZuLmlucHV0Q29udHJvbGxlckRpZEhhbmRsZUlucHV0KCl9fSxyfShlLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saSxvLHIscyxhLHUsYyxsLGgscCxkLGY9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKWcuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sZz17fS5oYXNPd25Qcm9wZXJ0eSxtPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfTtjPWUubWFrZUVsZW1lbnQsbD1lLm9iamVjdHNBcmVFcXVhbCxkPWUudGFnTmFtZSxuPWUuYnJvd3NlcixhPWUua2V5RXZlbnRJc0tleWJvYXJkQ29tbWFuZCxvPWUuZGF0YVRyYW5zZmVySXNXcml0YWJsZSxpPWUuZGF0YVRyYW5zZmVySXNQbGFpblRleHQsdT1lLmNvbmZpZy5rZXlOYW1lcyxlLkxldmVsMElucHV0Q29udHJvbGxlcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBzKCl7cy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucmVzZXRJbnB1dFN1bW1hcnkoKX12YXIgZDtyZXR1cm4gZihzLG4pLGQ9MCxzLnByb3RvdHlwZS5zZXRJbnB1dFN1bW1hcnk9ZnVuY3Rpb24odCl7dmFyIGUsbjtudWxsPT10JiYodD17fSksdGhpcy5pbnB1dFN1bW1hcnkuZXZlbnROYW1lPXRoaXMuZXZlbnROYW1lO2ZvcihlIGluIHQpbj10W2VdLHRoaXMuaW5wdXRTdW1tYXJ5W2VdPW47cmV0dXJuIHRoaXMuaW5wdXRTdW1tYXJ5fSxzLnByb3RvdHlwZS5yZXNldElucHV0U3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0U3VtbWFyeT17fX0scy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNldElucHV0U3VtbWFyeSgpLGUuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXIucmVzZXQoKX0scy5wcm90b3R5cGUuZWxlbWVudERpZE11dGF0ZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5pc0NvbXBvc2luZygpP251bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmlucHV0Q29udHJvbGxlckRpZEFsbG93VW5oYW5kbGVkSW5wdXQ/ZS5pbnB1dENvbnRyb2xsZXJEaWRBbGxvd1VuaGFuZGxlZElucHV0KCk6dm9pZCAwOnRoaXMuaGFuZGxlSW5wdXQoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRhdGlvbklzU2lnbmlmaWNhbnQodCkmJih0aGlzLm11dGF0aW9uSXNFeHBlY3RlZCh0KT90aGlzLnJlcXVlc3RSZW5kZXIoKTp0aGlzLnJlcXVlc3RSZXBhcnNlKCkpLHRoaXMucmVzZXQoKX0pfSxzLnByb3RvdHlwZS5tdXRhdGlvbklzRXhwZWN0ZWQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8scixzLGEsdSxjLGw7cmV0dXJuIGE9dC50ZXh0QWRkZWQsdT10LnRleHREZWxldGVkLHRoaXMuaW5wdXRTdW1tYXJ5LnByZWZlckRvY3VtZW50PyEwOihlPW51bGwhPWE/YT09PXRoaXMuaW5wdXRTdW1tYXJ5LnRleHRBZGRlZDohdGhpcy5pbnB1dFN1bW1hcnkudGV4dEFkZGVkLG49bnVsbCE9dT90aGlzLmlucHV0U3VtbWFyeS5kaWREZWxldGU6IXRoaXMuaW5wdXRTdW1tYXJ5LmRpZERlbGV0ZSxjPShcIlxcblwiPT09YXx8XCIgXFxuXCI9PT1hKSYmIWUsbD1cIlxcblwiPT09dSYmIW4scz1jJiYhbHx8bCYmIWMscyYmKG89dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCkpJiYoaT1jP2EucmVwbGFjZSgvXFxuJC8sXCJcIikubGVuZ3RofHwtMToobnVsbCE9YT9hLmxlbmd0aDp2b2lkIDApfHwxLG51bGwhPShyPXRoaXMucmVzcG9uZGVyKT9yLnBvc2l0aW9uSXNCbG9ja0JyZWFrKG9bMV0raSk6dm9pZCAwKT8hMDplJiZuKX0scy5wcm90b3R5cGUubXV0YXRpb25Jc1NpZ25pZmljYW50PWZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gaT1PYmplY3Qua2V5cyh0KS5sZW5ndGg+MCxlPVwiXCI9PT0obnVsbCE9KG49dGhpcy5jb21wb3NpdGlvbklucHV0KT9uLmdldEVuZERhdGEoKTp2b2lkIDApLGl8fCFlfSxzLnByb3RvdHlwZS5ldmVudHM9e2tleWRvd246ZnVuY3Rpb24odCl7dmFyIG4saSxvLHIscyxjLGwsaCxwO2lmKHRoaXMuaXNDb21wb3NpbmcoKXx8dGhpcy5yZXNldElucHV0U3VtbWFyeSgpLHRoaXMuaW5wdXRTdW1tYXJ5LmRpZElucHV0PSEwLHI9dVt0LmtleUNvZGVdKXtmb3IoaT10aGlzLmtleXMsaD1bXCJjdHJsXCIsXCJhbHRcIixcInNoaWZ0XCIsXCJtZXRhXCJdLG89MCxjPWgubGVuZ3RoO2M+bztvKyspbD1oW29dLHRbbCtcIktleVwiXSYmKFwiY3RybFwiPT09bCYmKGw9XCJjb250cm9sXCIpLGk9bnVsbCE9aT9pW2xdOnZvaWQgMCk7bnVsbCE9KG51bGwhPWk/aVtyXTp2b2lkIDApJiYodGhpcy5zZXRJbnB1dFN1bW1hcnkoe2tleU5hbWU6cn0pLGUuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXIucmVzZXQoKSxpW3JdLmNhbGwodGhpcyx0KSl9cmV0dXJuIGEodCkmJihuPVN0cmluZy5mcm9tQ2hhckNvZGUodC5rZXlDb2RlKS50b0xvd2VyQ2FzZSgpKSYmKHM9ZnVuY3Rpb24oKXt2YXIgZSxuLGksbztmb3IoaT1bXCJhbHRcIixcInNoaWZ0XCJdLG89W10sZT0wLG49aS5sZW5ndGg7bj5lO2UrKylsPWlbZV0sdFtsK1wiS2V5XCJdJiZvLnB1c2gobCk7cmV0dXJuIG99KCkscy5wdXNoKG4pLG51bGwhPShwPXRoaXMuZGVsZWdhdGUpP3AuaW5wdXRDb250cm9sbGVyRGlkUmVjZWl2ZUtleWJvYXJkQ29tbWFuZChzKTp2b2lkIDApP3QucHJldmVudERlZmF1bHQoKTp2b2lkIDB9LGtleXByZXNzOmZ1bmN0aW9uKHQpe3ZhciBlLG4saTtpZihudWxsPT10aGlzLmlucHV0U3VtbWFyeS5ldmVudE5hbWUmJiF0Lm1ldGFLZXkmJighdC5jdHJsS2V5fHx0LmFsdEtleSkpcmV0dXJuKGk9cCh0KSk/KG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksbnVsbCE9KG49dGhpcy5yZXNwb25kZXIpJiZuLmluc2VydFN0cmluZyhpKSx0aGlzLnNldElucHV0U3VtbWFyeSh7dGV4dEFkZGVkOmksZGlkRGVsZXRlOnRoaXMuc2VsZWN0aW9uSXNFeHBhbmRlZCgpfSkpOnZvaWQgMH0sdGV4dElucHV0OmZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO3JldHVybiBlPXQuZGF0YSxvPXRoaXMuaW5wdXRTdW1tYXJ5LnRleHRBZGRlZCxvJiZvIT09ZSYmby50b1VwcGVyQ2FzZSgpPT09ZT8obj10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSx0aGlzLnNldFNlbGVjdGVkUmFuZ2UoW25bMF0sblsxXStvLmxlbmd0aF0pLG51bGwhPShpPXRoaXMucmVzcG9uZGVyKSYmaS5pbnNlcnRTdHJpbmcoZSksdGhpcy5zZXRJbnB1dFN1bW1hcnkoe3RleHRBZGRlZDplfSksdGhpcy5zZXRTZWxlY3RlZFJhbmdlKG4pKTp2b2lkIDB9LGRyYWdlbnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfSxkcmFnc3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gbj10LnRhcmdldCx0aGlzLnNlcmlhbGl6ZVNlbGVjdGlvblRvRGF0YVRyYW5zZmVyKHQuZGF0YVRyYW5zZmVyKSx0aGlzLmRyYWdnZWRSYW5nZT10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5pbnB1dENvbnRyb2xsZXJEaWRTdGFydERyYWc/ZS5pbnB1dENvbnRyb2xsZXJEaWRTdGFydERyYWcoKTp2b2lkIDB9LGRyYWdvdmVyOmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIXRoaXMuZHJhZ2dlZFJhbmdlJiYhdGhpcy5jYW5BY2NlcHREYXRhVHJhbnNmZXIodC5kYXRhVHJhbnNmZXIpfHwodC5wcmV2ZW50RGVmYXVsdCgpLGU9e3g6dC5jbGllbnRYLHk6dC5jbGllbnRZfSxsKGUsdGhpcy5kcmFnZ2luZ1BvaW50KSk/dm9pZCAwOih0aGlzLmRyYWdnaW5nUG9pbnQ9ZSxudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5pbnB1dENvbnRyb2xsZXJEaWRSZWNlaXZlRHJhZ092ZXJQb2ludD9uLmlucHV0Q29udHJvbGxlckRpZFJlY2VpdmVEcmFnT3ZlclBvaW50KHRoaXMuZHJhZ2dpbmdQb2ludCk6dm9pZCAwKX0sZHJhZ2VuZDpmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5pbnB1dENvbnRyb2xsZXJEaWRDYW5jZWxEcmFnJiZ0LmlucHV0Q29udHJvbGxlckRpZENhbmNlbERyYWcoKSx0aGlzLmRyYWdnZWRSYW5nZT1udWxsLHRoaXMuZHJhZ2dpbmdQb2ludD1udWxsfSxkcm9wOmZ1bmN0aW9uKHQpe3ZhciBuLGksbyxyLHMsYSx1LGMsbDtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLG89bnVsbCE9KHM9dC5kYXRhVHJhbnNmZXIpP3MuZmlsZXM6dm9pZCAwLHI9e3g6dC5jbGllbnRYLHk6dC5jbGllbnRZfSxudWxsIT0oYT10aGlzLnJlc3BvbmRlcikmJmEuc2V0TG9jYXRpb25SYW5nZUZyb21Qb2ludFJhbmdlKHIpLChudWxsIT1vP28ubGVuZ3RoOnZvaWQgMCk/dGhpcy5hdHRhY2hGaWxlcyhvKTp0aGlzLmRyYWdnZWRSYW5nZT8obnVsbCE9KHU9dGhpcy5kZWxlZ2F0ZSkmJnUuaW5wdXRDb250cm9sbGVyV2lsbE1vdmVUZXh0KCksbnVsbCE9KGM9dGhpcy5yZXNwb25kZXIpJiZjLm1vdmVUZXh0RnJvbVJhbmdlKHRoaXMuZHJhZ2dlZFJhbmdlKSx0aGlzLmRyYWdnZWRSYW5nZT1udWxsLHRoaXMucmVxdWVzdFJlbmRlcigpKTooaT10LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiYXBwbGljYXRpb24veC10cml4LWRvY3VtZW50XCIpKSYmKG49ZS5Eb2N1bWVudC5mcm9tSlNPTlN0cmluZyhpKSxudWxsIT0obD10aGlzLnJlc3BvbmRlcikmJmwuaW5zZXJ0RG9jdW1lbnQobiksdGhpcy5yZXF1ZXN0UmVuZGVyKCkpLHRoaXMuZHJhZ2dlZFJhbmdlPW51bGwsdGhpcy5kcmFnZ2luZ1BvaW50PW51bGx9LGN1dDpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybihudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5zZWxlY3Rpb25Jc0V4cGFuZGVkKCk6dm9pZCAwKSYmKHRoaXMuc2VyaWFsaXplU2VsZWN0aW9uVG9EYXRhVHJhbnNmZXIodC5jbGlwYm9hcmREYXRhKSYmdC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZuLmlucHV0Q29udHJvbGxlcldpbGxDdXRUZXh0KCksdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIpLHQuZGVmYXVsdFByZXZlbnRlZCk/dGhpcy5yZXF1ZXN0UmVuZGVyKCk6dm9pZCAwfSxjb3B5OmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5zZWxlY3Rpb25Jc0V4cGFuZGVkKCk6dm9pZCAwKSYmdGhpcy5zZXJpYWxpemVTZWxlY3Rpb25Ub0RhdGFUcmFuc2Zlcih0LmNsaXBib2FyZERhdGEpP3QucHJldmVudERlZmF1bHQoKTp2b2lkIDB9LHBhc3RlOmZ1bmN0aW9uKHQpe3ZhciBuLG8scyxhLHUsYyxsLHAsZixnLHksdixiLEEseCxDLFMsUixrLEUsdyxEO3JldHVybiBuPW51bGwhPShwPXQuY2xpcGJvYXJkRGF0YSk/cDp0LnRlc3RDbGlwYm9hcmREYXRhLGw9e2NsaXBib2FyZDpufSxudWxsPT1ufHxoKHQpP3ZvaWQgdGhpcy5nZXRQYXN0ZWRIVE1MVXNpbmdIaWRkZW5FbGVtZW50KGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbixpLG87cmV0dXJuIGwudHlwZT1cInRleHQvaHRtbFwiLGwuaHRtbD1lLG51bGwhPShuPXQuZGVsZWdhdGUpJiZuLmlucHV0Q29udHJvbGxlcldpbGxQYXN0ZShsKSxudWxsIT0oaT10LnJlc3BvbmRlcikmJmkuaW5zZXJ0SFRNTChsLmh0bWwpLHQucmVxdWVzdFJlbmRlcigpLG51bGwhPShvPXQuZGVsZWdhdGUpP28uaW5wdXRDb250cm9sbGVyRGlkUGFzdGUobCk6dm9pZCAwfX0odGhpcykpOigoYT1uLmdldERhdGEoXCJVUkxcIikpPyhsLnR5cGU9XCJVUkxcIixsLmhyZWY9YSxsLnN0cmluZz0oYz1uLmdldERhdGEoXCJwdWJsaWMudXJsLW5hbWVcIikpP2Uuc3F1aXNoQnJlYWthYmxlV2hpdGVzcGFjZShjKS50cmltKCk6YSxudWxsIT0oZj10aGlzLmRlbGVnYXRlKSYmZi5pbnB1dENvbnRyb2xsZXJXaWxsUGFzdGUobCksdGhpcy5zZXRJbnB1dFN1bW1hcnkoe3RleHRBZGRlZDpsLnN0cmluZyxkaWREZWxldGU6dGhpcy5zZWxlY3Rpb25Jc0V4cGFuZGVkKCl9KSxudWxsIT0oeD10aGlzLnJlc3BvbmRlcikmJnguaW5zZXJ0VGV4dChlLlRleHQudGV4dEZvclN0cmluZ1dpdGhBdHRyaWJ1dGVzKGwuc3RyaW5nLHtocmVmOmwuaHJlZn0pKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSxudWxsIT0oQz10aGlzLmRlbGVnYXRlKSYmQy5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShsKSk6aShuKT8obC50eXBlPVwidGV4dC9wbGFpblwiLGwuc3RyaW5nPW4uZ2V0RGF0YShcInRleHQvcGxhaW5cIiksbnVsbCE9KFM9dGhpcy5kZWxlZ2F0ZSkmJlMuaW5wdXRDb250cm9sbGVyV2lsbFBhc3RlKGwpLHRoaXMuc2V0SW5wdXRTdW1tYXJ5KHt0ZXh0QWRkZWQ6bC5zdHJpbmcsZGlkRGVsZXRlOnRoaXMuc2VsZWN0aW9uSXNFeHBhbmRlZCgpfSksbnVsbCE9KFI9dGhpcy5yZXNwb25kZXIpJiZSLmluc2VydFN0cmluZyhsLnN0cmluZyksdGhpcy5yZXF1ZXN0UmVuZGVyKCksbnVsbCE9KGs9dGhpcy5kZWxlZ2F0ZSkmJmsuaW5wdXRDb250cm9sbGVyRGlkUGFzdGUobCkpOih1PW4uZ2V0RGF0YShcInRleHQvaHRtbFwiKSk/KGwudHlwZT1cInRleHQvaHRtbFwiLGwuaHRtbD11LG51bGwhPShFPXRoaXMuZGVsZWdhdGUpJiZFLmlucHV0Q29udHJvbGxlcldpbGxQYXN0ZShsKSxudWxsIT0odz10aGlzLnJlc3BvbmRlcikmJncuaW5zZXJ0SFRNTChsLmh0bWwpLHRoaXMucmVxdWVzdFJlbmRlcigpLG51bGwhPShEPXRoaXMuZGVsZWdhdGUpJiZELmlucHV0Q29udHJvbGxlckRpZFBhc3RlKGwpKTptLmNhbGwobi50eXBlcyxcIkZpbGVzXCIpPj0wJiYocz1udWxsIT0oZz1uLml0ZW1zKSYmbnVsbCE9KHk9Z1swXSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHkuZ2V0QXNGaWxlP3kuZ2V0QXNGaWxlKCk6dm9pZCAwKSYmKCFzLm5hbWUmJihvPXIocykpJiYocy5uYW1lPVwicGFzdGVkLWZpbGUtXCIrICsrZCtcIi5cIitvKSxsLnR5cGU9XCJGaWxlXCIsbC5maWxlPXMsbnVsbCE9KHY9dGhpcy5kZWxlZ2F0ZSkmJnYuaW5wdXRDb250cm9sbGVyV2lsbEF0dGFjaEZpbGVzKCksbnVsbCE9KGI9dGhpcy5yZXNwb25kZXIpJiZiLmluc2VydEZpbGUobC5maWxlKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSxudWxsIT0oQT10aGlzLmRlbGVnYXRlKSYmQS5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShsKSksdC5wcmV2ZW50RGVmYXVsdCgpKX0sY29tcG9zaXRpb25zdGFydDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRDb21wb3NpdGlvbklucHV0KCkuc3RhcnQodC5kYXRhKX0sY29tcG9zaXRpb251cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Q29tcG9zaXRpb25JbnB1dCgpLnVwZGF0ZSh0LmRhdGEpfSxjb21wb3NpdGlvbmVuZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRDb21wb3NpdGlvbklucHV0KCkuZW5kKHQuZGF0YSl9LGJlZm9yZWlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRTdW1tYXJ5LmRpZElucHV0PSEwfSxpbnB1dDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnB1dFN1bW1hcnkuZGlkSW5wdXQ9ITAsdC5zdG9wUHJvcGFnYXRpb24oKX19LHMucHJvdG90eXBlLmtleXM9e2JhY2tzcGFjZTpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJmUuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmcoKSx0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiYmFja3dhcmRcIix0KX0sXCJkZWxldGVcIjpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJmUuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmcoKSx0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiZm9yd2FyZFwiLHQpfSxcInJldHVyblwiOmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gdGhpcy5zZXRJbnB1dFN1bW1hcnkoe3ByZWZlckRvY3VtZW50OiEwfSksbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJnQuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmcoKSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5pbnNlcnRMaW5lQnJlYWsoKTp2b2lkIDB9LHRhYjpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybihudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5jYW5JbmNyZWFzZU5lc3RpbmdMZXZlbCgpOnZvaWQgMCk/KG51bGwhPShuPXRoaXMucmVzcG9uZGVyKSYmbi5pbmNyZWFzZU5lc3RpbmdMZXZlbCgpLHRoaXMucmVxdWVzdFJlbmRlcigpLHQucHJldmVudERlZmF1bHQoKSk6dm9pZCAwfSxsZWZ0OmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLnNlbGVjdGlvbklzSW5DdXJzb3JUYXJnZXQoKT8odC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShlPXRoaXMucmVzcG9uZGVyKT9lLm1vdmVDdXJzb3JJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIpOnZvaWQgMCk6dm9pZCAwfSxyaWdodDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5zZWxlY3Rpb25Jc0luQ3Vyc29yVGFyZ2V0KCk/KHQucHJldmVudERlZmF1bHQoKSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5tb3ZlQ3Vyc29ySW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpOnZvaWQgMCk6dm9pZCAwfSxjb250cm9sOntkOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmZS5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIsdCl9LGg6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIsdCl9LG86ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksbnVsbCE9KG49dGhpcy5yZXNwb25kZXIpJiZuLmluc2VydFN0cmluZyhcIlxcblwiLHt1cGRhdGVQb3NpdGlvbjohMX0pLHRoaXMucmVxdWVzdFJlbmRlcigpfX0sc2hpZnQ6e1wicmV0dXJuXCI6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJmUuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmcoKSxudWxsIT0obj10aGlzLnJlc3BvbmRlcikmJm4uaW5zZXJ0U3RyaW5nKFwiXFxuXCIpLHRoaXMucmVxdWVzdFJlbmRlcigpLHQucHJldmVudERlZmF1bHQoKX0sdGFiOmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuKG51bGwhPShlPXRoaXMucmVzcG9uZGVyKT9lLmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsKCk6dm9pZCAwKT8obnVsbCE9KG49dGhpcy5yZXNwb25kZXIpJiZuLmRlY3JlYXNlTmVzdGluZ0xldmVsKCksdGhpcy5yZXF1ZXN0UmVuZGVyKCksdC5wcmV2ZW50RGVmYXVsdCgpKTp2b2lkIDB9LGxlZnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSXNJbkN1cnNvclRhcmdldCgpPyh0LnByZXZlbnREZWZhdWx0KCksdGhpcy5leHBhbmRTZWxlY3Rpb25JbkRpcmVjdGlvbihcImJhY2t3YXJkXCIpKTp2b2lkIDB9LHJpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlbGVjdGlvbklzSW5DdXJzb3JUYXJnZXQoKT8odC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZXhwYW5kU2VsZWN0aW9uSW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpKTp2b2lkIDB9fSxhbHQ6e2JhY2tzcGFjZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLnNldElucHV0U3VtbWFyeSh7cHJlZmVyRG9jdW1lbnQ6ITF9KSxudWxsIT0odD10aGlzLmRlbGVnYXRlKT90LmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCk6dm9pZCAwfX0sbWV0YTp7YmFja3NwYWNlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuc2V0SW5wdXRTdW1tYXJ5KHtwcmVmZXJEb2N1bWVudDohMX0pLG51bGwhPSh0PXRoaXMuZGVsZWdhdGUpP3QuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmcoKTp2b2lkIDB9fX0scy5wcm90b3R5cGUuZ2V0Q29tcG9zaXRpb25JbnB1dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQ29tcG9zaW5nKCk/dGhpcy5jb21wb3NpdGlvbklucHV0OnRoaXMuY29tcG9zaXRpb25JbnB1dD1uZXcgdCh0aGlzKX0scy5wcm90b3R5cGUuaXNDb21wb3Npbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5jb21wb3NpdGlvbklucHV0JiYhdGhpcy5jb21wb3NpdGlvbklucHV0LmlzRW5kZWQoKX0scy5wcm90b3R5cGUuZGVsZXRlSW5EaXJlY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4obnVsbCE9KG49dGhpcy5yZXNwb25kZXIpP24uZGVsZXRlSW5EaXJlY3Rpb24odCk6dm9pZCAwKSE9PSExP3RoaXMuc2V0SW5wdXRTdW1tYXJ5KHtkaWREZWxldGU6ITB9KTplPyhlLnByZXZlbnREZWZhdWx0KCksdGhpcy5yZXF1ZXN0UmVuZGVyKCkpOnZvaWQgMH0scy5wcm90b3R5cGUuc2VyaWFsaXplU2VsZWN0aW9uVG9EYXRhVHJhbnNmZXI9ZnVuY3Rpb24odCl7dmFyIG4saTtpZihvKHQpKXJldHVybiBuPW51bGwhPShpPXRoaXMucmVzcG9uZGVyKT9pLmdldFNlbGVjdGVkRG9jdW1lbnQoKS50b1NlcmlhbGl6YWJsZURvY3VtZW50KCk6dm9pZCAwLHQuc2V0RGF0YShcImFwcGxpY2F0aW9uL3gtdHJpeC1kb2N1bWVudFwiLEpTT04uc3RyaW5naWZ5KG4pKSx0LnNldERhdGEoXCJ0ZXh0L2h0bWxcIixlLkRvY3VtZW50Vmlldy5yZW5kZXIobikuaW5uZXJIVE1MKSx0LnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsbi50b1N0cmluZygpLnJlcGxhY2UoL1xcbiQvLFwiXCIpKSwhMH0scy5wcm90b3R5cGUuY2FuQWNjZXB0RGF0YVRyYW5zZmVyPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLHIscztmb3Iocz17fSxvPW51bGwhPShpPW51bGwhPXQ/dC50eXBlczp2b2lkIDApP2k6W10sZT0wLG49by5sZW5ndGg7bj5lO2UrKylyPW9bZV0sc1tyXT0hMDtyZXR1cm4gcy5GaWxlc3x8c1tcImFwcGxpY2F0aW9uL3gtdHJpeC1kb2N1bWVudFwiXXx8c1tcInRleHQvaHRtbFwiXXx8c1tcInRleHQvcGxhaW5cIl19LHMucHJvdG90eXBlLmdldFBhc3RlZEhUTUxVc2luZ0hpZGRlbkVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIG4saSxvO3JldHVybiBpPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG89e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixsZWZ0OndpbmRvdy5wYWdlWE9mZnNldCtcInB4XCIsdG9wOndpbmRvdy5wYWdlWU9mZnNldCtcInB4XCIsb3BhY2l0eTowfSxuPWMoe3N0eWxlOm8sdGFnTmFtZTpcImRpdlwiLGVkaXRhYmxlOiEwfSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSxuLmZvY3VzKCkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbigpe3ZhciByO3JldHVybiByPW4uaW5uZXJIVE1MLGUucmVtb3ZlTm9kZShuKSxvLnNldFNlbGVjdGVkUmFuZ2UoaSksdChyKX19KHRoaXMpKX0scy5wcm94eU1ldGhvZChcInJlc3BvbmRlcj8uZ2V0U2VsZWN0ZWRSYW5nZVwiKSxzLnByb3h5TWV0aG9kKFwicmVzcG9uZGVyPy5zZXRTZWxlY3RlZFJhbmdlXCIpLHMucHJveHlNZXRob2QoXCJyZXNwb25kZXI/LmV4cGFuZFNlbGVjdGlvbkluRGlyZWN0aW9uXCIpLHMucHJveHlNZXRob2QoXCJyZXNwb25kZXI/LnNlbGVjdGlvbklzSW5DdXJzb3JUYXJnZXRcIikscy5wcm94eU1ldGhvZChcInJlc3BvbmRlcj8uc2VsZWN0aW9uSXNFeHBhbmRlZFwiKSxzfShlLklucHV0Q29udHJvbGxlcikscj1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBudWxsIT0oZT10LnR5cGUpJiZudWxsIT0obj1lLm1hdGNoKC9cXC8oXFx3KykkLykpP25bMV06dm9pZCAwfSxzPW51bGwhPShcImZ1bmN0aW9uXCI9PXR5cGVvZlwiIFwiLmNvZGVQb2ludEF0P1wiIFwiLmNvZGVQb2ludEF0KDApOnZvaWQgMCkscD1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gdC5rZXkmJnMmJnQua2V5LmNvZGVQb2ludEF0KDApPT09dC5rZXlDb2RlP3Qua2V5OihudWxsPT09dC53aGljaD9uPXQua2V5Q29kZTowIT09dC53aGljaCYmMCE9PXQuY2hhckNvZGUmJihuPXQuY2hhckNvZGUpLG51bGwhPW4mJlwiZXNjYXBlXCIhPT11W25dP2UuVVRGMTZTdHJpbmcuZnJvbUNvZGVwb2ludHMoW25dKS50b1N0cmluZygpOnZvaWQgMCl9LGg9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8scixzLGEsdSxjLGw7aWYodT10LmNsaXBib2FyZERhdGEpe2lmKG0uY2FsbCh1LnR5cGVzLFwidGV4dC9odG1sXCIpPj0wKXtmb3IoYz11LnR5cGVzLGk9MCxzPWMubGVuZ3RoO3M+aTtpKyspaWYobD1jW2ldLGU9L15Db3JlUGFzdGVib2FyZEZsYXZvclR5cGUvLnRlc3QobCksbj0vXmR5blxcLi8udGVzdChsKSYmdS5nZXREYXRhKGwpLGE9ZXx8bilyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4gbz1tLmNhbGwodS50eXBlcyxcImNvbS5hcHBsZS53ZWJhcmNoaXZlXCIpPj0wLHI9bS5jYWxsKHUudHlwZXMsXCJjb20uYXBwbGUuZmxhdC1ydGZkXCIpPj0wLG98fHJ9fSx0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU7dGhpcy5pbnB1dENvbnRyb2xsZXI9dCxlPXRoaXMuaW5wdXRDb250cm9sbGVyLHRoaXMucmVzcG9uZGVyPWUucmVzcG9uZGVyLHRoaXMuZGVsZWdhdGU9ZS5kZWxlZ2F0ZSx0aGlzLmlucHV0U3VtbWFyeT1lLmlucHV0U3VtbWFyeSx0aGlzLmRhdGE9e319cmV0dXJuIGYoZSx0KSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiB0aGlzLmRhdGEuc3RhcnQ9dCx0aGlzLmlzU2lnbmlmaWNhbnQoKT8oXCJrZXlwcmVzc1wiPT09dGhpcy5pbnB1dFN1bW1hcnkuZXZlbnROYW1lJiZ0aGlzLmlucHV0U3VtbWFyeS50ZXh0QWRkZWQmJm51bGwhPShlPXRoaXMucmVzcG9uZGVyKSYmZS5kZWxldGVJbkRpcmVjdGlvbihcImxlZnRcIiksdGhpcy5zZWxlY3Rpb25Jc0V4cGFuZGVkKCl8fCh0aGlzLmluc2VydFBsYWNlaG9sZGVyKCksdGhpcy5yZXF1ZXN0UmVuZGVyKCkpLHRoaXMucmFuZ2U9bnVsbCE9KG49dGhpcy5yZXNwb25kZXIpP24uZ2V0U2VsZWN0ZWRSYW5nZSgpOnZvaWQgMCk6dm9pZCAwfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuZGF0YS51cGRhdGU9dCx0aGlzLmlzU2lnbmlmaWNhbnQoKSYmKGU9dGhpcy5zZWxlY3RQbGFjZWhvbGRlcigpKT8odGhpcy5mb3JnZXRQbGFjZWhvbGRlcigpLHRoaXMucmFuZ2U9ZSk6dm9pZCAwfSxlLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG87cmV0dXJuIHRoaXMuZGF0YS5lbmQ9dCx0aGlzLmlzU2lnbmlmaWNhbnQoKT8odGhpcy5mb3JnZXRQbGFjZWhvbGRlcigpLHRoaXMuY2FuQXBwbHlUb0RvY3VtZW50KCk/KHRoaXMuc2V0SW5wdXRTdW1tYXJ5KHtwcmVmZXJEb2N1bWVudDohMCxkaWRJbnB1dDohMX0pLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksbnVsbCE9KG49dGhpcy5yZXNwb25kZXIpJiZuLnNldFNlbGVjdGVkUmFuZ2UodGhpcy5yYW5nZSksbnVsbCE9KGk9dGhpcy5yZXNwb25kZXIpJiZpLmluc2VydFN0cmluZyh0aGlzLmRhdGEuZW5kKSxudWxsIT0obz10aGlzLnJlc3BvbmRlcik/by5zZXRTZWxlY3RlZFJhbmdlKHRoaXMucmFuZ2VbMF0rdGhpcy5kYXRhLmVuZC5sZW5ndGgpOnZvaWQgMCk6bnVsbCE9dGhpcy5kYXRhLnN0YXJ0fHxudWxsIT10aGlzLmRhdGEudXBkYXRlPyh0aGlzLnJlcXVlc3RSZXBhcnNlKCksdGhpcy5pbnB1dENvbnRyb2xsZXIucmVzZXQoKSk6dm9pZCAwKTp0aGlzLmlucHV0Q29udHJvbGxlci5yZXNldCgpfSxlLnByb3RvdHlwZS5nZXRFbmREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5lbmR9LGUucHJvdG90eXBlLmlzRW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5nZXRFbmREYXRhKCl9LGUucHJvdG90eXBlLmlzU2lnbmlmaWNhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jb21wb3Nlc0V4aXN0aW5nVGV4dD90aGlzLmlucHV0U3VtbWFyeS5kaWRJbnB1dDohMH0sZS5wcm90b3R5cGUuY2FuQXBwbHlUb0RvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gMD09PShudWxsIT0odD10aGlzLmRhdGEuc3RhcnQpP3QubGVuZ3RoOnZvaWQgMCkmJihudWxsIT0oZT10aGlzLmRhdGEuZW5kKT9lLmxlbmd0aDp2b2lkIDApPjAmJm51bGwhPXRoaXMucmFuZ2V9LGUucHJveHlNZXRob2QoXCJpbnB1dENvbnRyb2xsZXIuc2V0SW5wdXRTdW1tYXJ5XCIpLGUucHJveHlNZXRob2QoXCJpbnB1dENvbnRyb2xsZXIucmVxdWVzdFJlbmRlclwiKSxlLnByb3h5TWV0aG9kKFwiaW5wdXRDb250cm9sbGVyLnJlcXVlc3RSZXBhcnNlXCIpLGUucHJveHlNZXRob2QoXCJyZXNwb25kZXI/LnNlbGVjdGlvbklzRXhwYW5kZWRcIiksZS5wcm94eU1ldGhvZChcInJlc3BvbmRlcj8uaW5zZXJ0UGxhY2Vob2xkZXJcIiksZS5wcm94eU1ldGhvZChcInJlc3BvbmRlcj8uc2VsZWN0UGxhY2Vob2xkZXJcIiksZS5wcm94eU1ldGhvZChcInJlc3BvbmRlcj8uZm9yZ2V0UGxhY2Vob2xkZXJcIiksZX0oZS5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxuLGksbz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LHI9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKXMuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0scz17fS5oYXNPd25Qcm9wZXJ0eSxhPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfTt0PWUuZGF0YVRyYW5zZmVySXNQbGFpblRleHQsbj1lLmtleUV2ZW50SXNLZXlib2FyZENvbW1hbmQsaT1lLm9iamVjdHNBcmVFcXVhbCxlLkxldmVsMklucHV0Q29udHJvbGxlcj1mdW5jdGlvbihzKXtmdW5jdGlvbiB1KCl7cmV0dXJuIHRoaXMucmVuZGVyPW8odGhpcy5yZW5kZXIsdGhpcyksdS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBjLGwsaCxwLGQsZjtyZXR1cm4gcih1LHMpLHUucHJvdG90eXBlLmVsZW1lbnREaWRNdXRhdGU9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5zY2hlZHVsZWRSZW5kZXI/dGhpcy5jb21wb3NpbmcmJm51bGwhPSh0PXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmlucHV0Q29udHJvbGxlckRpZEFsbG93VW5oYW5kbGVkSW5wdXQ/dC5pbnB1dENvbnRyb2xsZXJEaWRBbGxvd1VuaGFuZGxlZElucHV0KCk6dm9pZCAwOnRoaXMucmVwYXJzZSgpfSx1LnByb3RvdHlwZS5zY2hlZHVsZVJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnNjaGVkdWxlZFJlbmRlcj90aGlzLnNjaGVkdWxlZFJlbmRlcjp0aGlzLnNjaGVkdWxlZFJlbmRlcj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXIpfSx1LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5zY2hlZHVsZWRSZW5kZXIpLHRoaXMuc2NoZWR1bGVkUmVuZGVyPW51bGwsdGhpcy5jb21wb3Npbmd8fG51bGwhPSh0PXRoaXMuZGVsZWdhdGUpJiZ0LnJlbmRlcigpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYWZ0ZXJSZW5kZXImJnRoaXMuYWZ0ZXJSZW5kZXIoKSx0aGlzLmFmdGVyUmVuZGVyPW51bGx9LHUucHJvdG90eXBlLnJlcGFyc2U9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSk/dC5yZXBhcnNlKCk6dm9pZCAwfSx1LnByb3RvdHlwZS5ldmVudHM9e2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGUsaSxvLHI7aWYobih0KSl7aWYoZT1sKHQpLG51bGwhPShyPXRoaXMuZGVsZWdhdGUpP3IuaW5wdXRDb250cm9sbGVyRGlkUmVjZWl2ZUtleWJvYXJkQ29tbWFuZChlKTp2b2lkIDApcmV0dXJuIHQucHJldmVudERlZmF1bHQoKX1lbHNlIGlmKG89dC5rZXksdC5hbHRLZXkmJihvKz1cIitBbHRcIiksdC5zaGlmdEtleSYmKG8rPVwiK1NoaWZ0XCIpLGk9dGhpcy5rZXlzW29dKXJldHVybiB0aGlzLndpdGhFdmVudCh0LGkpfSxwYXN0ZTpmdW5jdGlvbih0KXt2YXIgbixpLG8scixzLGEsdSxjLGw7cmV0dXJuIGgodCk/KHQucHJldmVudERlZmF1bHQoKSx0aGlzLmF0dGFjaEZpbGVzKHQuY2xpcGJvYXJkRGF0YS5maWxlcykpOnAodCk/KHQucHJldmVudERlZmF1bHQoKSxpPXt0eXBlOlwidGV4dC9wbGFpblwiLHN0cmluZzp0LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIil9LG51bGwhPShvPXRoaXMuZGVsZWdhdGUpJiZvLmlucHV0Q29udHJvbGxlcldpbGxQYXN0ZShpKSxudWxsIT0ocj10aGlzLnJlc3BvbmRlcikmJnIuaW5zZXJ0U3RyaW5nKGkuc3RyaW5nKSx0aGlzLnJlbmRlcigpLG51bGwhPShzPXRoaXMuZGVsZWdhdGUpP3MuaW5wdXRDb250cm9sbGVyRGlkUGFzdGUoaSk6dm9pZCAwKToobj1udWxsIT0oYT10LmNsaXBib2FyZERhdGEpP2EuZ2V0RGF0YShcIlVSTFwiKTp2b2lkIDApPyh0LnByZXZlbnREZWZhdWx0KCksaT17dHlwZTpcIlVSTFwiLGhyZWY6bixzdHJpbmc6bn0sbnVsbCE9KHU9dGhpcy5kZWxlZ2F0ZSkmJnUuaW5wdXRDb250cm9sbGVyV2lsbFBhc3RlKGkpLG51bGwhPShjPXRoaXMucmVzcG9uZGVyKSYmYy5pbnNlcnRUZXh0KGUuVGV4dC50ZXh0Rm9yU3RyaW5nV2l0aEF0dHJpYnV0ZXMoaS5zdHJpbmcse2hyZWY6aS5ocmVmfSkpLHRoaXMucmVuZGVyKCksbnVsbCE9KGw9dGhpcy5kZWxlZ2F0ZSk/bC5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShpKTp2b2lkIDApOnZvaWQgMH0sYmVmb3JlaW5wdXQ6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5pbnB1dFR5cGVzW3QuaW5wdXRUeXBlXSk/KHRoaXMud2l0aEV2ZW50KHQsZSksdGhpcy5zY2hlZHVsZVJlbmRlcigpKTp2b2lkIDB9LGlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXIucmVzZXQoKX0sZHJhZ3N0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuKG51bGwhPShlPXRoaXMucmVzcG9uZGVyKT9lLnNlbGVjdGlvbkNvbnRhaW5zQXR0YWNobWVudHMoKTp2b2lkIDApPyh0LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiYXBwbGljYXRpb24veC10cml4LWRyYWdnaW5nXCIsITApLHRoaXMuZHJhZ2dpbmc9e3JhbmdlOm51bGwhPShuPXRoaXMucmVzcG9uZGVyKT9uLmdldFNlbGVjdGVkUmFuZ2UoKTp2b2lkIDAscG9pbnQ6ZCh0KX0pOnZvaWQgMH0sZHJhZ2VudGVyOmZ1bmN0aW9uKHQpe3JldHVybiBjKHQpP3QucHJldmVudERlZmF1bHQoKTp2b2lkIDB9LGRyYWdvdmVyOmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHRoaXMuZHJhZ2dpbmcmJih0LnByZXZlbnREZWZhdWx0KCksZT1kKHQpLCFpKGUsdGhpcy5kcmFnZ2luZy5wb2ludCkpPyh0aGlzLmRyYWdnaW5nLnBvaW50PWUsbnVsbCE9KG49dGhpcy5yZXNwb25kZXIpP24uc2V0TG9jYXRpb25SYW5nZUZyb21Qb2ludFJhbmdlKGUpOnZvaWQgMCk6dm9pZCAwfSxkcm9wOmZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO3JldHVybiB0aGlzLmRyYWdnaW5nPyh0LnByZXZlbnREZWZhdWx0KCksbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSkmJm4uaW5wdXRDb250cm9sbGVyV2lsbE1vdmVUZXh0KCksbnVsbCE9KGk9dGhpcy5yZXNwb25kZXIpJiZpLm1vdmVUZXh0RnJvbVJhbmdlKHRoaXMuZHJhZ2dpbmcucmFuZ2UpLHRoaXMuZHJhZ2dpbmc9bnVsbCx0aGlzLnNjaGVkdWxlUmVuZGVyKCkpOmModCk/KHQucHJldmVudERlZmF1bHQoKSxlPWQodCksbnVsbCE9KG89dGhpcy5yZXNwb25kZXIpJiZvLnNldExvY2F0aW9uUmFuZ2VGcm9tUG9pbnRSYW5nZShlKSx0aGlzLmF0dGFjaEZpbGVzKHQuZGF0YVRyYW5zZmVyLmZpbGVzKSk6dm9pZCAwfSxkcmFnZW5kOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKSYmdC5zZXRTZWxlY3RlZFJhbmdlKHRoaXMuZHJhZ2dpbmcucmFuZ2UpLHRoaXMuZHJhZ2dpbmc9bnVsbCk6dm9pZCAwfSxjb21wb3NpdGlvbmVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvc2luZz8odGhpcy5jb21wb3Npbmc9ITEsdGhpcy5zY2hlZHVsZVJlbmRlcigpKTp2b2lkIDB9fSx1LnByb3RvdHlwZS5rZXlzPXtBcnJvd0xlZnQ6ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybihudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5zaG91bGRNYW5hZ2VNb3ZpbmdDdXJzb3JJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIpOnZvaWQgMCk/KHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQoKSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5tb3ZlQ3Vyc29ySW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiKTp2b2lkIDApOnZvaWQgMH0sQXJyb3dSaWdodDpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuKG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LnNob3VsZE1hbmFnZU1vdmluZ0N1cnNvckluRGlyZWN0aW9uKFwiZm9yd2FyZFwiKTp2b2lkIDApPyh0aGlzLmV2ZW50LnByZXZlbnREZWZhdWx0KCksbnVsbCE9KGU9dGhpcy5yZXNwb25kZXIpP2UubW92ZUN1cnNvckluRGlyZWN0aW9uKFwiZm9yd2FyZFwiKTp2b2lkIDApOnZvaWQgMH0sQmFja3NwYWNlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybihudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5zaG91bGRNYW5hZ2VEZWxldGluZ0luRGlyZWN0aW9uKFwiYmFja3dhcmRcIik6dm9pZCAwKT8odGhpcy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksbnVsbCE9KG49dGhpcy5yZXNwb25kZXIpJiZuLmRlbGV0ZUluRGlyZWN0aW9uKFwiYmFja3dhcmRcIiksdGhpcy5yZW5kZXIoKSk6dm9pZCAwfSxUYWI6ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybihudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5jYW5JbmNyZWFzZU5lc3RpbmdMZXZlbCgpOnZvaWQgMCk/KHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQoKSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcikmJmUuaW5jcmVhc2VOZXN0aW5nTGV2ZWwoKSx0aGlzLnJlbmRlcigpKTp2b2lkIDB9LFwiVGFiK1NoaWZ0XCI6ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybihudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5jYW5EZWNyZWFzZU5lc3RpbmdMZXZlbCgpOnZvaWQgMCk/KHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQoKSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcikmJmUuZGVjcmVhc2VOZXN0aW5nTGV2ZWwoKSx0aGlzLnJlbmRlcigpKTp2b2lkIDB9fSx1LnByb3RvdHlwZS5pbnB1dFR5cGVzPXtkZWxldGVCeUNvbXBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiLHtyZWNvcmRVbmRvRW50cnk6ITF9KX0sZGVsZXRlQnlDdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIpfSxkZWxldGVCeURyYWc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMud2l0aFRhcmdldERPTVJhbmdlKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuZGVsZXRlQnlEcmFnUmFuZ2U9bnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpP3QuZ2V0U2VsZWN0ZWRSYW5nZSgpOnZvaWQgMH0pfSxkZWxldGVDb21wb3NpdGlvblRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIse3JlY29yZFVuZG9FbnRyeTohMX0pfSxkZWxldGVDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiKX0sZGVsZXRlQ29udGVudEJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiKX0sZGVsZXRlQ29udGVudEZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImZvcndhcmRcIil9LGRlbGV0ZUVudGlyZVNvZnRMaW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpfSxkZWxldGVIYXJkTGluZUJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiKX0sZGVsZXRlSGFyZExpbmVGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpfSxkZWxldGVTb2Z0TGluZUJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiKX0sZGVsZXRlU29mdExpbmVGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpfSxkZWxldGVXb3JkQmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIpfSxkZWxldGVXb3JkRm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiZm9yd2FyZFwiKX0sZm9ybWF0QmFja0NvbG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZhdGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcImJhY2tncm91bmRDb2xvclwiLHRoaXMuZXZlbnQuZGF0YSl9LGZvcm1hdEJvbGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcImJvbGRcIil9LGZvcm1hdEZvbnRDb2xvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2YXRlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJjb2xvclwiLHRoaXMuZXZlbnQuZGF0YSl9LGZvcm1hdEZvbnROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZhdGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcImZvbnRcIix0aGlzLmV2ZW50LmRhdGEpfSxmb3JtYXRJbmRlbnQ6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4obnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpP3QuY2FuSW5jcmVhc2VOZXN0aW5nTGV2ZWwoKTp2b2lkIDApP3RoaXMud2l0aFRhcmdldERPTVJhbmdlKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LmluY3JlYXNlTmVzdGluZ0xldmVsKCk6dm9pZCAwfSk6dm9pZCAwfSxmb3JtYXRJdGFsaWM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcIml0YWxpY1wiKX0sZm9ybWF0SnVzdGlmeUNlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwianVzdGlmeUNlbnRlclwiKX0sZm9ybWF0SnVzdGlmeUZ1bGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcImp1c3RpZnlGdWxsXCIpfSxmb3JtYXRKdXN0aWZ5TGVmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwianVzdGlmeUxlZnRcIil9LGZvcm1hdEp1c3RpZnlSaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwianVzdGlmeVJpZ2h0XCIpfSxmb3JtYXRPdXRkZW50OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsKCk6dm9pZCAwKT90aGlzLndpdGhUYXJnZXRET01SYW5nZShmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5kZWNyZWFzZU5lc3RpbmdMZXZlbCgpOnZvaWQgMH0pOnZvaWQgMH0sZm9ybWF0UmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2l0aFRhcmdldERPTVJhbmdlKGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGk7aT1bXTtmb3IodCBpbiBudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5nZXRDdXJyZW50QXR0cmlidXRlcygpOnZvaWQgMClpLnB1c2gobnVsbCE9KG49dGhpcy5yZXNwb25kZXIpP24ucmVtb3ZlQ3VycmVudEF0dHJpYnV0ZSh0KTp2b2lkIDApO3JldHVybiBpfSl9LGZvcm1hdFNldEJsb2NrVGV4dERpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2YXRlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJibG9ja0RpclwiLHRoaXMuZXZlbnQuZGF0YSl9LGZvcm1hdFNldElubGluZVRleHREaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmF0ZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwidGV4dERpclwiLHRoaXMuZXZlbnQuZGF0YSl9LGZvcm1hdFN0cmlrZVRocm91Z2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcInN0cmlrZVwiKX0sZm9ybWF0U3Vic2NyaXB0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9nZ2xlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJzdWJcIil9LGZvcm1hdFN1cGVyc2NyaXB0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9nZ2xlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJzdXBcIil9LGZvcm1hdFVuZGVybGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwidW5kZXJsaW5lXCIpfSxoaXN0b3J5UmVkbzpmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKT90LmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtUmVkbygpOnZvaWQgMH0saGlzdG9yeVVuZG86ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSk/dC5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVVuZG8oKTp2b2lkIDB9LGluc2VydENvbXBvc2l0aW9uVGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvc2luZz0hMCx0aGlzLmluc2VydFN0cmluZyh0aGlzLmV2ZW50LmRhdGEpfSxpbnNlcnRGcm9tQ29tcG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3Npbmc9ITEsdGhpcy5pbnNlcnRTdHJpbmcodGhpcy5ldmVudC5kYXRhKX0saW5zZXJ0RnJvbURyb3A6ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybih0PXRoaXMuZGVsZXRlQnlEcmFnUmFuZ2UpPyh0aGlzLmRlbGV0ZUJ5RHJhZ1JhbmdlPW51bGwsbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJmUuaW5wdXRDb250cm9sbGVyV2lsbE1vdmVUZXh0KCksdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5yZXNwb25kZXIpP2UubW92ZVRleHRGcm9tUmFuZ2UodCk6dm9pZCAwfSkpOnZvaWQgMH0saW5zZXJ0RnJvbVBhc3RlOmZ1bmN0aW9uKCl7dmFyIG4saSxvLHIscyxhLHUsYyxsLGg7cmV0dXJuIG49dGhpcy5ldmVudC5kYXRhVHJhbnNmZXIscz17ZGF0YVRyYW5zZmVyOm59LChpPW4uZ2V0RGF0YShcIlVSTFwiKSk/KHMudHlwZT1cIlVSTFwiLHMuaHJlZj1pLHMuc3RyaW5nPShyPW4uZ2V0RGF0YShcInB1YmxpYy51cmwtbmFtZVwiKSk/ZS5zcXVpc2hCcmVha2FibGVXaGl0ZXNwYWNlKHIpLnRyaW0oKTppLG51bGwhPShhPXRoaXMuZGVsZWdhdGUpJiZhLmlucHV0Q29udHJvbGxlcldpbGxQYXN0ZShzKSx0aGlzLndpdGhUYXJnZXRET01SYW5nZShmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5pbnNlcnRUZXh0KGUuVGV4dC50ZXh0Rm9yU3RyaW5nV2l0aEF0dHJpYnV0ZXMocy5zdHJpbmcse2hyZWY6cy5ocmVmfSkpOnZvaWQgMH0pLHRoaXMuYWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXQuZGVsZWdhdGUpP2UuaW5wdXRDb250cm9sbGVyRGlkUGFzdGUocyk6dm9pZCAwfX0odGhpcykpOnQobik/KHMudHlwZT1cInRleHQvcGxhaW5cIixzLnN0cmluZz1uLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpLG51bGwhPSh1PXRoaXMuZGVsZWdhdGUpJiZ1LmlucHV0Q29udHJvbGxlcldpbGxQYXN0ZShzKSx0aGlzLndpdGhUYXJnZXRET01SYW5nZShmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5pbnNlcnRTdHJpbmcocy5zdHJpbmcpOnZvaWQgMH0pLHRoaXMuYWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXQuZGVsZWdhdGUpP2UuaW5wdXRDb250cm9sbGVyRGlkUGFzdGUocyk6dm9pZCAwfX0odGhpcykpOihvPW4uZ2V0RGF0YShcInRleHQvaHRtbFwiKSk/KHMudHlwZT1cInRleHQvaHRtbFwiLHMuaHRtbD1vLG51bGwhPShjPXRoaXMuZGVsZWdhdGUpJiZjLmlucHV0Q29udHJvbGxlcldpbGxQYXN0ZShzKSx0aGlzLndpdGhUYXJnZXRET01SYW5nZShmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5pbnNlcnRIVE1MKHMuaHRtbCk6dm9pZCAwfSksdGhpcy5hZnRlclJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dC5kZWxlZ2F0ZSk/ZS5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShzKTp2b2lkIDB9fSh0aGlzKSk6KG51bGwhPShsPW4uZmlsZXMpP2wubGVuZ3RoOnZvaWQgMCk/KHMudHlwZT1cIkZpbGVcIixzLmZpbGU9bi5maWxlc1swXSxudWxsIT0oaD10aGlzLmRlbGVnYXRlKSYmaC5pbnB1dENvbnRyb2xsZXJXaWxsUGFzdGUocyksdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpP3QuaW5zZXJ0RmlsZShzLmZpbGUpOnZvaWQgMH0pLHRoaXMuYWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU7XG5yZXR1cm4gbnVsbCE9KGU9dC5kZWxlZ2F0ZSk/ZS5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShzKTp2b2lkIDB9fSh0aGlzKSk6dm9pZCAwfSxpbnNlcnRGcm9tWWFuazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluc2VydFN0cmluZyh0aGlzLmV2ZW50LmRhdGEpfSxpbnNlcnRMaW5lQnJlYWs6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnNlcnRTdHJpbmcoXCJcXG5cIil9LGluc2VydExpbms6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmF0ZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwiaHJlZlwiLHRoaXMuZXZlbnQuZGF0YSl9LGluc2VydE9yZGVyZWRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9nZ2xlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJudW1iZXJcIil9LGluc2VydFBhcmFncmFwaDpmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKSYmdC5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLHRoaXMud2l0aFRhcmdldERPTVJhbmdlKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90Lmluc2VydExpbmVCcmVhaygpOnZvaWQgMH0pfSxpbnNlcnRSZXBsYWNlbWVudFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnNlcnRTdHJpbmcodGhpcy5ldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvcGxhaW5cIikse3VwZGF0ZVBvc2l0aW9uOiExfSl9LGluc2VydFRleHQ6ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybiB0aGlzLmluc2VydFN0cmluZyhudWxsIT0odD10aGlzLmV2ZW50LmRhdGEpP3Q6bnVsbCE9KGU9dGhpcy5ldmVudC5kYXRhVHJhbnNmZXIpP2UuZ2V0RGF0YShcInRleHQvcGxhaW5cIik6dm9pZCAwKX0saW5zZXJ0VHJhbnNwb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zZXJ0U3RyaW5nKHRoaXMuZXZlbnQuZGF0YSl9LGluc2VydFVub3JkZXJlZExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcImJ1bGxldFwiKX19LHUucHJvdG90eXBlLmluc2VydFN0cmluZz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsPT10JiYodD1cIlwiKSxudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmbi5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLHRoaXMud2l0aFRhcmdldERPTVJhbmdlKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIG51bGwhPShuPXRoaXMucmVzcG9uZGVyKT9uLmluc2VydFN0cmluZyh0LGUpOnZvaWQgMH0pfSx1LnByb3RvdHlwZS50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZD1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gYS5jYWxsKGUuZ2V0QWxsQXR0cmlidXRlTmFtZXMoKSx0KT49MD8obnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSkmJm4uaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1Gb3JtYXR0aW5nKHQpLHRoaXMud2l0aFRhcmdldERPTVJhbmdlKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMucmVzcG9uZGVyKT9lLnRvZ2dsZUN1cnJlbnRBdHRyaWJ1dGUodCk6dm9pZCAwfSkpOnZvaWQgMH0sdS5wcm90b3R5cGUuYWN0aXZhdGVBdHRyaWJ1dGVJZlN1cHBvcnRlZD1mdW5jdGlvbih0LG4pe3ZhciBpO3JldHVybiBhLmNhbGwoZS5nZXRBbGxBdHRyaWJ1dGVOYW1lcygpLHQpPj0wPyhudWxsIT0oaT10aGlzLmRlbGVnYXRlKSYmaS5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybUZvcm1hdHRpbmcodCksdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5yZXNwb25kZXIpP2Uuc2V0Q3VycmVudEF0dHJpYnV0ZSh0LG4pOnZvaWQgMH0pKTp2b2lkIDB9LHUucHJvdG90eXBlLmRlbGV0ZUluRGlyZWN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvLHI7cmV0dXJuIG89KG51bGwhPWU/ZTp7cmVjb3JkVW5kb0VudHJ5OiEwfSkucmVjb3JkVW5kb0VudHJ5LG8mJm51bGwhPShyPXRoaXMuZGVsZWdhdGUpJiZyLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksaT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gbnVsbCE9KG49ZS5yZXNwb25kZXIpP24uZGVsZXRlSW5EaXJlY3Rpb24odCk6dm9pZCAwfX0odGhpcyksKG49dGhpcy5nZXRUYXJnZXRET01SYW5nZSh7bWluTGVuZ3RoOjJ9KSk/dGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UobixpKTppKCl9LHUucHJvdG90eXBlLndpdGhUYXJnZXRET01SYW5nZT1mdW5jdGlvbih0LG4pe3ZhciBpO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD10aGlzLmdldFRhcmdldERPTVJhbmdlKCkpLHQ/bnVsbCE9KGk9dGhpcy5yZXNwb25kZXIpP2kud2l0aFRhcmdldERPTVJhbmdlKHQsbi5iaW5kKHRoaXMpKTp2b2lkIDA6KGUuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXIucmVzZXQoKSxuLmNhbGwodGhpcykpfSx1LnByb3RvdHlwZS5nZXRUYXJnZXRET01SYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxuLGksbztyZXR1cm4gaT0obnVsbCE9dD90OnttaW5MZW5ndGg6MH0pLm1pbkxlbmd0aCwobz1cImZ1bmN0aW9uXCI9PXR5cGVvZihlPXRoaXMuZXZlbnQpLmdldFRhcmdldFJhbmdlcz9lLmdldFRhcmdldFJhbmdlcygpOnZvaWQgMCkmJm8ubGVuZ3RoJiYobj1mKG9bMF0pLDA9PT1pfHxuLnRvU3RyaW5nKCkubGVuZ3RoPj1pKT9uOnZvaWQgMH0sZj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLGUuc2V0U3RhcnQodC5zdGFydENvbnRhaW5lcix0LnN0YXJ0T2Zmc2V0KSxlLnNldEVuZCh0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCksZX0sdS5wcm90b3R5cGUud2l0aEV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG47dGhpcy5ldmVudD10O3RyeXtuPWUuY2FsbCh0aGlzKX1maW5hbGx5e3RoaXMuZXZlbnQ9bnVsbH1yZXR1cm4gbn0sYz1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBhLmNhbGwobnVsbCE9KGU9bnVsbCE9KG49dC5kYXRhVHJhbnNmZXIpP24udHlwZXM6dm9pZCAwKT9lOltdLFwiRmlsZXNcIik+PTB9LGg9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9dC5jbGlwYm9hcmREYXRhKT9hLmNhbGwoZS50eXBlcyxcIkZpbGVzXCIpPj0wJiYxPT09ZS50eXBlcy5sZW5ndGgmJmUuZmlsZXMubGVuZ3RoPj0xOnZvaWQgMH0scD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10LmNsaXBib2FyZERhdGEpP2EuY2FsbChlLnR5cGVzLFwidGV4dC9wbGFpblwiKT49MCYmMT09PWUudHlwZXMubGVuZ3RoOnZvaWQgMH0sbD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1bXSx0LmFsdEtleSYmZS5wdXNoKFwiYWx0XCIpLHQuc2hpZnRLZXkmJmUucHVzaChcInNoaWZ0XCIpLGUucHVzaCh0LmtleSksZX0sZD1mdW5jdGlvbih0KXtyZXR1cm57eDp0LmNsaWVudFgseTp0LmNsaWVudFl9fSx1fShlLklucHV0Q29udHJvbGxlcil9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxuLGksbyxyLHMsYSx1LGMsbD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LGg9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKXAuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0scD17fS5oYXNPd25Qcm9wZXJ0eTtuPWUuZGVmZXIsaT1lLmVzY2FwZUhUTUwsbz1lLmhhbmRsZUV2ZW50LGE9ZS5tYWtlRWxlbWVudCxjPWUudGFnTmFtZSx1PWUuY29uZmlnLHM9dS5sYW5nLHQ9dS5jc3Mscj11LmtleU5hbWVzLGUuQXR0YWNobWVudEVkaXRvckNvbnRyb2xsZXI9ZnVuY3Rpb24odSl7ZnVuY3Rpb24gcCh0LGUsbixpKXt0aGlzLmF0dGFjaG1lbnRQaWVjZT10LHRoaXMuZWxlbWVudD1lLHRoaXMuY29udGFpbmVyPW4sdGhpcy5vcHRpb25zPW51bGwhPWk/aTp7fSx0aGlzLmRpZEJsdXJDYXB0aW9uPWwodGhpcy5kaWRCbHVyQ2FwdGlvbix0aGlzKSx0aGlzLmRpZENoYW5nZUNhcHRpb249bCh0aGlzLmRpZENoYW5nZUNhcHRpb24sdGhpcyksdGhpcy5kaWRJbnB1dENhcHRpb249bCh0aGlzLmRpZElucHV0Q2FwdGlvbix0aGlzKSx0aGlzLmRpZEtleURvd25DYXB0aW9uPWwodGhpcy5kaWRLZXlEb3duQ2FwdGlvbix0aGlzKSx0aGlzLmRpZENsaWNrQWN0aW9uQnV0dG9uPWwodGhpcy5kaWRDbGlja0FjdGlvbkJ1dHRvbix0aGlzKSx0aGlzLmRpZENsaWNrVG9vbGJhcj1sKHRoaXMuZGlkQ2xpY2tUb29sYmFyLHRoaXMpLHRoaXMuYXR0YWNobWVudD10aGlzLmF0dGFjaG1lbnRQaWVjZS5hdHRhY2htZW50LFwiYVwiPT09Yyh0aGlzLmVsZW1lbnQpJiYodGhpcy5lbGVtZW50PXRoaXMuZWxlbWVudC5maXJzdENoaWxkKSx0aGlzLmluc3RhbGwoKX12YXIgZDtyZXR1cm4gaChwLHUpLGQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksZVtcImRvXCJdKCksbnVsbD09dGhpcy51bmRvcyYmKHRoaXMudW5kb3M9W10pLHRoaXMudW5kb3MucHVzaChlLnVuZG8pfX0scC5wcm90b3R5cGUuaW5zdGFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1ha2VFbGVtZW50TXV0YWJsZSgpLHRoaXMuYWRkVG9vbGJhcigpLHRoaXMuYXR0YWNobWVudC5pc1ByZXZpZXdhYmxlKCk/dGhpcy5pbnN0YWxsQ2FwdGlvbkVkaXRvcigpOnZvaWQgMH0scC5wcm90b3R5cGUudW5pbnN0YWxsPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IodGhpcy5zYXZlUGVuZGluZ0NhcHRpb24oKTtlPXRoaXMudW5kb3MucG9wKCk7KWUoKTtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSk/dC5kaWRVbmluc3RhbGxBdHRhY2htZW50RWRpdG9yKHRoaXMpOnZvaWQgMH0scC5wcm90b3R5cGUuc2F2ZVBlbmRpbmdDYXB0aW9uPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiBudWxsIT10aGlzLnBlbmRpbmdDYXB0aW9uPyh0PXRoaXMucGVuZGluZ0NhcHRpb24sdGhpcy5wZW5kaW5nQ2FwdGlvbj1udWxsLHQ/bnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RVcGRhdGluZ0F0dHJpYnV0ZXNGb3JBdHRhY2htZW50P2UuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RVcGRhdGluZ0F0dHJpYnV0ZXNGb3JBdHRhY2htZW50KHtjYXB0aW9uOnR9LHRoaXMuYXR0YWNobWVudCk6dm9pZCAwOm51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmF0dGFjaG1lbnRFZGl0b3JEaWRSZXF1ZXN0UmVtb3ZpbmdBdHRyaWJ1dGVGb3JBdHRhY2htZW50P24uYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RSZW1vdmluZ0F0dHJpYnV0ZUZvckF0dGFjaG1lbnQoXCJjYXB0aW9uXCIsdGhpcy5hdHRhY2htZW50KTp2b2lkIDApOnZvaWQgMH0scC5wcm90b3R5cGUubWFrZUVsZW1lbnRNdXRhYmxlPWQoZnVuY3Rpb24oKXtyZXR1cm57XCJkb1wiOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmVsZW1lbnQuZGF0YXNldC50cml4TXV0YWJsZT0hMH19KHRoaXMpLHVuZG86ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGRlbGV0ZSB0LmVsZW1lbnQuZGF0YXNldC50cml4TXV0YWJsZX19KHRoaXMpfX0pLHAucHJvdG90eXBlLmFkZFRvb2xiYXI9ZChmdW5jdGlvbigpe3ZhciBuLHIsdTtyZXR1cm4gbj1hKHt0YWdOYW1lOlwiZGl2XCIsY2xhc3NOYW1lOnQuYXR0YWNobWVudFRvb2xiYXIsZGF0YTp7dHJpeE11dGFibGU6ITB9fSksbi5pbm5lckhUTUw9JzxkaXYgY2xhc3M9XCJ0cml4LWJ1dHRvbi1yb3dcIj5cXG4gIDxzcGFuIGNsYXNzPVwidHJpeC1idXR0b24tZ3JvdXAgdHJpeC1idXR0b24tZ3JvdXAtLWFjdGlvbnNcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS10cml4LWFjdGlvbj1cInJlbW92ZVwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLXJlbW92ZVwiIHRpdGxlPVwiJytzLnJlbW92ZSsnXCI+JytzLnJlbW92ZStcIjwvYnV0dG9uPlxcbiAgPC9zcGFuPlxcbjwvZGl2PlwiLHRoaXMuYXR0YWNobWVudC5pc1ByZXZpZXdhYmxlKCkmJihyPWkodGhpcy5hdHRhY2htZW50LmdldEZpbGVuYW1lKCkpLHU9aSh0aGlzLmF0dGFjaG1lbnQuZ2V0Rm9ybWF0dGVkRmlsZXNpemUoKSksbi5pbm5lckhUTUwrPSc8ZGl2IGNsYXNzPVwiJyt0LmF0dGFjaG1lbnRNZXRhZGF0YUNvbnRhaW5lcisnXCI+XFxuICA8c3BhbiBjbGFzcz1cIicrdC5hdHRhY2htZW50TWV0YWRhdGErJ1wiPlxcbiAgICA8c3BhbiBjbGFzcz1cIicrdC5hdHRhY2htZW50TmFtZSsnXCIgdGl0bGU9XCInK3IrJ1wiPicrcisnPC9zcGFuPlxcbiAgICA8c3BhbiBjbGFzcz1cIicrdC5hdHRhY2htZW50U2l6ZSsnXCI+Jyt1K1wiPC9zcGFuPlxcbiAgPC9zcGFuPlxcbjwvZGl2PlwiKSxvKFwiY2xpY2tcIix7b25FbGVtZW50Om4sd2l0aENhbGxiYWNrOnRoaXMuZGlkQ2xpY2tUb29sYmFyfSksbyhcImNsaWNrXCIse29uRWxlbWVudDpuLG1hdGNoaW5nU2VsZWN0b3I6XCJbZGF0YS10cml4LWFjdGlvbl1cIix3aXRoQ2FsbGJhY2s6dGhpcy5kaWRDbGlja0FjdGlvbkJ1dHRvbn0pLHtcImRvXCI6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuZWxlbWVudC5hcHBlbmRDaGlsZChuKX19KHRoaXMpLHVuZG86ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5yZW1vdmVOb2RlKG4pfX0odGhpcyl9fSkscC5wcm90b3R5cGUuaW5zdGFsbENhcHRpb25FZGl0b3I9ZChmdW5jdGlvbigpe3ZhciBpLHIsdSxjLGw7cmV0dXJuIGM9YSh7dGFnTmFtZTpcInRleHRhcmVhXCIsY2xhc3NOYW1lOnQuYXR0YWNobWVudENhcHRpb25FZGl0b3IsYXR0cmlidXRlczp7cGxhY2Vob2xkZXI6cy5jYXB0aW9uUGxhY2Vob2xkZXJ9LGRhdGE6e3RyaXhNdXRhYmxlOiEwfX0pLGMudmFsdWU9dGhpcy5hdHRhY2htZW50UGllY2UuZ2V0Q2FwdGlvbigpLGw9Yy5jbG9uZU5vZGUoKSxsLmNsYXNzTGlzdC5hZGQoXCJ0cml4LWF1dG9yZXNpemUtY2xvbmVcIiksbC50YWJJbmRleD0tMSxpPWZ1bmN0aW9uKCl7cmV0dXJuIGwudmFsdWU9Yy52YWx1ZSxjLnN0eWxlLmhlaWdodD1sLnNjcm9sbEhlaWdodCtcInB4XCJ9LG8oXCJpbnB1dFwiLHtvbkVsZW1lbnQ6Yyx3aXRoQ2FsbGJhY2s6aX0pLG8oXCJpbnB1dFwiLHtvbkVsZW1lbnQ6Yyx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRJbnB1dENhcHRpb259KSxvKFwia2V5ZG93blwiLHtvbkVsZW1lbnQ6Yyx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRLZXlEb3duQ2FwdGlvbn0pLG8oXCJjaGFuZ2VcIix7b25FbGVtZW50OmMsd2l0aENhbGxiYWNrOnRoaXMuZGlkQ2hhbmdlQ2FwdGlvbn0pLG8oXCJibHVyXCIse29uRWxlbWVudDpjLHdpdGhDYWxsYmFjazp0aGlzLmRpZEJsdXJDYXB0aW9ufSksdT10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcImZpZ2NhcHRpb25cIikscj11LmNsb25lTm9kZSgpLHtcImRvXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixyLmFwcGVuZENoaWxkKGMpLHIuYXBwZW5kQ2hpbGQobCksci5jbGFzc0xpc3QuYWRkKHQuYXR0YWNobWVudENhcHRpb24rXCItLWVkaXRpbmdcIiksdS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShyLHUpLGkoKSxlLm9wdGlvbnMuZWRpdENhcHRpb24/bihmdW5jdGlvbigpe3JldHVybiBjLmZvY3VzKCl9KTp2b2lkIDB9fSh0aGlzKSx1bmRvOmZ1bmN0aW9uKCl7cmV0dXJuIGUucmVtb3ZlTm9kZShyKSx1LnN0eWxlLmRpc3BsYXk9bnVsbH19fSkscC5wcm90b3R5cGUuZGlkQ2xpY2tUb29sYmFyPWZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKX0scC5wcm90b3R5cGUuZGlkQ2xpY2tBY3Rpb25CdXR0b249ZnVuY3Rpb24odCl7dmFyIGUsbjtzd2l0Y2goZT10LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtYWN0aW9uXCIpKXtjYXNlXCJyZW1vdmVcIjpyZXR1cm4gbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSk/bi5hdHRhY2htZW50RWRpdG9yRGlkUmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQodGhpcy5hdHRhY2htZW50KTp2b2lkIDB9fSxwLnByb3RvdHlwZS5kaWRLZXlEb3duQ2FwdGlvbj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm5cInJldHVyblwiPT09clt0LmtleUNvZGVdPyh0LnByZXZlbnREZWZhdWx0KCksdGhpcy5zYXZlUGVuZGluZ0NhcHRpb24oKSxudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hdHRhY2htZW50RWRpdG9yRGlkUmVxdWVzdERlc2VsZWN0aW5nQXR0YWNobWVudD9lLmF0dGFjaG1lbnRFZGl0b3JEaWRSZXF1ZXN0RGVzZWxlY3RpbmdBdHRhY2htZW50KHRoaXMuYXR0YWNobWVudCk6dm9pZCAwKTp2b2lkIDB9LHAucHJvdG90eXBlLmRpZElucHV0Q2FwdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wZW5kaW5nQ2FwdGlvbj10LnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cXHMvZyxcIiBcIikudHJpbSgpfSxwLnByb3RvdHlwZS5kaWRDaGFuZ2VDYXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2F2ZVBlbmRpbmdDYXB0aW9uKCl9LHAucHJvdG90eXBlLmRpZEJsdXJDYXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2F2ZVBlbmRpbmdDYXB0aW9uKCl9LHB9KGUuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG89ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKXIuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0scj17fS5oYXNPd25Qcm9wZXJ0eTtpPWUubWFrZUVsZW1lbnQsdD1lLmNvbmZpZy5jc3MsZS5BdHRhY2htZW50Vmlldz1mdW5jdGlvbihyKXtmdW5jdGlvbiBzKCl7cy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuYXR0YWNobWVudD10aGlzLm9iamVjdCx0aGlzLmF0dGFjaG1lbnQudXBsb2FkUHJvZ3Jlc3NEZWxlZ2F0ZT10aGlzLHRoaXMuYXR0YWNobWVudFBpZWNlPXRoaXMub3B0aW9ucy5waWVjZX12YXIgYTtyZXR1cm4gbyhzLHIpLHMuYXR0YWNobWVudFNlbGVjdG9yPVwiW2RhdGEtdHJpeC1hdHRhY2htZW50XVwiLHMucHJvdG90eXBlLmNyZWF0ZUNvbnRlbnROb2Rlcz1mdW5jdGlvbigpe3JldHVybltdfSxzLnByb3RvdHlwZS5jcmVhdGVOb2Rlcz1mdW5jdGlvbigpe3ZhciBlLG4sbyxyLHMsdSxjO2lmKGU9cj1pKHt0YWdOYW1lOlwiZmlndXJlXCIsY2xhc3NOYW1lOnRoaXMuZ2V0Q2xhc3NOYW1lKCksZGF0YTp0aGlzLmdldERhdGEoKSxlZGl0YWJsZTohMX0pLChuPXRoaXMuZ2V0SHJlZigpKSYmKHI9aSh7dGFnTmFtZTpcImFcIixlZGl0YWJsZTohMSxhdHRyaWJ1dGVzOntocmVmOm4sdGFiaW5kZXg6LTF9fSksZS5hcHBlbmRDaGlsZChyKSksdGhpcy5hdHRhY2htZW50Lmhhc0NvbnRlbnQoKSlyLmlubmVySFRNTD10aGlzLmF0dGFjaG1lbnQuZ2V0Q29udGVudCgpO2Vsc2UgZm9yKGM9dGhpcy5jcmVhdGVDb250ZW50Tm9kZXMoKSxvPTAscz1jLmxlbmd0aDtzPm87bysrKXU9Y1tvXSxyLmFwcGVuZENoaWxkKHUpO3JldHVybiByLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQ2FwdGlvbkVsZW1lbnQoKSksdGhpcy5hdHRhY2htZW50LmlzUGVuZGluZygpJiYodGhpcy5wcm9ncmVzc0VsZW1lbnQ9aSh7dGFnTmFtZTpcInByb2dyZXNzXCIsYXR0cmlidXRlczp7XCJjbGFzc1wiOnQuYXR0YWNobWVudFByb2dyZXNzLHZhbHVlOnRoaXMuYXR0YWNobWVudC5nZXRVcGxvYWRQcm9ncmVzcygpLG1heDoxMDB9LGRhdGE6e3RyaXhNdXRhYmxlOiEwLHRyaXhTdG9yZUtleTpbXCJwcm9ncmVzc0VsZW1lbnRcIix0aGlzLmF0dGFjaG1lbnQuaWRdLmpvaW4oXCIvXCIpfX0pLGUuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc0VsZW1lbnQpKSxbYShcImxlZnRcIiksZSxhKFwicmlnaHRcIildfSxzLnByb3RvdHlwZS5jcmVhdGVDYXB0aW9uRWxlbWVudD1mdW5jdGlvbigpe3ZhciBlLG4sbyxyLHMsYSx1O3JldHVybiBvPWkoe3RhZ05hbWU6XCJmaWdjYXB0aW9uXCIsY2xhc3NOYW1lOnQuYXR0YWNobWVudENhcHRpb259KSwoZT10aGlzLmF0dGFjaG1lbnRQaWVjZS5nZXRDYXB0aW9uKCkpPyhvLmNsYXNzTGlzdC5hZGQodC5hdHRhY2htZW50Q2FwdGlvbitcIi0tZWRpdGVkXCIpLG8udGV4dENvbnRlbnQ9ZSk6KG49dGhpcy5nZXRDYXB0aW9uQ29uZmlnKCksbi5uYW1lJiYocj10aGlzLmF0dGFjaG1lbnQuZ2V0RmlsZW5hbWUoKSksbi5zaXplJiYoYT10aGlzLmF0dGFjaG1lbnQuZ2V0Rm9ybWF0dGVkRmlsZXNpemUoKSksciYmKHM9aSh7dGFnTmFtZTpcInNwYW5cIixjbGFzc05hbWU6dC5hdHRhY2htZW50TmFtZSx0ZXh0Q29udGVudDpyfSksby5hcHBlbmRDaGlsZChzKSksYSYmKHImJm8uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKSx1PWkoe3RhZ05hbWU6XCJzcGFuXCIsY2xhc3NOYW1lOnQuYXR0YWNobWVudFNpemUsdGV4dENvbnRlbnQ6YX0pLG8uYXBwZW5kQ2hpbGQodSkpKSxvfSxzLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBuPVt0LmF0dGFjaG1lbnQsdC5hdHRhY2htZW50K1wiLS1cIit0aGlzLmF0dGFjaG1lbnQuZ2V0VHlwZSgpXSwoZT10aGlzLmF0dGFjaG1lbnQuZ2V0RXh0ZW5zaW9uKCkpJiZuLnB1c2godC5hdHRhY2htZW50K1wiLS1cIitlKSxuLmpvaW4oXCIgXCIpfSxzLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gZT17dHJpeEF0dGFjaG1lbnQ6SlNPTi5zdHJpbmdpZnkodGhpcy5hdHRhY2htZW50KSx0cml4Q29udGVudFR5cGU6dGhpcy5hdHRhY2htZW50LmdldENvbnRlbnRUeXBlKCksdHJpeElkOnRoaXMuYXR0YWNobWVudC5pZH0sdD10aGlzLmF0dGFjaG1lbnRQaWVjZS5hdHRyaWJ1dGVzLHQuaXNFbXB0eSgpfHwoZS50cml4QXR0cmlidXRlcz1KU09OLnN0cmluZ2lmeSh0KSksdGhpcy5hdHRhY2htZW50LmlzUGVuZGluZygpJiYoZS50cml4U2VyaWFsaXplPSExKSxlfSxzLnByb3RvdHlwZS5nZXRIcmVmPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy5hdHRhY2htZW50LmdldENvbnRlbnQoKSxcImFcIik/dm9pZCAwOnRoaXMuYXR0YWNobWVudC5nZXRIcmVmKCl9LHMucHJvdG90eXBlLmdldENhcHRpb25Db25maWc9ZnVuY3Rpb24oKXt2YXIgdCxuLGk7cmV0dXJuIGk9dGhpcy5hdHRhY2htZW50LmdldFR5cGUoKSx0PWUuY29weU9iamVjdChudWxsIT0obj1lLmNvbmZpZy5hdHRhY2htZW50c1tpXSk/bi5jYXB0aW9uOnZvaWQgMCksXCJmaWxlXCI9PT1pJiYodC5uYW1lPSEwKSx0fSxzLnByb3RvdHlwZS5maW5kUHJvZ3Jlc3NFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZmluZEVsZW1lbnQoKSk/dC5xdWVyeVNlbGVjdG9yKFwicHJvZ3Jlc3NcIik6dm9pZCAwfSxhPWZ1bmN0aW9uKHQpe3JldHVybiBpKHt0YWdOYW1lOlwic3BhblwiLHRleHRDb250ZW50OmUuWkVST19XSURUSF9TUEFDRSxkYXRhOnt0cml4Q3Vyc29yVGFyZ2V0OnQsdHJpeFNlcmlhbGl6ZTohMX19KX0scy5wcm90b3R5cGUuYXR0YWNobWVudERpZENoYW5nZVVwbG9hZFByb2dyZXNzPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gZT10aGlzLmF0dGFjaG1lbnQuZ2V0VXBsb2FkUHJvZ3Jlc3MoKSxudWxsIT0odD10aGlzLmZpbmRQcm9ncmVzc0VsZW1lbnQoKSk/dC52YWx1ZT1lOnZvaWQgMH0sc30oZS5PYmplY3RWaWV3KSxuPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49aShcImRpdlwiKSxuLmlubmVySFRNTD1udWxsIT10P3Q6XCJcIixuLnF1ZXJ5U2VsZWN0b3IoZSl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbj1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBvIGluIGUpaS5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxpPXt9Lmhhc093blByb3BlcnR5O3Q9ZS5tYWtlRWxlbWVudCxlLlByZXZpZXdhYmxlQXR0YWNobWVudFZpZXc9ZnVuY3Rpb24oaSl7ZnVuY3Rpb24gbygpe28uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmF0dGFjaG1lbnQucHJldmlld0RlbGVnYXRlPXRoaXN9cmV0dXJuIG4obyxpKSxvLnByb3RvdHlwZS5jcmVhdGVDb250ZW50Tm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnZT10KHt0YWdOYW1lOlwiaW1nXCIsYXR0cmlidXRlczp7c3JjOlwiXCJ9LGRhdGE6e3RyaXhNdXRhYmxlOiEwfX0pLHRoaXMucmVmcmVzaCh0aGlzLmltYWdlKSxbdGhpcy5pbWFnZV19LG8ucHJvdG90eXBlLmNyZWF0ZUNhcHRpb25FbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9by5fX3N1cGVyX18uY3JlYXRlQ2FwdGlvbkVsZW1lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQudGV4dENvbnRlbnR8fHQuc2V0QXR0cmlidXRlKFwiZGF0YS10cml4LXBsYWNlaG9sZGVyXCIsZS5jb25maWcubGFuZy5jYXB0aW9uUGxhY2Vob2xkZXIpLHR9LG8ucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGw9PXQmJih0PW51bGwhPShlPXRoaXMuZmluZEVsZW1lbnQoKSk/ZS5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpOnZvaWQgMCksdD90aGlzLnVwZGF0ZUF0dHJpYnV0ZXNGb3JJbWFnZSh0KTp2b2lkIDB9LG8ucHJvdG90eXBlLnVwZGF0ZUF0dHJpYnV0ZXNGb3JJbWFnZT1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyLHM7cmV0dXJuIHI9dGhpcy5hdHRhY2htZW50LmdldFVSTCgpLG49dGhpcy5hdHRhY2htZW50LmdldFByZXZpZXdVUkwoKSx0LnNyYz1ufHxyLG49PT1yP3QucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS10cml4LXNlcmlhbGl6ZWQtYXR0cmlidXRlc1wiKTooaT1KU09OLnN0cmluZ2lmeSh7c3JjOnJ9KSx0LnNldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1zZXJpYWxpemVkLWF0dHJpYnV0ZXNcIixpKSkscz10aGlzLmF0dGFjaG1lbnQuZ2V0V2lkdGgoKSxlPXRoaXMuYXR0YWNobWVudC5nZXRIZWlnaHQoKSxudWxsIT1zJiYodC53aWR0aD1zKSxudWxsIT1lJiYodC5oZWlnaHQ9ZSksbz1bXCJpbWFnZUVsZW1lbnRcIix0aGlzLmF0dGFjaG1lbnQuaWQsdC5zcmMsdC53aWR0aCx0LmhlaWdodF0uam9pbihcIi9cIiksdC5kYXRhc2V0LnRyaXhTdG9yZUtleT1vfSxvLnByb3RvdHlwZS5hdHRhY2htZW50RGlkQ2hhbmdlQXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlZnJlc2godGhpcy5pbWFnZSksdGhpcy5yZWZyZXNoKCl9LG99KGUuQXR0YWNobWVudFZpZXcpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG89ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKXIuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0scj17fS5oYXNPd25Qcm9wZXJ0eTtpPWUubWFrZUVsZW1lbnQsdD1lLmZpbmRJbm5lckVsZW1lbnQsbj1lLmdldFRleHRDb25maWcsZS5QaWVjZVZpZXc9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gcygpe3ZhciB0O3MuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnBpZWNlPXRoaXMub2JqZWN0LHRoaXMuYXR0cmlidXRlcz10aGlzLnBpZWNlLmdldEF0dHJpYnV0ZXMoKSx0PXRoaXMub3B0aW9ucyx0aGlzLnRleHRDb25maWc9dC50ZXh0Q29uZmlnLHRoaXMuY29udGV4dD10LmNvbnRleHQsdGhpcy5waWVjZS5hdHRhY2htZW50P3RoaXMuYXR0YWNobWVudD10aGlzLnBpZWNlLmF0dGFjaG1lbnQ6dGhpcy5zdHJpbmc9dGhpcy5waWVjZS50b1N0cmluZygpfXZhciBhO3JldHVybiBvKHMscikscy5wcm90b3R5cGUuY3JlYXRlTm9kZXM9ZnVuY3Rpb24oKXt2YXIgZSxuLGksbyxyLHM7aWYocz10aGlzLmF0dGFjaG1lbnQ/dGhpcy5jcmVhdGVBdHRhY2htZW50Tm9kZXMoKTp0aGlzLmNyZWF0ZVN0cmluZ05vZGVzKCksZT10aGlzLmNyZWF0ZUVsZW1lbnQoKSl7Zm9yKGk9dChlKSxuPTAsbz1zLmxlbmd0aDtvPm47bisrKXI9c1tuXSxpLmFwcGVuZENoaWxkKHIpO3M9W2VdfXJldHVybiBzfSxzLnByb3RvdHlwZS5jcmVhdGVBdHRhY2htZW50Tm9kZXM9ZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiB0PXRoaXMuYXR0YWNobWVudC5pc1ByZXZpZXdhYmxlKCk/ZS5QcmV2aWV3YWJsZUF0dGFjaG1lbnRWaWV3OmUuQXR0YWNobWVudFZpZXcsbj10aGlzLmNyZWF0ZUNoaWxkVmlldyh0LHRoaXMucGllY2UuYXR0YWNobWVudCx7cGllY2U6dGhpcy5waWVjZX0pLG4uZ2V0Tm9kZXMoKX0scy5wcm90b3R5cGUuY3JlYXRlU3RyaW5nTm9kZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4sbyxyLHMsYSx1LGMsbDtpZihudWxsIT0odT10aGlzLnRleHRDb25maWcpP3UucGxhaW50ZXh0OnZvaWQgMClyZXR1cm5bZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5zdHJpbmcpXTtmb3IoYT1bXSxjPXRoaXMuc3RyaW5nLnNwbGl0KFwiXFxuXCIpLG49ZT0wLG89Yy5sZW5ndGg7bz5lO249KytlKWw9Y1tuXSxuPjAmJih0PWkoXCJiclwiKSxhLnB1c2godCkpLChyPWwubGVuZ3RoKSYmKHM9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5wcmVzZXJ2ZVNwYWNlcyhsKSksYS5wdXNoKHMpKTtyZXR1cm4gYX0scy5wcm90b3R5cGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbigpe3ZhciB0LGUsbyxyLHMsYSx1LGMsbDtjPXt9LGE9dGhpcy5hdHRyaWJ1dGVzO2ZvcihyIGluIGEpaWYobD1hW3JdLCh0PW4ocikpJiYodC50YWdOYW1lJiYocz1pKHQudGFnTmFtZSksbz8oby5hcHBlbmRDaGlsZChzKSxvPXMpOmU9bz1zKSx0LnN0eWxlUHJvcGVydHkmJihjW3Quc3R5bGVQcm9wZXJ0eV09bCksdC5zdHlsZSkpe3U9dC5zdHlsZTtmb3IociBpbiB1KWw9dVtyXSxjW3JdPWx9aWYoT2JqZWN0LmtleXMoYykubGVuZ3RoKXtudWxsPT1lJiYoZT1pKFwic3BhblwiKSk7Zm9yKHIgaW4gYylsPWNbcl0sZS5zdHlsZVtyXT1sfXJldHVybiBlfSxzLnByb3RvdHlwZS5jcmVhdGVDb250YWluZXJFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQsZSxvLHIscztyPXRoaXMuYXR0cmlidXRlcztmb3IobyBpbiByKWlmKHM9cltvXSwoZT1uKG8pKSYmZS5ncm91cFRhZ05hbWUpcmV0dXJuIHQ9e30sdFtvXT1zLGkoZS5ncm91cFRhZ05hbWUsdCl9LGE9ZS5OT05fQlJFQUtJTkdfU1BBQ0Uscy5wcm90b3R5cGUucHJlc2VydmVTcGFjZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGV4dC5pc0xhc3QmJih0PXQucmVwbGFjZSgvXFwgJC8sYSkpLHQ9dC5yZXBsYWNlKC8oXFxTKVxcIHszfShcXFMpL2csXCIkMSBcIithK1wiICQyXCIpLnJlcGxhY2UoL1xcIHsyfS9nLGErXCIgXCIpLnJlcGxhY2UoL1xcIHsyfS9nLFwiIFwiK2EpLCh0aGlzLmNvbnRleHQuaXNGaXJzdHx8dGhpcy5jb250ZXh0LmZvbGxvd3NXaGl0ZXNwYWNlKSYmKHQ9dC5yZXBsYWNlKC9eXFwgLyxhKSksdH0sc30oZS5PYmplY3RWaWV3KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIG8gaW4gZSluLmNhbGwoZSxvKSYmKHRbb109ZVtvXSk7cmV0dXJuIGkucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBpLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG49e30uaGFzT3duUHJvcGVydHk7ZS5UZXh0Vmlldz1mdW5jdGlvbihuKXtmdW5jdGlvbiBpKCl7aS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudGV4dD10aGlzLm9iamVjdCx0aGlzLnRleHRDb25maWc9dGhpcy5vcHRpb25zLnRleHRDb25maWd9dmFyIG87cmV0dXJuIHQoaSxuKSxpLnByb3RvdHlwZS5jcmVhdGVOb2Rlcz1mdW5jdGlvbigpe3ZhciB0LG4saSxyLHMsYSx1LGMsbCxoO2ZvcihhPVtdLGM9ZS5PYmplY3RHcm91cC5ncm91cE9iamVjdHModGhpcy5nZXRQaWVjZXMoKSkscj1jLmxlbmd0aC0xLGk9bj0wLHM9Yy5sZW5ndGg7cz5uO2k9KytuKXU9Y1tpXSx0PXt9LDA9PT1pJiYodC5pc0ZpcnN0PSEwKSxpPT09ciYmKHQuaXNMYXN0PSEwKSxvKGwpJiYodC5mb2xsb3dzV2hpdGVzcGFjZT0hMCksaD10aGlzLmZpbmRPckNyZWF0ZUNhY2hlZENoaWxkVmlldyhlLlBpZWNlVmlldyx1LHt0ZXh0Q29uZmlnOnRoaXMudGV4dENvbmZpZyxjb250ZXh0OnR9KSxhLnB1c2guYXBwbHkoYSxoLmdldE5vZGVzKCkpLGw9dTtyZXR1cm4gYX0saS5wcm90b3R5cGUuZ2V0UGllY2VzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbztmb3IoaT10aGlzLnRleHQuZ2V0UGllY2VzKCksbz1bXSx0PTAsZT1pLmxlbmd0aDtlPnQ7dCsrKW49aVt0XSxuLmhhc0F0dHJpYnV0ZShcImJsb2NrQnJlYWtcIil8fG8ucHVzaChuKTtyZXR1cm4gb30sbz1mdW5jdGlvbih0KXtyZXR1cm4vXFxzJC8udGVzdChudWxsIT10P3QudG9TdHJpbmcoKTp2b2lkIDApfSxpfShlLk9iamVjdFZpZXcpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG89ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKXIuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0scj17fS5oYXNPd25Qcm9wZXJ0eTtpPWUubWFrZUVsZW1lbnQsbj1lLmdldEJsb2NrQ29uZmlnLHQ9ZS5jb25maWcuY3NzLGUuQmxvY2tWaWV3PWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIHMoKXtzLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5ibG9jaz10aGlzLm9iamVjdCx0aGlzLmF0dHJpYnV0ZXM9dGhpcy5ibG9jay5nZXRBdHRyaWJ1dGVzKCl9cmV0dXJuIG8ocyxyKSxzLnByb3RvdHlwZS5jcmVhdGVOb2Rlcz1mdW5jdGlvbigpe3ZhciB0LG8scixzLGEsdSxjLGwsaDtpZih0PWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJibG9ja1wiKSx1PVt0XSx0aGlzLmJsb2NrLmlzRW1wdHkoKT91LnB1c2goaShcImJyXCIpKToobD1udWxsIT0oYz1uKHRoaXMuYmxvY2suZ2V0TGFzdEF0dHJpYnV0ZSgpKSk/Yy50ZXh0OnZvaWQgMCxoPXRoaXMuZmluZE9yQ3JlYXRlQ2FjaGVkQ2hpbGRWaWV3KGUuVGV4dFZpZXcsdGhpcy5ibG9jay50ZXh0LHt0ZXh0Q29uZmlnOmx9KSx1LnB1c2guYXBwbHkodSxoLmdldE5vZGVzKCkpLHRoaXMuc2hvdWxkQWRkRXh0cmFOZXdsaW5lRWxlbWVudCgpJiZ1LnB1c2goaShcImJyXCIpKSksdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aClyZXR1cm4gdTtmb3Iobz1pKGUuY29uZmlnLmJsb2NrQXR0cmlidXRlc1tcImRlZmF1bHRcIl0udGFnTmFtZSkscj0wLHM9dS5sZW5ndGg7cz5yO3IrKylhPXVbcl0sby5hcHBlbmRDaGlsZChhKTtyZXR1cm5bb119LHMucHJvdG90eXBlLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIG8scixzLGE7cmV0dXJuIG89dGhpcy5hdHRyaWJ1dGVzW2VdLGE9bihvKS50YWdOYW1lLHI9e3RhZ05hbWU6YX0sXCJhdHRhY2htZW50R2FsbGVyeVwiPT09byYmKHM9dGhpcy5ibG9jay5nZXRCbG9ja0JyZWFrUG9zaXRpb24oKSxyLmNsYXNzTmFtZT10LmF0dGFjaG1lbnRHYWxsZXJ5K1wiIFwiK3QuYXR0YWNobWVudEdhbGxlcnkrXCItLVwiK3MpLGkocil9LHMucHJvdG90eXBlLnNob3VsZEFkZEV4dHJhTmV3bGluZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4vXFxuXFxuJC8udGVzdCh0aGlzLmJsb2NrLnRvU3RyaW5nKCkpfSxzfShlLk9iamVjdFZpZXcpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gZSlvLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG89e30uaGFzT3duUHJvcGVydHk7dD1lLmRlZmVyLG49ZS5tYWtlRWxlbWVudCxlLkRvY3VtZW50Vmlldz1mdW5jdGlvbihvKXtmdW5jdGlvbiByKCl7ci5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuZWxlbWVudD10aGlzLm9wdGlvbnMuZWxlbWVudCx0aGlzLmVsZW1lbnRTdG9yZT1uZXcgZS5FbGVtZW50U3RvcmUsdGhpcy5zZXREb2N1bWVudCh0aGlzLm9iamVjdCl9dmFyIHMsYSx1O3JldHVybiBpKHIsbyksci5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGUsaTtyZXR1cm4gZT1uKFwiZGl2XCIpLGk9bmV3IHRoaXModCx7ZWxlbWVudDplfSksaS5yZW5kZXIoKSxpLnN5bmMoKSxlfSxyLnByb3RvdHlwZS5zZXREb2N1bWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5pc0VxdWFsVG8odGhpcy5kb2N1bWVudCk/dm9pZCAwOnRoaXMuZG9jdW1lbnQ9dGhpcy5vYmplY3Q9dH0sci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQsaSxvLHIscyxhLHU7aWYodGhpcy5jaGlsZFZpZXdzPVtdLHRoaXMuc2hhZG93RWxlbWVudD1uKFwiZGl2XCIpLCF0aGlzLmRvY3VtZW50LmlzRW1wdHkoKSl7Zm9yKHM9ZS5PYmplY3RHcm91cC5ncm91cE9iamVjdHModGhpcy5kb2N1bWVudC5nZXRCbG9ja3MoKSx7YXNUcmVlOiEwfSksYT1bXSx0PTAsaT1zLmxlbmd0aDtpPnQ7dCsrKXI9c1t0XSx1PXRoaXMuZmluZE9yQ3JlYXRlQ2FjaGVkQ2hpbGRWaWV3KGUuQmxvY2tWaWV3LHIpLGEucHVzaChmdW5jdGlvbigpe3ZhciB0LGUsbixpO2ZvcihuPXUuZ2V0Tm9kZXMoKSxpPVtdLHQ9MCxlPW4ubGVuZ3RoO2U+dDt0Kyspbz1uW3RdLGkucHVzaCh0aGlzLnNoYWRvd0VsZW1lbnQuYXBwZW5kQ2hpbGQobykpO3JldHVybiBpfS5jYWxsKHRoaXMpKTtyZXR1cm4gYX19LHIucHJvdG90eXBlLmlzU3luY2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcy5zaGFkb3dFbGVtZW50LHRoaXMuZWxlbWVudCl9LHIucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24oKXt2YXIgdDtmb3IodD10aGlzLmNyZWF0ZURvY3VtZW50RnJhZ21lbnRGb3JTeW5jKCk7dGhpcy5lbGVtZW50Lmxhc3RDaGlsZDspdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudC5sYXN0Q2hpbGQpO3JldHVybiB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodCksdGhpcy5kaWRTeW5jKCl9LHIucHJvdG90eXBlLmRpZFN5bmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50U3RvcmUucmVzZXQoYSh0aGlzLmVsZW1lbnQpKSx0KGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmdhcmJhZ2VDb2xsZWN0Q2FjaGVkVmlld3MoKX19KHRoaXMpKX0sci5wcm90b3R5cGUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudEZvclN5bmM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLHIscyx1LGMsbDtmb3IoZT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdT10aGlzLnNoYWRvd0VsZW1lbnQuY2hpbGROb2RlcyxuPTAsbz11Lmxlbmd0aDtvPm47bisrKXM9dVtuXSxlLmFwcGVuZENoaWxkKHMuY2xvbmVOb2RlKCEwKSk7Zm9yKGM9YShlKSxpPTAscj1jLmxlbmd0aDtyPmk7aSsrKXQ9Y1tpXSwobD10aGlzLmVsZW1lbnRTdG9yZS5yZW1vdmUodCkpJiZ0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGwsdCk7cmV0dXJuIGV9LGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRyaXgtc3RvcmUta2V5XVwiKX0scz1mdW5jdGlvbih0LGUpe3JldHVybiB1KHQuaW5uZXJIVE1MKT09PXUoZS5pbm5lckhUTUwpfSx1PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLyZuYnNwOy9nLFwiIFwiKX0scn0oZS5PYmplY3RWaWV3KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saSxvLHIscz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LGE9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKXUuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sdT17fS5oYXNPd25Qcm9wZXJ0eTtpPWUuZmluZENsb3Nlc3RFbGVtZW50RnJvbU5vZGUsbz1lLmhhbmRsZUV2ZW50LHI9ZS5pbm5lckVsZW1lbnRJc0FjdGl2ZSxuPWUuZGVmZXIsdD1lLkF0dGFjaG1lbnRWaWV3LmF0dGFjaG1lbnRTZWxlY3RvcixlLkNvbXBvc2l0aW9uQ29udHJvbGxlcj1mdW5jdGlvbih1KXtmdW5jdGlvbiBjKG4saSl7dGhpcy5lbGVtZW50PW4sdGhpcy5jb21wb3NpdGlvbj1pLHRoaXMuZGlkQ2xpY2tBdHRhY2htZW50PXModGhpcy5kaWRDbGlja0F0dGFjaG1lbnQsdGhpcyksdGhpcy5kaWRCbHVyPXModGhpcy5kaWRCbHVyLHRoaXMpLHRoaXMuZGlkRm9jdXM9cyh0aGlzLmRpZEZvY3VzLHRoaXMpLHRoaXMuZG9jdW1lbnRWaWV3PW5ldyBlLkRvY3VtZW50Vmlldyh0aGlzLmNvbXBvc2l0aW9uLmRvY3VtZW50LHtlbGVtZW50OnRoaXMuZWxlbWVudH0pLG8oXCJmb2N1c1wiLHtvbkVsZW1lbnQ6dGhpcy5lbGVtZW50LHdpdGhDYWxsYmFjazp0aGlzLmRpZEZvY3VzfSksbyhcImJsdXJcIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRCbHVyfSksbyhcImNsaWNrXCIse29uRWxlbWVudDp0aGlzLmVsZW1lbnQsbWF0Y2hpbmdTZWxlY3RvcjpcImFbY29udGVudGVkaXRhYmxlPWZhbHNlXVwiLHByZXZlbnREZWZhdWx0OiEwfSksbyhcIm1vdXNlZG93blwiLHtvbkVsZW1lbnQ6dGhpcy5lbGVtZW50LG1hdGNoaW5nU2VsZWN0b3I6dCx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRDbGlja0F0dGFjaG1lbnR9KSxvKFwiY2xpY2tcIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCxtYXRjaGluZ1NlbGVjdG9yOlwiYVwiK3QscHJldmVudERlZmF1bHQ6ITB9KX1yZXR1cm4gYShjLHUpLGMucHJvdG90eXBlLmRpZEZvY3VzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiB0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlO3JldHVybiB0LmZvY3VzZWQ/dm9pZCAwOih0LmZvY3VzZWQ9ITAsbnVsbCE9KGU9dC5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkRm9jdXM/ZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRGb2N1cygpOnZvaWQgMCl9fSh0aGlzKSxudWxsIT0oZT1udWxsIT0obj10aGlzLmJsdXJQcm9taXNlKT9uLnRoZW4odCk6dm9pZCAwKT9lOnQoKX0sYy5wcm90b3R5cGUuZGlkQmx1cj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsdXJQcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihmdW5jdGlvbigpe3ZhciBuO3JldHVybiByKHQuZWxlbWVudCl8fCh0LmZvY3VzZWQ9bnVsbCxudWxsIT0obj10LmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRCbHVyJiZuLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZEJsdXIoKSksdC5ibHVyUHJvbWlzZT1udWxsLGUoKX0pfX0odGhpcykpfSxjLnByb3RvdHlwZS5kaWRDbGlja0F0dGFjaG1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbixvLHI7cmV0dXJuIG49dGhpcy5maW5kQXR0YWNobWVudEZvckVsZW1lbnQoZSksbz1udWxsIT1pKHQudGFyZ2V0LHttYXRjaGluZ1NlbGVjdG9yOlwiZmlnY2FwdGlvblwifSksbnVsbCE9KHI9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuY29tcG9zaXRpb25Db250cm9sbGVyRGlkU2VsZWN0QXR0YWNobWVudD9yLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFNlbGVjdEF0dGFjaG1lbnQobix7ZWRpdENhcHRpb246b30pOnZvaWQgMH0sYy5wcm90b3R5cGUuZ2V0U2VyaWFsaXphYmxlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRWRpdGluZ0F0dGFjaG1lbnQoKT90aGlzLmRvY3VtZW50Vmlldy5zaGFkb3dFbGVtZW50OnRoaXMuZWxlbWVudH0sYy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiB0aGlzLnJldmlzaW9uIT09dGhpcy5jb21wb3NpdGlvbi5yZXZpc2lvbiYmKHRoaXMuZG9jdW1lbnRWaWV3LnNldERvY3VtZW50KHRoaXMuY29tcG9zaXRpb24uZG9jdW1lbnQpLHRoaXMuZG9jdW1lbnRWaWV3LnJlbmRlcigpLHRoaXMucmV2aXNpb249dGhpcy5jb21wb3NpdGlvbi5yZXZpc2lvbiksdGhpcy5jYW5TeW5jRG9jdW1lbnRWaWV3KCkmJiF0aGlzLmRvY3VtZW50Vmlldy5pc1N5bmNlZCgpJiYobnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFN5bmNEb2N1bWVudFZpZXcmJnQuY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFN5bmNEb2N1bWVudFZpZXcoKSx0aGlzLmRvY3VtZW50Vmlldy5zeW5jKCksbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkU3luY0RvY3VtZW50VmlldyYmZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRTeW5jRG9jdW1lbnRWaWV3KCkpLG51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFJlbmRlcj9uLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFJlbmRlcigpOnZvaWQgMH0sYy5wcm90b3R5cGUucmVyZW5kZXJWaWV3Rm9yT2JqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmludmFsaWRhdGVWaWV3Rm9yT2JqZWN0KHQpLHRoaXMucmVuZGVyKCl9LGMucHJvdG90eXBlLmludmFsaWRhdGVWaWV3Rm9yT2JqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRvY3VtZW50Vmlldy5pbnZhbGlkYXRlVmlld0Zvck9iamVjdCh0KX0sYy5wcm90b3R5cGUuaXNWaWV3Q2FjaGluZ0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudFZpZXcuaXNWaWV3Q2FjaGluZ0VuYWJsZWQoKX0sYy5wcm90b3R5cGUuZW5hYmxlVmlld0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudFZpZXcuZW5hYmxlVmlld0NhY2hpbmcoKX0sYy5wcm90b3R5cGUuZGlzYWJsZVZpZXdDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRWaWV3LmRpc2FibGVWaWV3Q2FjaGluZygpfSxjLnByb3RvdHlwZS5yZWZyZXNoVmlld0NhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRWaWV3LmdhcmJhZ2VDb2xsZWN0Q2FjaGVkVmlld3MoKX0sYy5wcm90b3R5cGUuaXNFZGl0aW5nQXR0YWNobWVudD1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmF0dGFjaG1lbnRFZGl0b3J9LGMucHJvdG90eXBlLmluc3RhbGxBdHRhY2htZW50RWRpdG9yRm9yQXR0YWNobWVudD1mdW5jdGlvbih0LG4pe3ZhciBpLG8scjtpZigobnVsbCE9KHI9dGhpcy5hdHRhY2htZW50RWRpdG9yKT9yLmF0dGFjaG1lbnQ6dm9pZCAwKSE9PXQmJihvPXRoaXMuZG9jdW1lbnRWaWV3LmZpbmRFbGVtZW50Rm9yT2JqZWN0KHQpKSlyZXR1cm4gdGhpcy51bmluc3RhbGxBdHRhY2htZW50RWRpdG9yKCksaT10aGlzLmNvbXBvc2l0aW9uLmRvY3VtZW50LmdldEF0dGFjaG1lbnRQaWVjZUZvckF0dGFjaG1lbnQodCksdGhpcy5hdHRhY2htZW50RWRpdG9yPW5ldyBlLkF0dGFjaG1lbnRFZGl0b3JDb250cm9sbGVyKGksbyx0aGlzLmVsZW1lbnQsbiksdGhpcy5hdHRhY2htZW50RWRpdG9yLmRlbGVnYXRlPXRoaXN9LGMucHJvdG90eXBlLnVuaW5zdGFsbEF0dGFjaG1lbnRFZGl0b3I9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5hdHRhY2htZW50RWRpdG9yKT90LnVuaW5zdGFsbCgpOnZvaWQgMH0sYy5wcm90b3R5cGUuZGlkVW5pbnN0YWxsQXR0YWNobWVudEVkaXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dGFjaG1lbnRFZGl0b3I9bnVsbCx0aGlzLnJlbmRlcigpfSxjLnByb3RvdHlwZS5hdHRhY2htZW50RWRpdG9yRGlkUmVxdWVzdFVwZGF0aW5nQXR0cmlidXRlc0ZvckF0dGFjaG1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFVwZGF0ZUF0dGFjaG1lbnQmJm4uY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFVwZGF0ZUF0dGFjaG1lbnQoZSksdGhpcy5jb21wb3NpdGlvbi51cGRhdGVBdHRyaWJ1dGVzRm9yQXR0YWNobWVudCh0LGUpfSxjLnByb3RvdHlwZS5hdHRhY2htZW50RWRpdG9yRGlkUmVxdWVzdFJlbW92aW5nQXR0cmlidXRlRm9yQXR0YWNobWVudD1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5jb21wb3NpdGlvbkNvbnRyb2xsZXJXaWxsVXBkYXRlQXR0YWNobWVudCYmbi5jb21wb3NpdGlvbkNvbnRyb2xsZXJXaWxsVXBkYXRlQXR0YWNobWVudChlKSx0aGlzLmNvbXBvc2l0aW9uLnJlbW92ZUF0dHJpYnV0ZUZvckF0dGFjaG1lbnQodCxlKX0sYy5wcm90b3R5cGUuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RSZW1vdmFsT2ZBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRSZXF1ZXN0UmVtb3ZhbE9mQXR0YWNobWVudD9lLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFJlcXVlc3RSZW1vdmFsT2ZBdHRhY2htZW50KHQpOnZvaWQgMH0sYy5wcm90b3R5cGUuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3REZXNlbGVjdGluZ0F0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFJlcXVlc3REZXNlbGVjdGluZ0F0dGFjaG1lbnQ/ZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRSZXF1ZXN0RGVzZWxlY3RpbmdBdHRhY2htZW50KHQpOnZvaWQgMH0sYy5wcm90b3R5cGUuY2FuU3luY0RvY3VtZW50Vmlldz1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzRWRpdGluZ0F0dGFjaG1lbnQoKX0sYy5wcm90b3R5cGUuZmluZEF0dGFjaG1lbnRGb3JFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLmRvY3VtZW50LmdldEF0dGFjaG1lbnRCeUlkKHBhcnNlSW50KHQuZGF0YXNldC50cml4SWQsMTApKX0sY30oZS5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxuLGksbz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LHI9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKXMuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0scz17fS5oYXNPd25Qcm9wZXJ0eTtuPWUuaGFuZGxlRXZlbnQsaT1lLnRyaWdnZXJFdmVudCx0PWUuZmluZENsb3Nlc3RFbGVtZW50RnJvbU5vZGUsZS5Ub29sYmFyQ29udHJvbGxlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBzKHQpe3RoaXMuZWxlbWVudD10LHRoaXMuZGlkS2V5RG93bkRpYWxvZ0lucHV0PW8odGhpcy5kaWRLZXlEb3duRGlhbG9nSW5wdXQsdGhpcyksdGhpcy5kaWRDbGlja0RpYWxvZ0J1dHRvbj1vKHRoaXMuZGlkQ2xpY2tEaWFsb2dCdXR0b24sdGhpcyksdGhpcy5kaWRDbGlja0F0dHJpYnV0ZUJ1dHRvbj1vKHRoaXMuZGlkQ2xpY2tBdHRyaWJ1dGVCdXR0b24sdGhpcyksdGhpcy5kaWRDbGlja0FjdGlvbkJ1dHRvbj1vKHRoaXMuZGlkQ2xpY2tBY3Rpb25CdXR0b24sdGhpcyksdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMuYWN0aW9ucz17fSx0aGlzLnJlc2V0RGlhbG9nSW5wdXRzKCksbihcIm1vdXNlZG93blwiLHtvbkVsZW1lbnQ6dGhpcy5lbGVtZW50LG1hdGNoaW5nU2VsZWN0b3I6YSx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRDbGlja0FjdGlvbkJ1dHRvbn0pLG4oXCJtb3VzZWRvd25cIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCxtYXRjaGluZ1NlbGVjdG9yOmMsd2l0aENhbGxiYWNrOnRoaXMuZGlkQ2xpY2tBdHRyaWJ1dGVCdXR0b259KSxuKFwiY2xpY2tcIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCxtYXRjaGluZ1NlbGVjdG9yOnkscHJldmVudERlZmF1bHQ6ITB9KSxuKFwiY2xpY2tcIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCxtYXRjaGluZ1NlbGVjdG9yOmwsd2l0aENhbGxiYWNrOnRoaXMuZGlkQ2xpY2tEaWFsb2dCdXR0b259KSxuKFwia2V5ZG93blwiLHtvbkVsZW1lbnQ6dGhpcy5lbGVtZW50LG1hdGNoaW5nU2VsZWN0b3I6aCx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRLZXlEb3duRGlhbG9nSW5wdXR9KX12YXIgYSx1LGMsbCxoLHAsZCxmLGcsbSx5O3JldHVybiByKHMsZSksYz1cIltkYXRhLXRyaXgtYXR0cmlidXRlXVwiLGE9XCJbZGF0YS10cml4LWFjdGlvbl1cIix5PWMrXCIsIFwiK2EscD1cIltkYXRhLXRyaXgtZGlhbG9nXVwiLHU9cCtcIltkYXRhLXRyaXgtYWN0aXZlXVwiLGw9cCtcIiBbZGF0YS10cml4LW1ldGhvZF1cIixoPXArXCIgW2RhdGEtdHJpeC1pbnB1dF1cIixzLnByb3RvdHlwZS5kaWRDbGlja0FjdGlvbkJ1dHRvbj1mdW5jdGlvbih0LGUpe3ZhciBuLGksbztyZXR1cm4gbnVsbCE9KGk9dGhpcy5kZWxlZ2F0ZSkmJmkudG9vbGJhckRpZENsaWNrQnV0dG9uKCksdC5wcmV2ZW50RGVmYXVsdCgpLG49ZChlKSx0aGlzLmdldERpYWxvZyhuKT90aGlzLnRvZ2dsZURpYWxvZyhuKTpudWxsIT0obz10aGlzLmRlbGVnYXRlKT9vLnRvb2xiYXJEaWRJbnZva2VBY3Rpb24obik6dm9pZCAwfSxzLnByb3RvdHlwZS5kaWRDbGlja0F0dHJpYnV0ZUJ1dHRvbj1mdW5jdGlvbih0LGUpe3ZhciBuLGksbztyZXR1cm4gbnVsbCE9KGk9dGhpcy5kZWxlZ2F0ZSkmJmkudG9vbGJhckRpZENsaWNrQnV0dG9uKCksdC5wcmV2ZW50RGVmYXVsdCgpLG49ZihlKSx0aGlzLmdldERpYWxvZyhuKT90aGlzLnRvZ2dsZURpYWxvZyhuKTpudWxsIT0obz10aGlzLmRlbGVnYXRlKSYmby50b29sYmFyRGlkVG9nZ2xlQXR0cmlidXRlKG4pLHRoaXMucmVmcmVzaEF0dHJpYnV0ZUJ1dHRvbnMoKX0scy5wcm90b3R5cGUuZGlkQ2xpY2tEaWFsb2dCdXR0b249ZnVuY3Rpb24oZSxuKXt2YXIgaSxvO3JldHVybiBpPXQobix7bWF0Y2hpbmdTZWxlY3RvcjpwfSksbz1uLmdldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1tZXRob2RcIiksdGhpc1tvXS5jYWxsKHRoaXMsaSl9LHMucHJvdG90eXBlLmRpZEtleURvd25EaWFsb2dJbnB1dD1mdW5jdGlvbih0LGUpe3ZhciBuLGk7cmV0dXJuIDEzPT09dC5rZXlDb2RlJiYodC5wcmV2ZW50RGVmYXVsdCgpLG49ZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLGk9dGhpcy5nZXREaWFsb2cobiksdGhpcy5zZXRBdHRyaWJ1dGUoaSkpLDI3PT09dC5rZXlDb2RlPyh0LnByZXZlbnREZWZhdWx0KCksdGhpcy5oaWRlRGlhbG9nKCkpOnZvaWQgMH0scy5wcm90b3R5cGUudXBkYXRlQWN0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hY3Rpb25zPXQsdGhpcy5yZWZyZXNoQWN0aW9uQnV0dG9ucygpfSxzLnByb3RvdHlwZS5yZWZyZXNoQWN0aW9uQnV0dG9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2hBY3Rpb25CdXR0b24oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuZGlzYWJsZWQ9dC5hY3Rpb25zW25dPT09ITF9fSh0aGlzKSl9LHMucHJvdG90eXBlLmVhY2hBY3Rpb25CdXR0b249ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8scjtmb3Iobz10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChhKSxyPVtdLG49MCxpPW8ubGVuZ3RoO2k+bjtuKyspZT1vW25dLHIucHVzaCh0KGUsZChlKSkpO3JldHVybiByfSxzLnByb3RvdHlwZS51cGRhdGVBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXM9dCx0aGlzLnJlZnJlc2hBdHRyaWJ1dGVCdXR0b25zKCl9LHMucHJvdG90eXBlLnJlZnJlc2hBdHRyaWJ1dGVCdXR0b25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaEF0dHJpYnV0ZUJ1dHRvbihmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5kaXNhYmxlZD10LmF0dHJpYnV0ZXNbbl09PT0hMSx0LmF0dHJpYnV0ZXNbbl18fHQuZGlhbG9nSXNWaXNpYmxlKG4pPyhlLnNldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1hY3RpdmVcIixcIlwiKSxlLmNsYXNzTGlzdC5hZGQoXCJ0cml4LWFjdGl2ZVwiKSk6KGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS10cml4LWFjdGl2ZVwiKSxlLmNsYXNzTGlzdC5yZW1vdmUoXCJ0cml4LWFjdGl2ZVwiKSl9fSh0aGlzKSl9LHMucHJvdG90eXBlLmVhY2hBdHRyaWJ1dGVCdXR0b249ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8scjtmb3Iobz10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjKSxyPVtdLG49MCxpPW8ubGVuZ3RoO2k+bjtuKyspZT1vW25dLHIucHVzaCh0KGUsZihlKSkpO3JldHVybiByfSxzLnByb3RvdHlwZS5hcHBseUtleWJvYXJkQ29tbWFuZD1mdW5jdGlvbih0KXt2YXIgZSxuLG8scixzLGEsdTtmb3Iocz1KU09OLnN0cmluZ2lmeSh0LnNvcnQoKSksdT10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRyaXgta2V5XVwiKSxyPTAsYT11Lmxlbmd0aDthPnI7cisrKWlmKGU9dVtyXSxvPWUuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWtleVwiKS5zcGxpdChcIitcIiksbj1KU09OLnN0cmluZ2lmeShvLnNvcnQoKSksbj09PXMpcmV0dXJuIGkoXCJtb3VzZWRvd25cIix7b25FbGVtZW50OmV9KSwhMDtyZXR1cm4hMX0scy5wcm90b3R5cGUuZGlhbG9nSXNWaXNpYmxlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXRoaXMuZ2V0RGlhbG9nKHQpKT9lLmhhc0F0dHJpYnV0ZShcImRhdGEtdHJpeC1hY3RpdmVcIik6dm9pZCAwfSxzLnByb3RvdHlwZS50b2dnbGVEaWFsb2c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlhbG9nSXNWaXNpYmxlKHQpP3RoaXMuaGlkZURpYWxvZygpOnRoaXMuc2hvd0RpYWxvZyh0KX0scy5wcm90b3R5cGUuc2hvd0RpYWxvZz1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyLHMsYSx1LGMsbDtmb3IodGhpcy5oaWRlRGlhbG9nKCksbnVsbCE9KGE9dGhpcy5kZWxlZ2F0ZSkmJmEudG9vbGJhcldpbGxTaG93RGlhbG9nKCksaT10aGlzLmdldERpYWxvZyh0KSxpLnNldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1hY3RpdmVcIixcIlwiKSxpLmNsYXNzTGlzdC5hZGQoXCJ0cml4LWFjdGl2ZVwiKSx1PWkucXVlcnlTZWxlY3RvckFsbChcImlucHV0W2Rpc2FibGVkXVwiKSxvPTAscz11Lmxlbmd0aDtzPm87bysrKW49dVtvXSxuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO3JldHVybihlPWYoaSkpJiYocj1tKGksdCkpJiYoci52YWx1ZT1udWxsIT0oYz10aGlzLmF0dHJpYnV0ZXNbZV0pP2M6XCJcIixyLnNlbGVjdCgpKSxudWxsIT0obD10aGlzLmRlbGVnYXRlKT9sLnRvb2xiYXJEaWRTaG93RGlhbG9nKHQpOnZvaWQgMH0scy5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gZT1mKHQpLG49bSh0LGUpLG4ud2lsbFZhbGlkYXRlJiYhbi5jaGVja1ZhbGlkaXR5KCk/KG4uc2V0QXR0cmlidXRlKFwiZGF0YS10cml4LXZhbGlkYXRlXCIsXCJcIiksbi5jbGFzc0xpc3QuYWRkKFwidHJpeC12YWxpZGF0ZVwiKSxuLmZvY3VzKCkpOihudWxsIT0oaT10aGlzLmRlbGVnYXRlKSYmaS50b29sYmFyRGlkVXBkYXRlQXR0cmlidXRlKGUsbi52YWx1ZSksdGhpcy5oaWRlRGlhbG9nKCkpfSxzLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT1mKHQpLG51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZuLnRvb2xiYXJEaWRSZW1vdmVBdHRyaWJ1dGUoZSksdGhpcy5oaWRlRGlhbG9nKCl9LHMucHJvdG90eXBlLmhpZGVEaWFsb2c9ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybih0PXRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKHUpKT8odC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtYWN0aXZlXCIpLHQuY2xhc3NMaXN0LnJlbW92ZShcInRyaXgtYWN0aXZlXCIpLHRoaXMucmVzZXREaWFsb2dJbnB1dHMoKSxudWxsIT0oZT10aGlzLmRlbGVnYXRlKT9lLnRvb2xiYXJEaWRIaWRlRGlhbG9nKGcodCkpOnZvaWQgMCk6dm9pZCAwfSxzLnByb3RvdHlwZS5yZXNldERpYWxvZ0lucHV0cz1mdW5jdGlvbigpe3ZhciB0LGUsbixpLG87Zm9yKGk9dGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaCksbz1bXSx0PTAsbj1pLmxlbmd0aDtuPnQ7dCsrKWU9aVt0XSxlLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJkaXNhYmxlZFwiKSxlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdHJpeC12YWxpZGF0ZVwiKSxvLnB1c2goZS5jbGFzc0xpc3QucmVtb3ZlKFwidHJpeC12YWxpZGF0ZVwiKSk7cmV0dXJuIG99LHMucHJvdG90eXBlLmdldERpYWxvZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS10cml4LWRpYWxvZz1cIit0K1wiXVwiKX0sbT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT1lJiYoZT1mKHQpKSx0LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS10cml4LWlucHV0XVtuYW1lPSdcIitlK1wiJ11cIil9LGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWFjdGlvblwiKX0sZj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtYXR0cmlidXRlXCIpKT9lOnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWRpYWxvZy1hdHRyaWJ1dGVcIil9LGc9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWRpYWxvZ1wiKX0sc30oZS5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBvIGluIGUpbi5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiBpLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgaSx0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxuPXt9Lmhhc093blByb3BlcnR5O2UuSW1hZ2VQcmVsb2FkT3BlcmF0aW9uPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCl7dGhpcy51cmw9dH1yZXR1cm4gdChuLGUpLG4ucHJvdG90eXBlLnBlcmZvcm09ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9bmV3IEltYWdlLGUub25sb2FkPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLndpZHRoPW4ud2lkdGg9ZS5uYXR1cmFsV2lkdGgsZS5oZWlnaHQ9bi5oZWlnaHQ9ZS5uYXR1cmFsSGVpZ2h0LHQoITAsZSl9fSh0aGlzKSxlLm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdCghMSl9LGUuc3JjPXRoaXMudXJsfSxufShlLk9wZXJhdGlvbil9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LG49ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKWkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0saT17fS5oYXNPd25Qcm9wZXJ0eTtlLkF0dGFjaG1lbnQ9ZnVuY3Rpb24oaSl7ZnVuY3Rpb24gbyhuKXtudWxsPT1uJiYobj17fSksdGhpcy5yZWxlYXNlRmlsZT10KHRoaXMucmVsZWFzZUZpbGUsdGhpcyksby5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuYXR0cmlidXRlcz1lLkhhc2guYm94KG4pLHRoaXMuZGlkQ2hhbmdlQXR0cmlidXRlcygpfXJldHVybiBuKG8saSksby5wcmV2aWV3YWJsZVBhdHRlcm49L15pbWFnZShcXC8oZ2lmfHBuZ3xqcGU/Zyl8JCkvLG8uYXR0YWNobWVudEZvckZpbGU9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gbj10aGlzLmF0dHJpYnV0ZXNGb3JGaWxlKHQpLGU9bmV3IHRoaXMobiksZS5zZXRGaWxlKHQpLGV9LG8uYXR0cmlidXRlc0ZvckZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlLkhhc2goe2ZpbGVuYW1lOnQubmFtZSxmaWxlc2l6ZTp0LnNpemUsY29udGVudFR5cGU6dC50eXBlfSl9LG8uZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzKHQpfSxvLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXQodCl9LG8ucHJvdG90eXBlLmhhc0F0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmhhcyh0KX0sby5wcm90b3R5cGUuZ2V0QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMudG9PYmplY3QoKX0sby5wcm90b3R5cGUuc2V0QXR0cmlidXRlcz1mdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIG51bGw9PXQmJih0PXt9KSxlPXRoaXMuYXR0cmlidXRlcy5tZXJnZSh0KSx0aGlzLmF0dHJpYnV0ZXMuaXNFcXVhbFRvKGUpP3ZvaWQgMDoodGhpcy5hdHRyaWJ1dGVzPWUsdGhpcy5kaWRDaGFuZ2VBdHRyaWJ1dGVzKCksbnVsbCE9KG49dGhpcy5wcmV2aWV3RGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmF0dGFjaG1lbnREaWRDaGFuZ2VBdHRyaWJ1dGVzJiZuLmF0dGFjaG1lbnREaWRDaGFuZ2VBdHRyaWJ1dGVzKHRoaXMpLG51bGwhPShpPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmF0dGFjaG1lbnREaWRDaGFuZ2VBdHRyaWJ1dGVzP2kuYXR0YWNobWVudERpZENoYW5nZUF0dHJpYnV0ZXModGhpcyk6dm9pZCAwKVxufSxvLnByb3RvdHlwZS5kaWRDaGFuZ2VBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQcmV2aWV3YWJsZSgpP3RoaXMucHJlbG9hZFVSTCgpOnZvaWQgMH0sby5wcm90b3R5cGUuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZmlsZSYmISh0aGlzLmdldFVSTCgpfHx0aGlzLmdldEhyZWYoKSl9LG8ucHJvdG90eXBlLmlzUHJldmlld2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmhhcyhcInByZXZpZXdhYmxlXCIpP3RoaXMuYXR0cmlidXRlcy5nZXQoXCJwcmV2aWV3YWJsZVwiKTp0aGlzLmNvbnN0cnVjdG9yLnByZXZpZXdhYmxlUGF0dGVybi50ZXN0KHRoaXMuZ2V0Q29udGVudFR5cGUoKSl9LG8ucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNDb250ZW50KCk/XCJjb250ZW50XCI6dGhpcy5pc1ByZXZpZXdhYmxlKCk/XCJwcmV2aWV3XCI6XCJmaWxlXCJ9LG8ucHJvdG90eXBlLmdldFVSTD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuZ2V0KFwidXJsXCIpfSxvLnByb3RvdHlwZS5nZXRIcmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXQoXCJocmVmXCIpfSxvLnByb3RvdHlwZS5nZXRGaWxlbmFtZT1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmF0dHJpYnV0ZXMuZ2V0KFwiZmlsZW5hbWVcIikpP3Q6XCJcIn0sby5wcm90b3R5cGUuZ2V0RmlsZXNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldChcImZpbGVzaXplXCIpfSxvLnByb3RvdHlwZS5nZXRGb3JtYXR0ZWRGaWxlc2l6ZT1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PXRoaXMuYXR0cmlidXRlcy5nZXQoXCJmaWxlc2l6ZVwiKSxcIm51bWJlclwiPT10eXBlb2YgdD9lLmNvbmZpZy5maWxlU2l6ZS5mb3JtYXR0ZXIodCk6XCJcIn0sby5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9uPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZ2V0RmlsZW5hbWUoKS5tYXRjaCgvXFwuKFxcdyspJC8pKT90WzFdLnRvTG93ZXJDYXNlKCk6dm9pZCAwfSxvLnByb3RvdHlwZS5nZXRDb250ZW50VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuZ2V0KFwiY29udGVudFR5cGVcIil9LG8ucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmhhcyhcImNvbnRlbnRcIil9LG8ucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldChcImNvbnRlbnRcIil9LG8ucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXQoXCJ3aWR0aFwiKX0sby5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXQoXCJoZWlnaHRcIil9LG8ucHJvdG90eXBlLmdldEZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxlfSxvLnByb3RvdHlwZS5zZXRGaWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbGU9dCx0aGlzLmlzUHJldmlld2FibGUoKT90aGlzLnByZWxvYWRGaWxlKCk6dm9pZCAwfSxvLnByb3RvdHlwZS5yZWxlYXNlRmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbGVhc2VQcmVsb2FkZWRGaWxlKCksdGhpcy5maWxlPW51bGx9LG8ucHJvdG90eXBlLmdldFVwbG9hZFByb2dyZXNzPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMudXBsb2FkUHJvZ3Jlc3MpP3Q6MH0sby5wcm90b3R5cGUuc2V0VXBsb2FkUHJvZ3Jlc3M9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMudXBsb2FkUHJvZ3Jlc3MhPT10Pyh0aGlzLnVwbG9hZFByb2dyZXNzPXQsbnVsbCE9KGU9dGhpcy51cGxvYWRQcm9ncmVzc0RlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hdHRhY2htZW50RGlkQ2hhbmdlVXBsb2FkUHJvZ3Jlc3M/ZS5hdHRhY2htZW50RGlkQ2hhbmdlVXBsb2FkUHJvZ3Jlc3ModGhpcyk6dm9pZCAwKTp2b2lkIDB9LG8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZXMoKX0sby5wcm90b3R5cGUuZ2V0Q2FjaGVLZXk9ZnVuY3Rpb24oKXtyZXR1cm5bby5fX3N1cGVyX18uZ2V0Q2FjaGVLZXkuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuYXR0cmlidXRlcy5nZXRDYWNoZUtleSgpLHRoaXMuZ2V0UHJldmlld1VSTCgpXS5qb2luKFwiL1wiKX0sby5wcm90b3R5cGUuZ2V0UHJldmlld1VSTD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZpZXdVUkx8fHRoaXMucHJlbG9hZGluZ1VSTH0sby5wcm90b3R5cGUuc2V0UHJldmlld1VSTD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiB0IT09dGhpcy5nZXRQcmV2aWV3VVJMKCk/KHRoaXMucHJldmlld1VSTD10LG51bGwhPShlPXRoaXMucHJldmlld0RlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hdHRhY2htZW50RGlkQ2hhbmdlQXR0cmlidXRlcyYmZS5hdHRhY2htZW50RGlkQ2hhbmdlQXR0cmlidXRlcyh0aGlzKSxudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5hdHRhY2htZW50RGlkQ2hhbmdlUHJldmlld1VSTD9uLmF0dGFjaG1lbnREaWRDaGFuZ2VQcmV2aWV3VVJMKHRoaXMpOnZvaWQgMCk6dm9pZCAwfSxvLnByb3RvdHlwZS5wcmVsb2FkVVJMPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJlbG9hZCh0aGlzLmdldFVSTCgpLHRoaXMucmVsZWFzZUZpbGUpfSxvLnByb3RvdHlwZS5wcmVsb2FkRmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGU/KHRoaXMuZmlsZU9iamVjdFVSTD1VUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZmlsZSksdGhpcy5wcmVsb2FkKHRoaXMuZmlsZU9iamVjdFVSTCkpOnZvaWQgMH0sby5wcm90b3R5cGUucmVsZWFzZVByZWxvYWRlZEZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxlT2JqZWN0VVJMPyhVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuZmlsZU9iamVjdFVSTCksdGhpcy5maWxlT2JqZWN0VVJMPW51bGwpOnZvaWQgMH0sby5wcm90b3R5cGUucHJlbG9hZD1mdW5jdGlvbih0LG4pe3ZhciBpO3JldHVybiB0JiZ0IT09dGhpcy5nZXRQcmV2aWV3VVJMKCk/KHRoaXMucHJlbG9hZGluZ1VSTD10LGk9bmV3IGUuSW1hZ2VQcmVsb2FkT3BlcmF0aW9uKHQpLGkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIG8scjtyZXR1cm4gcj1pLndpZHRoLG89aS5oZWlnaHQsZS5nZXRXaWR0aCgpJiZlLmdldEhlaWdodCgpfHxlLnNldEF0dHJpYnV0ZXMoe3dpZHRoOnIsaGVpZ2h0Om99KSxlLnByZWxvYWRpbmdVUkw9bnVsbCxlLnNldFByZXZpZXdVUkwodCksXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uKCk6dm9pZCAwfX0odGhpcykpW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQucHJlbG9hZGluZ1VSTD1udWxsLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bigpOnZvaWQgMH19KHRoaXMpKSk6dm9pZCAwfSxvfShlLk9iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBvIGluIGUpbi5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiBpLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgaSx0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxuPXt9Lmhhc093blByb3BlcnR5O2UuUGllY2U9ZnVuY3Rpb24obil7ZnVuY3Rpb24gaSh0LG4pe251bGw9PW4mJihuPXt9KSxpLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5hdHRyaWJ1dGVzPWUuSGFzaC5ib3gobil9cmV0dXJuIHQoaSxuKSxpLnR5cGVzPXt9LGkucmVnaXN0ZXJUeXBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudHlwZT10LHRoaXMudHlwZXNbdF09ZX0saS5mcm9tSlNPTj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLnR5cGVzW3QudHlwZV0pP2UuZnJvbUpTT04odCk6dm9pZCAwfSxpLnByb3RvdHlwZS5jb3B5V2l0aEF0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuZ2V0VmFsdWUoKSx0KX0saS5wcm90b3R5cGUuY29weVdpdGhBZGRpdGlvbmFsQXR0cmlidXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb3B5V2l0aEF0dHJpYnV0ZXModGhpcy5hdHRyaWJ1dGVzLm1lcmdlKHQpKX0saS5wcm90b3R5cGUuY29weVdpdGhvdXRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29weVdpdGhBdHRyaWJ1dGVzKHRoaXMuYXR0cmlidXRlcy5yZW1vdmUodCkpfSxpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29weVdpdGhBdHRyaWJ1dGVzKHRoaXMuYXR0cmlidXRlcyl9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldCh0KX0saS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlc0hhc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzfSxpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy50b09iamVjdCgpfSxpLnByb3RvdHlwZS5nZXRDb21tb25BdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybihuPXBpZWNlTGlzdC5nZXRQaWVjZUF0SW5kZXgoMCkpPyh0PW4uYXR0cmlidXRlcyxlPXQuZ2V0S2V5cygpLHBpZWNlTGlzdC5lYWNoUGllY2UoZnVuY3Rpb24obil7cmV0dXJuIGU9dC5nZXRLZXlzQ29tbW9uVG9IYXNoKG4uYXR0cmlidXRlcyksdD10LnNsaWNlKGUpfSksdC50b09iamVjdCgpKTp7fX0saS5wcm90b3R5cGUuaGFzQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuaGFzKHQpfSxpLnByb3RvdHlwZS5oYXNTYW1lU3RyaW5nVmFsdWVBc1BpZWNlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiZ0aGlzLnRvU3RyaW5nKCk9PT10LnRvU3RyaW5nKCl9LGkucHJvdG90eXBlLmhhc1NhbWVBdHRyaWJ1dGVzQXNQaWVjZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmKHRoaXMuYXR0cmlidXRlcz09PXQuYXR0cmlidXRlc3x8dGhpcy5hdHRyaWJ1dGVzLmlzRXF1YWxUbyh0LmF0dHJpYnV0ZXMpKX0saS5wcm90b3R5cGUuaXNCbG9ja0JyZWFrPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGkucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbih0KXtyZXR1cm4gaS5fX3N1cGVyX18uaXNFcXVhbFRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcy5oYXNTYW1lQ29uc3RydWN0b3JBcyh0KSYmdGhpcy5oYXNTYW1lU3RyaW5nVmFsdWVBc1BpZWNlKHQpJiZ0aGlzLmhhc1NhbWVBdHRyaWJ1dGVzQXNQaWVjZSh0KX0saS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5sZW5ndGh9LGkucHJvdG90eXBlLmlzU2VyaWFsaXphYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOnRoaXMuY29uc3RydWN0b3IudHlwZSxhdHRyaWJ1dGVzOnRoaXMuZ2V0QXR0cmlidXRlcygpfX0saS5wcm90b3R5cGUuY29udGVudHNGb3JJbnNwZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6dGhpcy5jb25zdHJ1Y3Rvci50eXBlLGF0dHJpYnV0ZXM6dGhpcy5hdHRyaWJ1dGVzLmluc3BlY3QoKX19LGkucHJvdG90eXBlLmNhbkJlR3JvdXBlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShcImhyZWZcIil9LGkucHJvdG90eXBlLmNhbkJlR3JvdXBlZFdpdGg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKT09PXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0saS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxpLnByb3RvdHlwZS5jYW5CZUNvbnNvbGlkYXRlZFdpdGg9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saX0oZS5PYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKW4uY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sbj17fS5oYXNPd25Qcm9wZXJ0eTtlLlBpZWNlLnJlZ2lzdGVyVHlwZShcImF0dGFjaG1lbnRcIixlLkF0dGFjaG1lbnRQaWVjZT1mdW5jdGlvbihuKXtmdW5jdGlvbiBpKHQpe3RoaXMuYXR0YWNobWVudD10LGkuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmxlbmd0aD0xLHRoaXMuZW5zdXJlQXR0YWNobWVudEV4Y2x1c2l2ZWx5SGFzQXR0cmlidXRlKFwiaHJlZlwiKSx0aGlzLmF0dGFjaG1lbnQuaGFzQ29udGVudCgpfHx0aGlzLnJlbW92ZVByb2hpYml0ZWRBdHRyaWJ1dGVzKCl9cmV0dXJuIHQoaSxuKSxpLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcyhlLkF0dGFjaG1lbnQuZnJvbUpTT04odC5hdHRhY2htZW50KSx0LmF0dHJpYnV0ZXMpfSxpLnBlcm1pdHRlZEF0dHJpYnV0ZXM9W1wiY2FwdGlvblwiLFwicHJlc2VudGF0aW9uXCJdLGkucHJvdG90eXBlLmVuc3VyZUF0dGFjaG1lbnRFeGNsdXNpdmVseUhhc0F0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUodCk/KHRoaXMuYXR0YWNobWVudC5oYXNBdHRyaWJ1dGUodCl8fHRoaXMuYXR0YWNobWVudC5zZXRBdHRyaWJ1dGVzKHRoaXMuYXR0cmlidXRlcy5zbGljZSh0KSksdGhpcy5hdHRyaWJ1dGVzPXRoaXMuYXR0cmlidXRlcy5yZW1vdmUodCkpOnZvaWQgMH0saS5wcm90b3R5cGUucmVtb3ZlUHJvaGliaXRlZEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD10aGlzLmF0dHJpYnV0ZXMuc2xpY2UodGhpcy5jb25zdHJ1Y3Rvci5wZXJtaXR0ZWRBdHRyaWJ1dGVzKSx0LmlzRXF1YWxUbyh0aGlzLmF0dHJpYnV0ZXMpP3ZvaWQgMDp0aGlzLmF0dHJpYnV0ZXM9dH0saS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRhY2htZW50fSxpLnByb3RvdHlwZS5pc1NlcmlhbGl6YWJsZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmF0dGFjaG1lbnQuaXNQZW5kaW5nKCl9LGkucHJvdG90eXBlLmdldENhcHRpb249ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5hdHRyaWJ1dGVzLmdldChcImNhcHRpb25cIikpP3Q6XCJcIn0saS5wcm90b3R5cGUuaXNFcXVhbFRvPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBpLl9fc3VwZXJfXy5pc0VxdWFsVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpJiZ0aGlzLmF0dGFjaG1lbnQuaWQ9PT0obnVsbCE9dCYmbnVsbCE9KGU9dC5hdHRhY2htZW50KT9lLmlkOnZvaWQgMCl9LGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUuT0JKRUNUX1JFUExBQ0VNRU5UX0NIQVJBQ1RFUn0saS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9aS5fX3N1cGVyX18udG9KU09OLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0LmF0dGFjaG1lbnQ9dGhpcy5hdHRhY2htZW50LHR9LGkucHJvdG90eXBlLmdldENhY2hlS2V5PWZ1bmN0aW9uKCl7cmV0dXJuW2kuX19zdXBlcl9fLmdldENhY2hlS2V5LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmF0dGFjaG1lbnQuZ2V0Q2FjaGVLZXkoKV0uam9pbihcIi9cIil9LGkucHJvdG90eXBlLnRvQ29uc29sZT1mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvU3RyaW5nKCkpfSxpfShlLlBpZWNlKSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxuPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIG8gaW4gZSlpLmNhbGwoZSxvKSYmKHRbb109ZVtvXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LGk9e30uaGFzT3duUHJvcGVydHk7dD1lLm5vcm1hbGl6ZU5ld2xpbmVzLGUuUGllY2UucmVnaXN0ZXJUeXBlKFwic3RyaW5nXCIsZS5TdHJpbmdQaWVjZT1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGUpe2kuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnN0cmluZz10KGUpLHRoaXMubGVuZ3RoPXRoaXMuc3RyaW5nLmxlbmd0aH1yZXR1cm4gbihpLGUpLGkuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzKHQuc3RyaW5nLHQuYXR0cmlidXRlcyl9LGkucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyaW5nfSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmluZy50b1N0cmluZygpfSxpLnByb3RvdHlwZS5pc0Jsb2NrQnJlYWs9ZnVuY3Rpb24oKXtyZXR1cm5cIlxcblwiPT09dGhpcy50b1N0cmluZygpJiZ0aGlzLmdldEF0dHJpYnV0ZShcImJsb2NrQnJlYWtcIik9PT0hMH0saS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9aS5fX3N1cGVyX18udG9KU09OLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0LnN0cmluZz10aGlzLnN0cmluZyx0fSxpLnByb3RvdHlwZS5jYW5CZUNvbnNvbGlkYXRlZFdpdGg9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJnRoaXMuaGFzU2FtZUNvbnN0cnVjdG9yQXModCkmJnRoaXMuaGFzU2FtZUF0dHJpYnV0ZXNBc1BpZWNlKHQpfSxpLnByb3RvdHlwZS5jb25zb2xpZGF0ZVdpdGg9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudG9TdHJpbmcoKSt0LnRvU3RyaW5nKCksdGhpcy5hdHRyaWJ1dGVzKX0saS5wcm90b3R5cGUuc3BsaXRBdE9mZnNldD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiAwPT09dD8oZT1udWxsLG49dGhpcyk6dD09PXRoaXMubGVuZ3RoPyhlPXRoaXMsbj1udWxsKTooZT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnN0cmluZy5zbGljZSgwLHQpLHRoaXMuYXR0cmlidXRlcyksbj1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnN0cmluZy5zbGljZSh0KSx0aGlzLmF0dHJpYnV0ZXMpKSxbZSxuXX0saS5wcm90b3R5cGUudG9Db25zb2xlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5zdHJpbmcsdC5sZW5ndGg+MTUmJih0PXQuc2xpY2UoMCwxNCkrXCJcXHUyMDI2XCIpLEpTT04uc3RyaW5naWZ5KHQudG9TdHJpbmcoKSl9LGl9KGUuUGllY2UpKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG49ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKWkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0saT17fS5oYXNPd25Qcm9wZXJ0eSxvPVtdLnNsaWNlO3Q9ZS5zcGxpY2VBcnJheSxlLlNwbGl0dGFibGVMaXN0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkodCl7bnVsbD09dCYmKHQ9W10pLGkuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLm9iamVjdHM9dC5zbGljZSgwKSx0aGlzLmxlbmd0aD10aGlzLm9iamVjdHMubGVuZ3RofXZhciByLHMsYTtyZXR1cm4gbihpLGUpLGkuYm94PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdGhpcz90Om5ldyB0aGlzKHQpfSxpLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9iamVjdHMuaW5kZXhPZih0KX0saS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9MTw9YXJndW1lbnRzLmxlbmd0aD9vLmNhbGwoYXJndW1lbnRzLDApOltdLG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQuYXBwbHkobnVsbCxbdGhpcy5vYmplY3RzXS5jb25jYXQoby5jYWxsKGUpKSkpfSxpLnByb3RvdHlwZS5lYWNoT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLHIscztmb3Iocj10aGlzLm9iamVjdHMscz1bXSxuPWU9MCxpPXIubGVuZ3RoO2k+ZTtuPSsrZSlvPXJbbl0scy5wdXNoKHQobyxuKSk7cmV0dXJuIHN9LGkucHJvdG90eXBlLmluc2VydE9iamVjdEF0SW5kZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGxpY2UoZSwwLHQpfSxpLnByb3RvdHlwZS5pbnNlcnRTcGxpdHRhYmxlTGlzdEF0SW5kZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGxpY2UuYXBwbHkodGhpcyxbZSwwXS5jb25jYXQoby5jYWxsKHQub2JqZWN0cykpKX0saS5wcm90b3R5cGUuaW5zZXJ0U3BsaXR0YWJsZUxpc3RBdFBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvO3JldHVybiBvPXRoaXMuc3BsaXRPYmplY3RBdFBvc2l0aW9uKGUpLGk9b1swXSxuPW9bMV0sbmV3IHRoaXMuY29uc3RydWN0b3IoaSkuaW5zZXJ0U3BsaXR0YWJsZUxpc3RBdEluZGV4KHQsbil9LGkucHJvdG90eXBlLmVkaXRPYmplY3RBdEluZGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVwbGFjZU9iamVjdEF0SW5kZXgoZSh0aGlzLm9iamVjdHNbdF0pLHQpfSxpLnByb3RvdHlwZS5yZXBsYWNlT2JqZWN0QXRJbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNwbGljZShlLDEsdCl9LGkucHJvdG90eXBlLnJlbW92ZU9iamVjdEF0SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3BsaWNlKHQsMSl9LGkucHJvdG90eXBlLmdldE9iamVjdEF0SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub2JqZWN0c1t0XX0saS5wcm90b3R5cGUuZ2V0U3BsaXR0YWJsZUxpc3RJblJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO3JldHVybiBpPXRoaXMuc3BsaXRPYmplY3RzQXRSYW5nZSh0KSxuPWlbMF0sZT1pWzFdLG89aVsyXSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihuLnNsaWNlKGUsbysxKSl9LGkucHJvdG90eXBlLnNlbGVjdFNwbGl0dGFibGVMaXN0PWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG49ZnVuY3Rpb24oKXt2YXIgbixpLG8scjtmb3Iobz10aGlzLm9iamVjdHMscj1bXSxuPTAsaT1vLmxlbmd0aDtpPm47bisrKWU9b1tuXSx0KGUpJiZyLnB1c2goZSk7cmV0dXJuIHJ9LmNhbGwodGhpcyksbmV3IHRoaXMuY29uc3RydWN0b3Iobil9LGkucHJvdG90eXBlLnJlbW92ZU9iamVjdHNJblJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO3JldHVybiBpPXRoaXMuc3BsaXRPYmplY3RzQXRSYW5nZSh0KSxuPWlbMF0sZT1pWzFdLG89aVsyXSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihuKS5zcGxpY2UoZSxvLWUrMSl9LGkucHJvdG90eXBlLnRyYW5zZm9ybU9iamVjdHNJblJhbmdlPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvLHIscyxhLHU7cmV0dXJuIHM9dGhpcy5zcGxpdE9iamVjdHNBdFJhbmdlKHQpLHI9c1swXSxpPXNbMV0sYT1zWzJdLHU9ZnVuY3Rpb24oKXt2YXIgdCxzLHU7Zm9yKHU9W10sbj10PTAscz1yLmxlbmd0aDtzPnQ7bj0rK3Qpbz1yW25dLHUucHVzaChuPj1pJiZhPj1uP2Uobyk6byk7cmV0dXJuIHV9KCksbmV3IHRoaXMuY29uc3RydWN0b3IodSl9LGkucHJvdG90eXBlLnNwbGl0T2JqZWN0c0F0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8scyx1O3JldHVybiBvPXRoaXMuc3BsaXRPYmplY3RBdFBvc2l0aW9uKGEodCkpLG49b1swXSxlPW9bMV0saT1vWzJdLHM9bmV3IHRoaXMuY29uc3RydWN0b3Iobikuc3BsaXRPYmplY3RBdFBvc2l0aW9uKHIodCkraSksbj1zWzBdLHU9c1sxXSxbbixlLHUtMV19LGkucHJvdG90eXBlLmdldE9iamVjdEF0UG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGUsbixpO3JldHVybiBpPXRoaXMuZmluZEluZGV4QW5kT2Zmc2V0QXRQb3NpdGlvbih0KSxlPWkuaW5kZXgsbj1pLm9mZnNldCx0aGlzLm9iamVjdHNbZV19LGkucHJvdG90eXBlLnNwbGl0T2JqZWN0QXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyLHMsYSx1LGMsbDtyZXR1cm4gcz10aGlzLmZpbmRJbmRleEFuZE9mZnNldEF0UG9zaXRpb24odCksZT1zLmluZGV4LHI9cy5vZmZzZXQsbz10aGlzLm9iamVjdHMuc2xpY2UoMCksbnVsbCE9ZT8wPT09cj8oYz1lLGw9MCk6KGk9dGhpcy5nZXRPYmplY3RBdEluZGV4KGUpLGE9aS5zcGxpdEF0T2Zmc2V0KHIpLG49YVswXSx1PWFbMV0sby5zcGxpY2UoZSwxLG4sdSksYz1lKzEsbD1uLmdldExlbmd0aCgpLXIpOihjPW8ubGVuZ3RoLGw9MCksW28sYyxsXX0saS5wcm90b3R5cGUuY29uc29saWRhdGU9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLHI7Zm9yKGk9W10sbz10aGlzLm9iamVjdHNbMF0scj10aGlzLm9iamVjdHMuc2xpY2UoMSksdD0wLGU9ci5sZW5ndGg7ZT50O3QrKyluPXJbdF0sKFwiZnVuY3Rpb25cIj09dHlwZW9mIG8uY2FuQmVDb25zb2xpZGF0ZWRXaXRoP28uY2FuQmVDb25zb2xpZGF0ZWRXaXRoKG4pOnZvaWQgMCk/bz1vLmNvbnNvbGlkYXRlV2l0aChuKTooaS5wdXNoKG8pLG89bik7cmV0dXJuIG51bGwhPW8mJmkucHVzaChvKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihpKX0saS5wcm90b3R5cGUuY29uc29saWRhdGVGcm9tSW5kZXhUb0luZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyO3JldHVybiBpPXRoaXMub2JqZWN0cy5zbGljZSgwKSxyPWkuc2xpY2UodCxlKzEpLG49bmV3IHRoaXMuY29uc3RydWN0b3IocikuY29uc29saWRhdGUoKS50b0FycmF5KCksdGhpcy5zcGxpY2UuYXBwbHkodGhpcyxbdCxyLmxlbmd0aF0uY29uY2F0KG8uY2FsbChuKSkpfSxpLnByb3RvdHlwZS5maW5kSW5kZXhBbmRPZmZzZXRBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLHIscyxhO2ZvcihlPTAsYT10aGlzLm9iamVjdHMsaT1uPTAsbz1hLmxlbmd0aDtvPm47aT0rK24pe2lmKHM9YVtpXSxyPWUrcy5nZXRMZW5ndGgoKSx0Pj1lJiZyPnQpcmV0dXJue2luZGV4Omksb2Zmc2V0OnQtZX07ZT1yfXJldHVybntpbmRleDpudWxsLG9mZnNldDpudWxsfX0saS5wcm90b3R5cGUuZmluZFBvc2l0aW9uQXRJbmRleEFuZE9mZnNldD1mdW5jdGlvbih0LGUpe3ZhciBuLGksbyxyLHMsYTtmb3Iocz0wLGE9dGhpcy5vYmplY3RzLG49aT0wLG89YS5sZW5ndGg7bz5pO249KytpKWlmKHI9YVtuXSx0Pm4pcys9ci5nZXRMZW5ndGgoKTtlbHNlIGlmKG49PT10KXtzKz1lO2JyZWFrfXJldHVybiBzfSxpLnByb3RvdHlwZS5nZXRFbmRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIG51bGwhPXRoaXMuZW5kUG9zaXRpb24/dGhpcy5lbmRQb3NpdGlvbjp0aGlzLmVuZFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIG4saSxvO2ZvcihlPTAsbz10aGlzLm9iamVjdHMsbj0wLGk9by5sZW5ndGg7aT5uO24rKyl0PW9bbl0sZSs9dC5nZXRMZW5ndGgoKTtyZXR1cm4gZX0uY2FsbCh0aGlzKX0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RzLmpvaW4oXCJcIil9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RzLnNsaWNlKDApfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCl9LGkucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbih0KXtyZXR1cm4gaS5fX3N1cGVyX18uaXNFcXVhbFRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8cyh0aGlzLm9iamVjdHMsbnVsbCE9dD90Lm9iamVjdHM6dm9pZCAwKX0scz1mdW5jdGlvbih0LGUpe3ZhciBuLGksbyxyLHM7aWYobnVsbD09ZSYmKGU9W10pLHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHM9ITAsaT1uPTAsbz10Lmxlbmd0aDtvPm47aT0rK24pcj10W2ldLHMmJiFyLmlzRXF1YWxUbyhlW2ldKSYmKHM9ITEpO3JldHVybiBzfSxpLnByb3RvdHlwZS5jb250ZW50c0Zvckluc3BlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm57b2JqZWN0czpcIltcIitmdW5jdGlvbigpe3ZhciBlLG4saSxvO2ZvcihpPXRoaXMub2JqZWN0cyxvPVtdLGU9MCxuPWkubGVuZ3RoO24+ZTtlKyspdD1pW2VdLG8ucHVzaCh0Lmluc3BlY3QoKSk7cmV0dXJuIG99LmNhbGwodGhpcykuam9pbihcIiwgXCIpK1wiXVwifX0sYT1mdW5jdGlvbih0KXtyZXR1cm4gdFswXX0scj1mdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0saX0oZS5PYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKW4uY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sbj17fS5oYXNPd25Qcm9wZXJ0eTtlLlRleHQ9ZnVuY3Rpb24obil7ZnVuY3Rpb24gaSh0KXt2YXIgbjtudWxsPT10JiYodD1bXSksaS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucGllY2VMaXN0PW5ldyBlLlNwbGl0dGFibGVMaXN0KGZ1bmN0aW9uKCl7dmFyIGUsaSxvO2ZvcihvPVtdLGU9MCxpPXQubGVuZ3RoO2k+ZTtlKyspbj10W2VdLG4uaXNFbXB0eSgpfHxvLnB1c2gobik7cmV0dXJuIG99KCkpfXJldHVybiB0KGksbiksaS50ZXh0Rm9yQXR0YWNobWVudFdpdGhBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQsbil7dmFyIGk7cmV0dXJuIGk9bmV3IGUuQXR0YWNobWVudFBpZWNlKHQsbiksbmV3IHRoaXMoW2ldKX0saS50ZXh0Rm9yU3RyaW5nV2l0aEF0dHJpYnV0ZXM9ZnVuY3Rpb24odCxuKXt2YXIgaTtyZXR1cm4gaT1uZXcgZS5TdHJpbmdQaWVjZSh0LG4pLG5ldyB0aGlzKFtpXSl9LGkuZnJvbUpTT049ZnVuY3Rpb24odCl7dmFyIG4saTtyZXR1cm4gaT1mdW5jdGlvbigpe3ZhciBpLG8scjtmb3Iocj1bXSxpPTAsbz10Lmxlbmd0aDtvPmk7aSsrKW49dFtpXSxyLnB1c2goZS5QaWVjZS5mcm9tSlNPTihuKSk7cmV0dXJuIHJ9KCksbmV3IHRoaXMoaSl9LGkucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5V2l0aFBpZWNlTGlzdCh0aGlzLnBpZWNlTGlzdCl9LGkucHJvdG90eXBlLmNvcHlXaXRoUGllY2VMaXN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LmNvbnNvbGlkYXRlKCkudG9BcnJheSgpKX0saS5wcm90b3R5cGUuY29weVVzaW5nT2JqZWN0TWFwPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG49ZnVuY3Rpb24oKXt2YXIgbixpLG8scixzO2ZvcihvPXRoaXMuZ2V0UGllY2VzKCkscz1bXSxuPTAsaT1vLmxlbmd0aDtpPm47bisrKWU9b1tuXSxzLnB1c2gobnVsbCE9KHI9dC5maW5kKGUpKT9yOmUpO3JldHVybiBzfS5jYWxsKHRoaXMpLG5ldyB0aGlzLmNvbnN0cnVjdG9yKG4pfSxpLnByb3RvdHlwZS5hcHBlbmRUZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluc2VydFRleHRBdFBvc2l0aW9uKHQsdGhpcy5nZXRMZW5ndGgoKSl9LGkucHJvdG90eXBlLmluc2VydFRleHRBdFBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29weVdpdGhQaWVjZUxpc3QodGhpcy5waWVjZUxpc3QuaW5zZXJ0U3BsaXR0YWJsZUxpc3RBdFBvc2l0aW9uKHQucGllY2VMaXN0LGUpKX0saS5wcm90b3R5cGUucmVtb3ZlVGV4dEF0UmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29weVdpdGhQaWVjZUxpc3QodGhpcy5waWVjZUxpc3QucmVtb3ZlT2JqZWN0c0luUmFuZ2UodCkpfSxpLnByb3RvdHlwZS5yZXBsYWNlVGV4dEF0UmFuZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZW1vdmVUZXh0QXRSYW5nZShlKS5pbnNlcnRUZXh0QXRQb3NpdGlvbih0LGVbMF0pfSxpLnByb3RvdHlwZS5tb3ZlVGV4dEZyb21SYW5nZVRvUG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbixpO2lmKCEodFswXTw9ZSYmZTw9dFsxXSkpcmV0dXJuIGk9dGhpcy5nZXRUZXh0QXRSYW5nZSh0KSxuPWkuZ2V0TGVuZ3RoKCksdFswXTxlJiYoZS09biksdGhpcy5yZW1vdmVUZXh0QXRSYW5nZSh0KS5pbnNlcnRUZXh0QXRQb3NpdGlvbihpLGUpfSxpLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGVBdFJhbmdlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtyZXR1cm4gaT17fSxpW3RdPWUsdGhpcy5hZGRBdHRyaWJ1dGVzQXRSYW5nZShpLG4pfSxpLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGVzQXRSYW5nZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHlXaXRoUGllY2VMaXN0KHRoaXMucGllY2VMaXN0LnRyYW5zZm9ybU9iamVjdHNJblJhbmdlKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29weVdpdGhBZGRpdGlvbmFsQXR0cmlidXRlcyh0KX0pKX0saS5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlQXRSYW5nZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHlXaXRoUGllY2VMaXN0KHRoaXMucGllY2VMaXN0LnRyYW5zZm9ybU9iamVjdHNJblJhbmdlKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29weVdpdGhvdXRBdHRyaWJ1dGUodCl9KSl9LGkucHJvdG90eXBlLnNldEF0dHJpYnV0ZXNBdFJhbmdlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29weVdpdGhQaWVjZUxpc3QodGhpcy5waWVjZUxpc3QudHJhbnNmb3JtT2JqZWN0c0luUmFuZ2UoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5V2l0aEF0dHJpYnV0ZXModCl9KSl9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZXNBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG51bGwhPShlPW51bGwhPShuPXRoaXMucGllY2VMaXN0LmdldE9iamVjdEF0UG9zaXRpb24odCkpP24uZ2V0QXR0cmlidXRlcygpOnZvaWQgMCk/ZTp7fX0saS5wcm90b3R5cGUuZ2V0Q29tbW9uQXR0cmlidXRlcz1mdW5jdGlvbigpe3ZhciB0LG47cmV0dXJuIHQ9ZnVuY3Rpb24oKXt2YXIgdCxlLGksbztmb3IoaT10aGlzLnBpZWNlTGlzdC50b0FycmF5KCksbz1bXSx0PTAsZT1pLmxlbmd0aDtlPnQ7dCsrKW49aVt0XSxvLnB1c2gobi5nZXRBdHRyaWJ1dGVzKCkpO3JldHVybiBvfS5jYWxsKHRoaXMpLGUuSGFzaC5mcm9tQ29tbW9uQXR0cmlidXRlc09mT2JqZWN0cyh0KS50b09iamVjdCgpfSxpLnByb3RvdHlwZS5nZXRDb21tb25BdHRyaWJ1dGVzQXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5nZXRUZXh0QXRSYW5nZSh0KS5nZXRDb21tb25BdHRyaWJ1dGVzKCkpP2U6e319LGkucHJvdG90eXBlLmdldEV4cGFuZGVkUmFuZ2VGb3JBdHRyaWJ1dGVBdE9mZnNldD1mdW5jdGlvbih0LGUpe3ZhciBuLGksbztmb3Iobj1vPWUsaT10aGlzLmdldExlbmd0aCgpO24+MCYmdGhpcy5nZXRDb21tb25BdHRyaWJ1dGVzQXRSYW5nZShbbi0xLG9dKVt0XTspbi0tO2Zvcig7aT5vJiZ0aGlzLmdldENvbW1vbkF0dHJpYnV0ZXNBdFJhbmdlKFtlLG8rMV0pW3RdOylvKys7cmV0dXJuW24sb119LGkucHJvdG90eXBlLmdldFRleHRBdFJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvcHlXaXRoUGllY2VMaXN0KHRoaXMucGllY2VMaXN0LmdldFNwbGl0dGFibGVMaXN0SW5SYW5nZSh0KSl9LGkucHJvdG90eXBlLmdldFN0cmluZ0F0UmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGllY2VMaXN0LmdldFNwbGl0dGFibGVMaXN0SW5SYW5nZSh0KS50b1N0cmluZygpfSxpLnByb3RvdHlwZS5nZXRTdHJpbmdBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFN0cmluZ0F0UmFuZ2UoW3QsdCsxXSl9LGkucHJvdG90eXBlLnN0YXJ0c1dpdGhTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXRSYW5nZShbMCx0Lmxlbmd0aF0pPT09dH0saS5wcm90b3R5cGUuZW5kc1dpdGhTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5nZXRMZW5ndGgoKSx0aGlzLmdldFN0cmluZ0F0UmFuZ2UoW2UtdC5sZW5ndGgsZV0pPT09dH0saS5wcm90b3R5cGUuZ2V0QXR0YWNobWVudFBpZWNlcz1mdW5jdGlvbigpe3ZhciB0LGUsbixpLG87Zm9yKGk9dGhpcy5waWVjZUxpc3QudG9BcnJheSgpLG89W10sdD0wLGU9aS5sZW5ndGg7ZT50O3QrKyluPWlbdF0sbnVsbCE9bi5hdHRhY2htZW50JiZvLnB1c2gobik7cmV0dXJuIG99LGkucHJvdG90eXBlLmdldEF0dGFjaG1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbztmb3IoaT10aGlzLmdldEF0dGFjaG1lbnRQaWVjZXMoKSxvPVtdLHQ9MCxlPWkubGVuZ3RoO2U+dDt0Kyspbj1pW3RdLG8ucHVzaChuLmF0dGFjaG1lbnQpO3JldHVybiBvfSxpLnByb3RvdHlwZS5nZXRBdHRhY2htZW50QW5kUG9zaXRpb25CeUlkPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLHIscztmb3Iobz0wLHI9dGhpcy5waWVjZUxpc3QudG9BcnJheSgpLGU9MCxuPXIubGVuZ3RoO24+ZTtlKyspe2lmKGk9cltlXSwobnVsbCE9KHM9aS5hdHRhY2htZW50KT9zLmlkOnZvaWQgMCk9PT10KXJldHVybnthdHRhY2htZW50OmkuYXR0YWNobWVudCxwb3NpdGlvbjpvfTtvKz1pLmxlbmd0aH1yZXR1cm57YXR0YWNobWVudDpudWxsLHBvc2l0aW9uOm51bGx9fSxpLnByb3RvdHlwZS5nZXRBdHRhY2htZW50QnlJZD1mdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIGk9dGhpcy5nZXRBdHRhY2htZW50QW5kUG9zaXRpb25CeUlkKHQpLGU9aS5hdHRhY2htZW50LG49aS5wb3NpdGlvbixlfSxpLnByb3RvdHlwZS5nZXRSYW5nZU9mQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBuPXRoaXMuZ2V0QXR0YWNobWVudEFuZFBvc2l0aW9uQnlJZCh0LmlkKSx0PW4uYXR0YWNobWVudCxlPW4ucG9zaXRpb24sbnVsbCE9dD9bZSxlKzFdOnZvaWQgMH0saS5wcm90b3R5cGUudXBkYXRlQXR0cmlidXRlc0ZvckF0dGFjaG1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4obj10aGlzLmdldFJhbmdlT2ZBdHRhY2htZW50KGUpKT90aGlzLmFkZEF0dHJpYnV0ZXNBdFJhbmdlKHQsbik6dGhpc30saS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGllY2VMaXN0LmdldEVuZFBvc2l0aW9uKCl9LGkucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuZ2V0TGVuZ3RoKCl9LGkucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gaS5fX3N1cGVyX18uaXNFcXVhbFRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8KG51bGwhPXQmJm51bGwhPShlPXQucGllY2VMaXN0KT9lLmlzRXF1YWxUbyh0aGlzLnBpZWNlTGlzdCk6dm9pZCAwKX0saS5wcm90b3R5cGUuaXNCbG9ja0JyZWFrPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmdldExlbmd0aCgpJiZ0aGlzLnBpZWNlTGlzdC5nZXRPYmplY3RBdEluZGV4KDApLmlzQmxvY2tCcmVhaygpfSxpLnByb3RvdHlwZS5lYWNoUGllY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGllY2VMaXN0LmVhY2hPYmplY3QodCl9LGkucHJvdG90eXBlLmdldFBpZWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBpZWNlTGlzdC50b0FycmF5KCl9LGkucHJvdG90eXBlLmdldFBpZWNlQXRQb3NpdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5waWVjZUxpc3QuZ2V0T2JqZWN0QXRQb3NpdGlvbih0KX0saS5wcm90b3R5cGUuY29udGVudHNGb3JJbnNwZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJue3BpZWNlTGlzdDp0aGlzLnBpZWNlTGlzdC5pbnNwZWN0KCl9fSxpLnByb3RvdHlwZS50b1NlcmlhbGl6YWJsZVRleHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD10aGlzLnBpZWNlTGlzdC5zZWxlY3RTcGxpdHRhYmxlTGlzdChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1NlcmlhbGl6YWJsZSgpfSksdGhpcy5jb3B5V2l0aFBpZWNlTGlzdCh0KX0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWVjZUxpc3QudG9TdHJpbmcoKX0saS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGllY2VMaXN0LnRvSlNPTigpfSxpLnByb3RvdHlwZS50b0NvbnNvbGU9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZnVuY3Rpb24oKXt2YXIgZSxuLGksbztmb3IoaT10aGlzLnBpZWNlTGlzdC50b0FycmF5KCksbz1bXSxlPTAsbj1pLmxlbmd0aDtuPmU7ZSsrKXQ9aVtlXSxvLnB1c2goSlNPTi5wYXJzZSh0LnRvQ29uc29sZSgpKSk7cmV0dXJuIG99LmNhbGwodGhpcykpfSxpfShlLk9iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxuLGksbyxyLHM9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKWEuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sYT17fS5oYXNPd25Qcm9wZXJ0eSx1PVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfSxjPVtdLnNsaWNlO3Q9ZS5hcnJheXNBcmVFcXVhbCxyPWUuc3BsaWNlQXJyYXksaT1lLmdldEJsb2NrQ29uZmlnLG49ZS5nZXRCbG9ja0F0dHJpYnV0ZU5hbWVzLG89ZS5nZXRMaXN0QXR0cmlidXRlTmFtZXMsZS5CbG9jaz1mdW5jdGlvbihuKXtmdW5jdGlvbiBhKHQsbil7bnVsbD09dCYmKHQ9bmV3IGUuVGV4dCksbnVsbD09biYmKG49W10pLGEuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRleHQ9aCh0KSx0aGlzLmF0dHJpYnV0ZXM9bn12YXIgbCxoLHAsZCxmLGcsbSx5LHY7cmV0dXJuIHMoYSxuKSxhLmZyb21KU09OPWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBuPWUuVGV4dC5mcm9tSlNPTih0LnRleHQpLG5ldyB0aGlzKG4sdC5hdHRyaWJ1dGVzKX0sYS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQuaXNCbG9ja0JyZWFrKCl9LGEucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbihlKXtyZXR1cm4gYS5fX3N1cGVyX18uaXNFcXVhbFRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcy50ZXh0LmlzRXF1YWxUbyhudWxsIT1lP2UudGV4dDp2b2lkIDApJiZ0KHRoaXMuYXR0cmlidXRlcyxudWxsIT1lP2UuYXR0cmlidXRlczp2b2lkIDApfSxhLnByb3RvdHlwZS5jb3B5V2l0aFRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5hdHRyaWJ1dGVzKX0sYS5wcm90b3R5cGUuY29weVdpdGhvdXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29weVdpdGhUZXh0KG51bGwpfSxhLnByb3RvdHlwZS5jb3B5V2l0aEF0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudGV4dCx0KX0sYS5wcm90b3R5cGUuY29weVdpdGhvdXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29weVdpdGhBdHRyaWJ1dGVzKG51bGwpfSxhLnByb3RvdHlwZS5jb3B5VXNpbmdPYmplY3RNYXA9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuY29weVdpdGhUZXh0KChlPXQuZmluZCh0aGlzLnRleHQpKT9lOnRoaXMudGV4dC5jb3B5VXNpbmdPYmplY3RNYXAodCkpfSxhLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5hdHRyaWJ1dGVzLmNvbmNhdChkKHQpKSx0aGlzLmNvcHlXaXRoQXR0cmlidXRlcyhlKX0sYS5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG49aSh0KS5saXN0QXR0cmlidXRlLGU9ZyhnKHRoaXMuYXR0cmlidXRlcyx0KSxuKSx0aGlzLmNvcHlXaXRoQXR0cmlidXRlcyhlKX0sYS5wcm90b3R5cGUucmVtb3ZlTGFzdEF0dHJpYnV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmdldExhc3RBdHRyaWJ1dGUoKSl9LGEucHJvdG90eXBlLmdldExhc3RBdHRyaWJ1dGU9ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmF0dHJpYnV0ZXMpfSxhLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5zbGljZSgwKX0sYS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aH0sYS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlQXRMZXZlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW3QtMV19LGEucHJvdG90eXBlLmhhc0F0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdS5jYWxsKHRoaXMuYXR0cmlidXRlcyx0KT49MH0sYS5wcm90b3R5cGUuaGFzQXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZUxldmVsKCk+MH0sYS5wcm90b3R5cGUuZ2V0TGFzdE5lc3RhYmxlQXR0cmlidXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5nZXROZXN0YWJsZUF0dHJpYnV0ZXMoKSl9LGEucHJvdG90eXBlLmdldE5lc3RhYmxlQXR0cmlidXRlcz1mdW5jdGlvbigpe3ZhciB0LGUsbixvLHI7Zm9yKG89dGhpcy5hdHRyaWJ1dGVzLHI9W10sZT0wLG49by5sZW5ndGg7bj5lO2UrKyl0PW9bZV0saSh0KS5uZXN0YWJsZSYmci5wdXNoKHQpO3JldHVybiByfSxhLnByb3RvdHlwZS5nZXROZXN0aW5nTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXROZXN0YWJsZUF0dHJpYnV0ZXMoKS5sZW5ndGh9LGEucHJvdG90eXBlLmRlY3JlYXNlTmVzdGluZ0xldmVsPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9dGhpcy5nZXRMYXN0TmVzdGFibGVBdHRyaWJ1dGUoKSk/dGhpcy5yZW1vdmVBdHRyaWJ1dGUodCk6dGhpc30sYS5wcm90b3R5cGUuaW5jcmVhc2VOZXN0aW5nTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuKHQ9dGhpcy5nZXRMYXN0TmVzdGFibGVBdHRyaWJ1dGUoKSk/KG49dGhpcy5hdHRyaWJ1dGVzLmxhc3RJbmRleE9mKHQpLGU9ci5hcHBseShudWxsLFt0aGlzLmF0dHJpYnV0ZXMsbisxLDBdLmNvbmNhdChjLmNhbGwoZCh0KSkpKSx0aGlzLmNvcHlXaXRoQXR0cmlidXRlcyhlKSk6dGhpc30sYS5wcm90b3R5cGUuZ2V0TGlzdEl0ZW1BdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLG8scjtmb3Iobz10aGlzLmF0dHJpYnV0ZXMscj1bXSxlPTAsbj1vLmxlbmd0aDtuPmU7ZSsrKXQ9b1tlXSxpKHQpLmxpc3RBdHRyaWJ1dGUmJnIucHVzaCh0KTtyZXR1cm4gcn0sYS5wcm90b3R5cGUuaXNMaXN0SXRlbT1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD1pKHRoaXMuZ2V0TGFzdEF0dHJpYnV0ZSgpKSk/dC5saXN0QXR0cmlidXRlOnZvaWQgMH0sYS5wcm90b3R5cGUuaXNUZXJtaW5hbEJsb2NrPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PWkodGhpcy5nZXRMYXN0QXR0cmlidXRlKCkpKT90LnRlcm1pbmFsOnZvaWQgMH0sYS5wcm90b3R5cGUuYnJlYWtzT25SZXR1cm49ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9aSh0aGlzLmdldExhc3RBdHRyaWJ1dGUoKSkpP3QuYnJlYWtPblJldHVybjp2b2lkIDB9LGEucHJvdG90eXBlLmZpbmRMaW5lQnJlYWtJbkRpcmVjdGlvbkZyb21Qb3NpdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuLGk7cmV0dXJuIGk9dGhpcy50b1N0cmluZygpLG49ZnVuY3Rpb24oKXtzd2l0Y2godCl7Y2FzZVwiZm9yd2FyZFwiOnJldHVybiBpLmluZGV4T2YoXCJcXG5cIixlKTtjYXNlXCJiYWNrd2FyZFwiOnJldHVybiBpLnNsaWNlKDAsZSkubGFzdEluZGV4T2YoXCJcXG5cIil9fSgpLC0xIT09bj9uOnZvaWQgMH0sYS5wcm90b3R5cGUuY29udGVudHNGb3JJbnNwZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJue3RleHQ6dGhpcy50ZXh0Lmluc3BlY3QoKSxhdHRyaWJ1dGVzOnRoaXMuYXR0cmlidXRlc319LGEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC50b1N0cmluZygpfSxhLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dGV4dDp0aGlzLnRleHQsYXR0cmlidXRlczp0aGlzLmF0dHJpYnV0ZXN9fSxhLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0LmdldExlbmd0aCgpfSxhLnByb3RvdHlwZS5jYW5CZUNvbnNvbGlkYXRlZFdpdGg9ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuaGFzQXR0cmlidXRlcygpJiYhdC5oYXNBdHRyaWJ1dGVzKCl9LGEucHJvdG90eXBlLmNvbnNvbGlkYXRlV2l0aD1mdW5jdGlvbih0KXt2YXIgbixpO3JldHVybiBuPWUuVGV4dC50ZXh0Rm9yU3RyaW5nV2l0aEF0dHJpYnV0ZXMoXCJcXG5cIiksaT10aGlzLmdldFRleHRXaXRob3V0QmxvY2tCcmVhaygpLmFwcGVuZFRleHQobiksdGhpcy5jb3B5V2l0aFRleHQoaS5hcHBlbmRUZXh0KHQudGV4dCkpfSxhLnByb3RvdHlwZS5zcGxpdEF0T2Zmc2V0PWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIDA9PT10PyhlPW51bGwsbj10aGlzKTp0PT09dGhpcy5nZXRMZW5ndGgoKT8oZT10aGlzLG49bnVsbCk6KGU9dGhpcy5jb3B5V2l0aFRleHQodGhpcy50ZXh0LmdldFRleHRBdFJhbmdlKFswLHRdKSksbj10aGlzLmNvcHlXaXRoVGV4dCh0aGlzLnRleHQuZ2V0VGV4dEF0UmFuZ2UoW3QsdGhpcy5nZXRMZW5ndGgoKV0pKSksW2Usbl19LGEucHJvdG90eXBlLmdldEJsb2NrQnJlYWtQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQuZ2V0TGVuZ3RoKCktMX0sYS5wcm90b3R5cGUuZ2V0VGV4dFdpdGhvdXRCbG9ja0JyZWFrPWZ1bmN0aW9uKCl7cmV0dXJuIG0odGhpcy50ZXh0KT90aGlzLnRleHQuZ2V0VGV4dEF0UmFuZ2UoWzAsdGhpcy5nZXRCbG9ja0JyZWFrUG9zaXRpb24oKV0pOnRoaXMudGV4dC5jb3B5KCl9LGEucHJvdG90eXBlLmNhbkJlR3JvdXBlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW3RdfSxhLnByb3RvdHlwZS5jYW5CZUdyb3VwZWRXaXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixzLGE7cmV0dXJuIHM9dC5nZXRBdHRyaWJ1dGVzKCkscj1zW2VdLG49dGhpcy5hdHRyaWJ1dGVzW2VdLG49PT1yJiYhKGkobikuZ3JvdXA9PT0hMSYmKGE9c1tlKzFdLHUuY2FsbChvKCksYSk8MCkpfSxoPWZ1bmN0aW9uKHQpe3JldHVybiB0PXYodCksdD1sKHQpfSx2PWZ1bmN0aW9uKHQpe3ZhciBuLGksbyxyLHMsYTtyZXR1cm4gcj0hMSxhPXQuZ2V0UGllY2VzKCksaT0yPD1hLmxlbmd0aD9jLmNhbGwoYSwwLG49YS5sZW5ndGgtMSk6KG49MCxbXSksbz1hW24rK10sbnVsbD09bz90OihpPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO2ZvcihuPVtdLHQ9MCxlPWkubGVuZ3RoO2U+dDt0Kyspcz1pW3RdLHMuaXNCbG9ja0JyZWFrKCk/KHI9ITAsbi5wdXNoKHkocykpKTpuLnB1c2gocyk7cmV0dXJuIG59KCkscj9uZXcgZS5UZXh0KGMuY2FsbChpKS5jb25jYXQoW29dKSk6dCl9LHA9ZS5UZXh0LnRleHRGb3JTdHJpbmdXaXRoQXR0cmlidXRlcyhcIlxcblwiLHtibG9ja0JyZWFrOiEwfSksbD1mdW5jdGlvbih0KXtyZXR1cm4gbSh0KT90OnQuYXBwZW5kVGV4dChwKX0sbT1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBuPXQuZ2V0TGVuZ3RoKCksMD09PW4/ITE6KGU9dC5nZXRUZXh0QXRSYW5nZShbbi0xLG5dKSxlLmlzQmxvY2tCcmVhaygpKX0seT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb3B5V2l0aG91dEF0dHJpYnV0ZShcImJsb2NrQnJlYWtcIil9LGQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9aSh0KS5saXN0QXR0cmlidXRlLG51bGwhPWU/W2UsdF06W3RdfSxmPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKC0xKVswXX0sZz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPXQubGFzdEluZGV4T2YoZSksLTE9PT1uP3Q6cih0LG4sMSl9LGF9KGUuT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saSxvPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gZSlyLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LHI9e30uaGFzT3duUHJvcGVydHkscz1bXS5pbmRleE9mfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMubGVuZ3RoO24+ZTtlKyspaWYoZSBpbiB0aGlzJiZ0aGlzW2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX0sYT1bXS5zbGljZTtuPWUudGFnTmFtZSxpPWUud2Fsa1RyZWUsdD1lLm5vZGVJc0F0dGFjaG1lbnRFbGVtZW50LGUuSFRNTFNhbml0aXplcj1mdW5jdGlvbihyKXtmdW5jdGlvbiB1KHQsZSl7dmFyIG47bj1udWxsIT1lP2U6e30sdGhpcy5hbGxvd2VkQXR0cmlidXRlcz1uLmFsbG93ZWRBdHRyaWJ1dGVzLHRoaXMuZm9yYmlkZGVuUHJvdG9jb2xzPW4uZm9yYmlkZGVuUHJvdG9jb2xzLG51bGw9PXRoaXMuYWxsb3dlZEF0dHJpYnV0ZXMmJih0aGlzLmFsbG93ZWRBdHRyaWJ1dGVzPWMpLG51bGw9PXRoaXMuZm9yYmlkZGVuUHJvdG9jb2xzJiYodGhpcy5mb3JiaWRkZW5Qcm90b2NvbHM9bCksdGhpcy5ib2R5PWgodCl9dmFyIGMsbCxoLHA7cmV0dXJuIG8odSxyKSxjPVwic3R5bGUgaHJlZiBzcmMgd2lkdGggaGVpZ2h0IGNsYXNzXCIuc3BsaXQoXCIgXCIpLGw9XCJqYXZhc2NyaXB0OlwiLnNwbGl0KFwiIFwiKSx1LnNhbml0aXplPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49bmV3IHRoaXModCxlKSxuLnNhbml0aXplKCksbn0sdS5wcm90b3R5cGUuc2FuaXRpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW5pdGl6ZUVsZW1lbnRzKCksdGhpcy5ub3JtYWxpemVMaXN0RWxlbWVudE5lc3RpbmcoKX0sdS5wcm90b3R5cGUuZ2V0SFRNTD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuaW5uZXJIVE1MfSx1LnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keX0sdS5wcm90b3R5cGUuc2FuaXRpemVFbGVtZW50cz1mdW5jdGlvbigpe3ZhciB0LG4sbyxyLHM7Zm9yKHM9aSh0aGlzLmJvZHkpLHI9W107cy5uZXh0Tm9kZSgpOylzd2l0Y2gobz1zLmN1cnJlbnROb2RlLG8ubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6cChvKT9yLnB1c2gobyk6dGhpcy5zYW5pdGl6ZUVsZW1lbnQobyk7YnJlYWs7Y2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpyLnB1c2gobyl9Zm9yKHQ9MCxuPXIubGVuZ3RoO24+dDt0Kyspbz1yW3RdLGUucmVtb3ZlTm9kZShvKTtyZXR1cm4gdGhpcy5ib2R5fSx1LnByb3RvdHlwZS5zYW5pdGl6ZUVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8scjtmb3IodC5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpJiYobz10LnByb3RvY29sLHMuY2FsbCh0aGlzLmZvcmJpZGRlblByb3RvY29scyxvKT49MCYmdC5yZW1vdmVBdHRyaWJ1dGUoXCJocmVmXCIpKSxyPWEuY2FsbCh0LmF0dHJpYnV0ZXMpLGU9MCxuPXIubGVuZ3RoO24+ZTtlKyspaT1yW2VdLm5hbWUscy5jYWxsKHRoaXMuYWxsb3dlZEF0dHJpYnV0ZXMsaSk+PTB8fDA9PT1pLmluZGV4T2YoXCJkYXRhLXRyaXhcIil8fHQucmVtb3ZlQXR0cmlidXRlKGkpO3JldHVybiB0fSx1LnByb3RvdHlwZS5ub3JtYWxpemVMaXN0RWxlbWVudE5lc3Rpbmc9ZnVuY3Rpb24oKXt2YXIgdCxlLGksbyxyO2ZvcihyPWEuY2FsbCh0aGlzLmJvZHkucXVlcnlTZWxlY3RvckFsbChcInVsLG9sXCIpKSx0PTAsZT1yLmxlbmd0aDtlPnQ7dCsrKWk9clt0XSwobz1pLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpJiZcImxpXCI9PT1uKG8pJiZvLmFwcGVuZENoaWxkKGkpO3JldHVybiB0aGlzLmJvZHl9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuKG51bGwhPWU/ZS5ub2RlVHlwZTp2b2lkIDApIT09Tm9kZS5FTEVNRU5UX05PREV8fHQoZSk/dm9pZCAwOlwic2NyaXB0XCI9PT1uKGUpfHxcImZhbHNlXCI9PT1lLmdldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1zZXJpYWxpemVcIil9LGg9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8scjtmb3IobnVsbD09dCYmKHQ9XCJcIiksdD10LnJlcGxhY2UoLzxcXC9odG1sW14+XSo+W15dKiQvaSxcIjwvaHRtbD5cIiksZT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIiksZS5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MPXQscj1lLmhlYWQucXVlcnlTZWxlY3RvckFsbChcInN0eWxlXCIpLGk9MCxvPXIubGVuZ3RoO28+aTtpKyspbj1yW2ldLGUuYm9keS5hcHBlbmRDaGlsZChuKTtyZXR1cm4gZS5ib2R5fSx1fShlLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saSxvLHIscyxhLHUsYyxsLGgscD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIGUpZC5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxkPXt9Lmhhc093blByb3BlcnR5LGY9W10uaW5kZXhPZnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmxlbmd0aDtuPmU7ZSsrKWlmKGUgaW4gdGhpcyYmdGhpc1tlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9O3Q9ZS5hcnJheXNBcmVFcXVhbCxzPWUubWFrZUVsZW1lbnQsbD1lLnRhZ05hbWUscj1lLmdldEJsb2NrVGFnTmFtZXMsaD1lLndhbGtUcmVlLG89ZS5maW5kQ2xvc2VzdEVsZW1lbnRGcm9tTm9kZSxpPWUuZWxlbWVudENvbnRhaW5zTm9kZSxhPWUubm9kZUlzQXR0YWNobWVudEVsZW1lbnQsdT1lLm5vcm1hbGl6ZVNwYWNlcyxuPWUuYnJlYWthYmxlV2hpdGVzcGFjZVBhdHRlcm4sYz1lLnNxdWlzaEJyZWFrYWJsZVdoaXRlc3BhY2UsZS5IVE1MUGFyc2VyPWZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGcodCxlKXt0aGlzLmh0bWw9dCx0aGlzLnJlZmVyZW5jZUVsZW1lbnQ9KG51bGwhPWU/ZTp7fSkucmVmZXJlbmNlRWxlbWVudCx0aGlzLmJsb2Nrcz1bXSx0aGlzLmJsb2NrRWxlbWVudHM9W10sdGhpcy5wcm9jZXNzZWRFbGVtZW50cz1bXX12YXIgbSx5LHYsYixBLHgsQyxTLFIsayxFLHc7cmV0dXJuIHAoZyxkKSxnLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49bmV3IHRoaXModCxlKSxuLnBhcnNlKCksbn0sZy5wcm90b3R5cGUuZ2V0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudC5mcm9tSlNPTih0aGlzLmJsb2Nrcyl9LGcucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKCl7dmFyIHQsbjt0cnl7Zm9yKHRoaXMuY3JlYXRlSGlkZGVuQ29udGFpbmVyKCksdD1lLkhUTUxTYW5pdGl6ZXIuc2FuaXRpemUodGhpcy5odG1sKS5nZXRIVE1MKCksdGhpcy5jb250YWluZXJFbGVtZW50LmlubmVySFRNTD10LG49aCh0aGlzLmNvbnRhaW5lckVsZW1lbnQse3VzaW5nRmlsdGVyOlN9KTtuLm5leHROb2RlKCk7KXRoaXMucHJvY2Vzc05vZGUobi5jdXJyZW50Tm9kZSk7cmV0dXJuIHRoaXMudHJhbnNsYXRlQmxvY2tFbGVtZW50TWFyZ2luc1RvTmV3bGluZXMoKX1maW5hbGx5e3RoaXMucmVtb3ZlSGlkZGVuQ29udGFpbmVyKCl9fSxnLnByb3RvdHlwZS5jcmVhdGVIaWRkZW5Db250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWZlcmVuY2VFbGVtZW50Pyh0aGlzLmNvbnRhaW5lckVsZW1lbnQ9dGhpcy5yZWZlcmVuY2VFbGVtZW50LmNsb25lTm9kZSghMSksdGhpcy5jb250YWluZXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpLHRoaXMuY29udGFpbmVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtaW50ZXJuYWxcIixcIlwiKSx0aGlzLmNvbnRhaW5lckVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLnJlZmVyZW5jZUVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5jb250YWluZXJFbGVtZW50LHRoaXMucmVmZXJlbmNlRWxlbWVudC5uZXh0U2libGluZykpOih0aGlzLmNvbnRhaW5lckVsZW1lbnQ9cyh7dGFnTmFtZTpcImRpdlwiLHN0eWxlOntkaXNwbGF5Olwibm9uZVwifX0pLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXJFbGVtZW50KSl9LGcucHJvdG90eXBlLnJlbW92ZUhpZGRlbkNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiBlLnJlbW92ZU5vZGUodGhpcy5jb250YWluZXJFbGVtZW50KX0sUz1mdW5jdGlvbih0KXtyZXR1cm5cInN0eWxlXCI9PT1sKHQpP05vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVDpOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFR9LGcucHJvdG90eXBlLnByb2Nlc3NOb2RlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0Lm5vZGVUeXBlKXtjYXNlIE5vZGUuVEVYVF9OT0RFOmlmKCF0aGlzLmlzSW5zaWduaWZpY2FudFRleHROb2RlKHQpKXJldHVybiB0aGlzLmFwcGVuZEJsb2NrRm9yVGV4dE5vZGUodCksdGhpcy5wcm9jZXNzVGV4dE5vZGUodCk7YnJlYWs7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpyZXR1cm4gdGhpcy5hcHBlbmRCbG9ja0ZvckVsZW1lbnQodCksdGhpcy5wcm9jZXNzRWxlbWVudCh0KX19LGcucHJvdG90eXBlLmFwcGVuZEJsb2NrRm9yVGV4dE5vZGU9ZnVuY3Rpb24oZSl7dmFyIG4saSxvO3JldHVybiBpPWUucGFyZW50Tm9kZSxpPT09dGhpcy5jdXJyZW50QmxvY2tFbGVtZW50fHxpIT09dGhpcy5jb250YWluZXJFbGVtZW50JiYhdGhpcy5pc0Jsb2NrRWxlbWVudChpKT92b2lkIDA6KG49dGhpcy5nZXRCbG9ja0F0dHJpYnV0ZXMoaSksdChuLG51bGwhPShvPXRoaXMuY3VycmVudEJsb2NrKT9vLmF0dHJpYnV0ZXM6dm9pZCAwKT92b2lkIDA6KHRoaXMuY3VycmVudEJsb2NrPXRoaXMuYXBwZW5kQmxvY2tGb3JBdHRyaWJ1dGVzV2l0aEVsZW1lbnQobixpKSx0aGlzLmN1cnJlbnRCbG9ja0VsZW1lbnQ9aSkpfSxnLnByb3RvdHlwZS5hcHBlbmRCbG9ja0ZvckVsZW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIG4sbyxyLHM7aWYocj10aGlzLmlzQmxvY2tFbGVtZW50KGUpLG89aSh0aGlzLmN1cnJlbnRCbG9ja0VsZW1lbnQsZSksciYmIXRoaXMuaXNCbG9ja0VsZW1lbnQoZS5maXJzdENoaWxkKSl7aWYoISh0aGlzLmlzSW5zaWduaWZpY2FudFRleHROb2RlKGUuZmlyc3RDaGlsZCkmJnRoaXMuaXNCbG9ja0VsZW1lbnQoZS5maXJzdEVsZW1lbnRDaGlsZCl8fChuPXRoaXMuZ2V0QmxvY2tBdHRyaWJ1dGVzKGUpLG8mJnQobix0aGlzLmN1cnJlbnRCbG9jay5hdHRyaWJ1dGVzKSkpKXJldHVybiB0aGlzLmN1cnJlbnRCbG9jaz10aGlzLmFwcGVuZEJsb2NrRm9yQXR0cmlidXRlc1dpdGhFbGVtZW50KG4sZSksdGhpcy5jdXJyZW50QmxvY2tFbGVtZW50PWV9ZWxzZSBpZih0aGlzLmN1cnJlbnRCbG9ja0VsZW1lbnQmJiFvJiYhcilyZXR1cm4ocz10aGlzLmZpbmRQYXJlbnRCbG9ja0VsZW1lbnQoZSkpP3RoaXMuYXBwZW5kQmxvY2tGb3JFbGVtZW50KHMpOih0aGlzLmN1cnJlbnRCbG9jaz10aGlzLmFwcGVuZEVtcHR5QmxvY2soKSx0aGlzLmN1cnJlbnRCbG9ja0VsZW1lbnQ9bnVsbCl9LGcucHJvdG90eXBlLmZpbmRQYXJlbnRCbG9ja0VsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9dC5wYXJlbnRFbGVtZW50O2UmJmUhPT10aGlzLmNvbnRhaW5lckVsZW1lbnQ7KXtpZih0aGlzLmlzQmxvY2tFbGVtZW50KGUpJiZmLmNhbGwodGhpcy5ibG9ja0VsZW1lbnRzLGUpPj0wKXJldHVybiBlO2U9ZS5wYXJlbnRFbGVtZW50fXJldHVybiBudWxsfSxnLnByb3RvdHlwZS5wcm9jZXNzVGV4dE5vZGU9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gbj10LmRhdGEseSh0LnBhcmVudE5vZGUpfHwobj1jKG4pLEUobnVsbCE9KGU9dC5wcmV2aW91c1NpYmxpbmcpP2UudGV4dENvbnRlbnQ6dm9pZCAwKSYmKG49eChuKSkpLHRoaXMuYXBwZW5kU3RyaW5nV2l0aEF0dHJpYnV0ZXMobix0aGlzLmdldFRleHRBdHRyaWJ1dGVzKHQucGFyZW50Tm9kZSkpfSxnLnByb3RvdHlwZS5wcm9jZXNzRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyO2lmKGEodCkpcmV0dXJuIGU9dih0KSxPYmplY3Qua2V5cyhlKS5sZW5ndGgmJihvPXRoaXMuZ2V0VGV4dEF0dHJpYnV0ZXModCksdGhpcy5hcHBlbmRBdHRhY2htZW50V2l0aEF0dHJpYnV0ZXMoZSxvKSx0LmlubmVySFRNTD1cIlwiKSx0aGlzLnByb2Nlc3NlZEVsZW1lbnRzLnB1c2godCk7c3dpdGNoKGwodCkpe2Nhc2VcImJyXCI6cmV0dXJuIHRoaXMuaXNFeHRyYUJSKHQpfHx0aGlzLmlzQmxvY2tFbGVtZW50KHQubmV4dFNpYmxpbmcpfHx0aGlzLmFwcGVuZFN0cmluZ1dpdGhBdHRyaWJ1dGVzKFwiXFxuXCIsdGhpcy5nZXRUZXh0QXR0cmlidXRlcyh0KSksdGhpcy5wcm9jZXNzZWRFbGVtZW50cy5wdXNoKHQpO2Nhc2VcImltZ1wiOmU9e3VybDp0LmdldEF0dHJpYnV0ZShcInNyY1wiKSxjb250ZW50VHlwZTpcImltYWdlXCJ9LGk9QSh0KTtmb3IobiBpbiBpKXI9aVtuXSxlW25dPXI7cmV0dXJuIHRoaXMuYXBwZW5kQXR0YWNobWVudFdpdGhBdHRyaWJ1dGVzKGUsdGhpcy5nZXRUZXh0QXR0cmlidXRlcyh0KSksdGhpcy5wcm9jZXNzZWRFbGVtZW50cy5wdXNoKHQpO2Nhc2VcInRyXCI6aWYodC5wYXJlbnROb2RlLmZpcnN0Q2hpbGQhPT10KXJldHVybiB0aGlzLmFwcGVuZFN0cmluZ1dpdGhBdHRyaWJ1dGVzKFwiXFxuXCIpO2JyZWFrO2Nhc2VcInRkXCI6aWYodC5wYXJlbnROb2RlLmZpcnN0Q2hpbGQhPT10KXJldHVybiB0aGlzLmFwcGVuZFN0cmluZ1dpdGhBdHRyaWJ1dGVzKFwiIHwgXCIpfX0sZy5wcm90b3R5cGUuYXBwZW5kQmxvY2tGb3JBdHRyaWJ1dGVzV2l0aEVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdGhpcy5ibG9ja0VsZW1lbnRzLnB1c2goZSksbj1tKHQpLHRoaXMuYmxvY2tzLnB1c2gobiksbn0sZy5wcm90b3R5cGUuYXBwZW5kRW1wdHlCbG9jaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFwcGVuZEJsb2NrRm9yQXR0cmlidXRlc1dpdGhFbGVtZW50KFtdLG51bGwpfSxnLnByb3RvdHlwZS5hcHBlbmRTdHJpbmdXaXRoQXR0cmlidXRlcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFwcGVuZFBpZWNlKGsodCxlKSl9LGcucHJvdG90eXBlLmFwcGVuZEF0dGFjaG1lbnRXaXRoQXR0cmlidXRlcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFwcGVuZFBpZWNlKFIodCxlKSl9LGcucHJvdG90eXBlLmFwcGVuZFBpZWNlPWZ1bmN0aW9uKHQpe3JldHVybiAwPT09dGhpcy5ibG9ja3MubGVuZ3RoJiZ0aGlzLmFwcGVuZEVtcHR5QmxvY2soKSx0aGlzLmJsb2Nrc1t0aGlzLmJsb2Nrcy5sZW5ndGgtMV0udGV4dC5wdXNoKHQpXG59LGcucHJvdG90eXBlLmFwcGVuZFN0cmluZ1RvVGV4dEF0SW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbixpO3JldHVybiBpPXRoaXMuYmxvY2tzW2VdLnRleHQsbj1pW2kubGVuZ3RoLTFdLFwic3RyaW5nXCI9PT0obnVsbCE9bj9uLnR5cGU6dm9pZCAwKT9uLnN0cmluZys9dDppLnB1c2goayh0KSl9LGcucHJvdG90eXBlLnByZXBlbmRTdHJpbmdUb1RleHRBdEluZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtyZXR1cm4gaT10aGlzLmJsb2Nrc1tlXS50ZXh0LG49aVswXSxcInN0cmluZ1wiPT09KG51bGwhPW4/bi50eXBlOnZvaWQgMCk/bi5zdHJpbmc9dCtuLnN0cmluZzppLnVuc2hpZnQoayh0KSl9LGs9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbD09ZSYmKGU9e30pLG49XCJzdHJpbmdcIix0PXUodCkse3N0cmluZzp0LGF0dHJpYnV0ZXM6ZSx0eXBlOm59fSxSPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG51bGw9PWUmJihlPXt9KSxuPVwiYXR0YWNobWVudFwiLHthdHRhY2htZW50OnQsYXR0cmlidXRlczplLHR5cGU6bn19LG09ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGw9PXQmJih0PXt9KSxlPVtdLHt0ZXh0OmUsYXR0cmlidXRlczp0fX0sZy5wcm90b3R5cGUuZ2V0VGV4dEF0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7dmFyIG4saSxyLHMsdSxjLGwsaCxwLGQsZixnLG07cj17fSxkPWUuY29uZmlnLnRleHRBdHRyaWJ1dGVzO2ZvcihuIGluIGQpaWYodT1kW25dLHUudGFnTmFtZSYmbyh0LHttYXRjaGluZ1NlbGVjdG9yOnUudGFnTmFtZSx1bnRpbE5vZGU6dGhpcy5jb250YWluZXJFbGVtZW50fSkpcltuXT0hMDtlbHNlIGlmKHUucGFyc2VyKXtpZihtPXUucGFyc2VyKHQpKXtmb3IoaT0hMSxmPXRoaXMuZmluZEJsb2NrRWxlbWVudEFuY2VzdG9ycyh0KSxjPTAscD1mLmxlbmd0aDtwPmM7YysrKWlmKHM9ZltjXSx1LnBhcnNlcihzKT09PW0pe2k9ITA7YnJlYWt9aXx8KHJbbl09bSl9fWVsc2UgdS5zdHlsZVByb3BlcnR5JiYobT10LnN0eWxlW3Uuc3R5bGVQcm9wZXJ0eV0pJiYocltuXT1tKTtpZihhKHQpJiYobD10LmdldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1hdHRyaWJ1dGVzXCIpKSl7Zz1KU09OLnBhcnNlKGwpO2ZvcihoIGluIGcpbT1nW2hdLHJbaF09bX1yZXR1cm4gcn0sZy5wcm90b3R5cGUuZ2V0QmxvY2tBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe3ZhciBuLGksbyxyO2ZvcihpPVtdO3QmJnQhPT10aGlzLmNvbnRhaW5lckVsZW1lbnQ7KXtyPWUuY29uZmlnLmJsb2NrQXR0cmlidXRlcztmb3IobiBpbiByKW89cltuXSxvLnBhcnNlIT09ITEmJmwodCk9PT1vLnRhZ05hbWUmJigoXCJmdW5jdGlvblwiPT10eXBlb2Ygby50ZXN0P28udGVzdCh0KTp2b2lkIDApfHwhby50ZXN0KSYmKGkucHVzaChuKSxvLmxpc3RBdHRyaWJ1dGUmJmkucHVzaChvLmxpc3RBdHRyaWJ1dGUpKTt0PXQucGFyZW50Tm9kZX1yZXR1cm4gaS5yZXZlcnNlKCl9LGcucHJvdG90eXBlLmZpbmRCbG9ja0VsZW1lbnRBbmNlc3RvcnM9ZnVuY3Rpb24odCl7dmFyIGUsbjtmb3IoZT1bXTt0JiZ0IT09dGhpcy5jb250YWluZXJFbGVtZW50OyluPWwodCksZi5jYWxsKHIoKSxuKT49MCYmZS5wdXNoKHQpLHQ9dC5wYXJlbnROb2RlO3JldHVybiBlfSx2PWZ1bmN0aW9uKHQpe3JldHVybiBKU09OLnBhcnNlKHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWF0dGFjaG1lbnRcIikpfSxBPWZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gaT10LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLG49dC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksZT17fSxpJiYoZS53aWR0aD1wYXJzZUludChpLDEwKSksbiYmKGUuaGVpZ2h0PXBhcnNlSW50KG4sMTApKSxlfSxnLnByb3RvdHlwZS5pc0Jsb2NrRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZTtpZigobnVsbCE9dD90Lm5vZGVUeXBlOnZvaWQgMCk9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmIWEodCkmJiFvKHQse21hdGNoaW5nU2VsZWN0b3I6XCJ0ZFwiLHVudGlsTm9kZTp0aGlzLmNvbnRhaW5lckVsZW1lbnR9KSlyZXR1cm4gZT1sKHQpLGYuY2FsbChyKCksZSk+PTB8fFwiYmxvY2tcIj09PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLmRpc3BsYXl9LGcucHJvdG90eXBlLmlzSW5zaWduaWZpY2FudFRleHROb2RlPWZ1bmN0aW9uKHQpe3ZhciBlLG4saTtpZigobnVsbCE9dD90Lm5vZGVUeXBlOnZvaWQgMCk9PT1Ob2RlLlRFWFRfTk9ERSYmdyh0LmRhdGEpJiYobj10LnBhcmVudE5vZGUsaT10LnByZXZpb3VzU2libGluZyxlPXQubmV4dFNpYmxpbmcsKCFDKG4ucHJldmlvdXNTaWJsaW5nKXx8dGhpcy5pc0Jsb2NrRWxlbWVudChuLnByZXZpb3VzU2libGluZykpJiYheShuKSkpcmV0dXJuIWl8fHRoaXMuaXNCbG9ja0VsZW1lbnQoaSl8fCFlfHx0aGlzLmlzQmxvY2tFbGVtZW50KGUpfSxnLnByb3RvdHlwZS5pc0V4dHJhQlI9ZnVuY3Rpb24odCl7cmV0dXJuXCJiclwiPT09bCh0KSYmdGhpcy5pc0Jsb2NrRWxlbWVudCh0LnBhcmVudE5vZGUpJiZ0LnBhcmVudE5vZGUubGFzdENoaWxkPT09dH0seT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS53aGl0ZVNwYWNlLFwicHJlXCI9PT1lfHxcInByZS13cmFwXCI9PT1lfHxcInByZS1saW5lXCI9PT1lfSxDPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYhRSh0LnRleHRDb250ZW50KX0sZy5wcm90b3R5cGUudHJhbnNsYXRlQmxvY2tFbGVtZW50TWFyZ2luc1RvTmV3bGluZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLHIscyxhO2ZvcihlPXRoaXMuZ2V0TWFyZ2luT2ZEZWZhdWx0QmxvY2tFbGVtZW50KCkscz10aGlzLmJsb2NrcyxhPVtdLGk9bj0wLG89cy5sZW5ndGg7bz5uO2k9KytuKXQ9c1tpXSwocj10aGlzLmdldE1hcmdpbk9mQmxvY2tFbGVtZW50QXRJbmRleChpKSkmJihyLnRvcD4yKmUudG9wJiZ0aGlzLnByZXBlbmRTdHJpbmdUb1RleHRBdEluZGV4KFwiXFxuXCIsaSksYS5wdXNoKHIuYm90dG9tPjIqZS5ib3R0b20/dGhpcy5hcHBlbmRTdHJpbmdUb1RleHRBdEluZGV4KFwiXFxuXCIsaSk6dm9pZCAwKSk7cmV0dXJuIGF9LGcucHJvdG90eXBlLmdldE1hcmdpbk9mQmxvY2tFbGVtZW50QXRJbmRleD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiEoZT10aGlzLmJsb2NrRWxlbWVudHNbdF0pfHwhZS50ZXh0Q29udGVudHx8KG49bChlKSxmLmNhbGwocigpLG4pPj0wfHxmLmNhbGwodGhpcy5wcm9jZXNzZWRFbGVtZW50cyxlKT49MCk/dm9pZCAwOmIoZSl9LGcucHJvdG90eXBlLmdldE1hcmdpbk9mRGVmYXVsdEJsb2NrRWxlbWVudD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PXMoZS5jb25maWcuYmxvY2tBdHRyaWJ1dGVzW1wiZGVmYXVsdFwiXS50YWdOYW1lKSx0aGlzLmNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQodCksYih0KX0sYj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxcImJsb2NrXCI9PT1lLmRpc3BsYXk/e3RvcDpwYXJzZUludChlLm1hcmdpblRvcCksYm90dG9tOnBhcnNlSW50KGUubWFyZ2luQm90dG9tKX06dm9pZCAwfSx4PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoUmVnRXhwKFwiXlwiK24uc291cmNlK1wiK1wiKSxcIlwiKX0sdz1mdW5jdGlvbih0KXtyZXR1cm4gUmVnRXhwKFwiXlwiK24uc291cmNlK1wiKiRcIikudGVzdCh0KX0sRT1mdW5jdGlvbih0KXtyZXR1cm4vXFxzJC8udGVzdCh0KX0sZ30oZS5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxuLGksbyxyPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gZSlzLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LHM9e30uaGFzT3duUHJvcGVydHksYT1bXS5zbGljZSx1PVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfTt0PWUuYXJyYXlzQXJlRXF1YWwsaT1lLm5vcm1hbGl6ZVJhbmdlLG89ZS5yYW5nZUlzQ29sbGFwc2VkLG49ZS5nZXRCbG9ja0NvbmZpZyxlLkRvY3VtZW50PWZ1bmN0aW9uKHMpe2Z1bmN0aW9uIGModCl7bnVsbD09dCYmKHQ9W10pLGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSwwPT09dC5sZW5ndGgmJih0PVtuZXcgZS5CbG9ja10pLHRoaXMuYmxvY2tMaXN0PWUuU3BsaXR0YWJsZUxpc3QuYm94KHQpfXZhciBsO3JldHVybiByKGMscyksYy5mcm9tSlNPTj1mdW5jdGlvbih0KXt2YXIgbixpO3JldHVybiBpPWZ1bmN0aW9uKCl7dmFyIGksbyxyO2ZvcihyPVtdLGk9MCxvPXQubGVuZ3RoO28+aTtpKyspbj10W2ldLHIucHVzaChlLkJsb2NrLmZyb21KU09OKG4pKTtyZXR1cm4gcn0oKSxuZXcgdGhpcyhpKX0sYy5mcm9tSFRNTD1mdW5jdGlvbih0LG4pe3JldHVybiBlLkhUTUxQYXJzZXIucGFyc2UodCxuKS5nZXREb2N1bWVudCgpfSxjLmZyb21TdHJpbmc9ZnVuY3Rpb24odCxuKXt2YXIgaTtyZXR1cm4gaT1lLlRleHQudGV4dEZvclN0cmluZ1dpdGhBdHRyaWJ1dGVzKHQsbiksbmV3IHRoaXMoW25ldyBlLkJsb2NrKGkpXSl9LGMucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gMT09PXRoaXMuYmxvY2tMaXN0Lmxlbmd0aCYmKHQ9dGhpcy5nZXRCbG9ja0F0SW5kZXgoMCksdC5pc0VtcHR5KCkmJiF0Lmhhc0F0dHJpYnV0ZXMoKSl9LGMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGw9PXQmJih0PXt9KSxlPXQuY29uc29saWRhdGVCbG9ja3M/dGhpcy5ibG9ja0xpc3QuY29uc29saWRhdGUoKS50b0FycmF5KCk6dGhpcy5ibG9ja0xpc3QudG9BcnJheSgpLG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUpfSxjLnByb3RvdHlwZS5jb3B5VXNpbmdPYmplY3RzRnJvbURvY3VtZW50PWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBuPW5ldyBlLk9iamVjdE1hcCh0LmdldE9iamVjdHMoKSksdGhpcy5jb3B5VXNpbmdPYmplY3RNYXAobil9LGMucHJvdG90eXBlLmNvcHlVc2luZ09iamVjdE1hcD1mdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIG49ZnVuY3Rpb24oKXt2YXIgbixvLHIscztmb3Iocj10aGlzLmdldEJsb2NrcygpLHM9W10sbj0wLG89ci5sZW5ndGg7bz5uO24rKyllPXJbbl0scy5wdXNoKChpPXQuZmluZChlKSk/aTplLmNvcHlVc2luZ09iamVjdE1hcCh0KSk7cmV0dXJuIHN9LmNhbGwodGhpcyksbmV3IHRoaXMuY29uc3RydWN0b3Iobil9LGMucHJvdG90eXBlLmNvcHlXaXRoQmFzZUJsb2NrQXR0cmlidXRlcz1mdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIG51bGw9PXQmJih0PVtdKSxpPWZ1bmN0aW9uKCl7dmFyIGksbyxyLHM7Zm9yKHI9dGhpcy5nZXRCbG9ja3MoKSxzPVtdLGk9MCxvPXIubGVuZ3RoO28+aTtpKyspbj1yW2ldLGU9dC5jb25jYXQobi5nZXRBdHRyaWJ1dGVzKCkpLHMucHVzaChuLmNvcHlXaXRoQXR0cmlidXRlcyhlKSk7cmV0dXJuIHN9LmNhbGwodGhpcyksbmV3IHRoaXMuY29uc3RydWN0b3IoaSl9LGMucHJvdG90eXBlLnJlcGxhY2VCbG9jaz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPXRoaXMuYmxvY2tMaXN0LmluZGV4T2YodCksLTE9PT1uP3RoaXM6bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5ibG9ja0xpc3QucmVwbGFjZU9iamVjdEF0SW5kZXgoZSxuKSl9LGMucHJvdG90eXBlLmluc2VydERvY3VtZW50QXRSYW5nZT1mdW5jdGlvbih0LGUpe3ZhciBuLHIscyxhLHUsYyxsO3JldHVybiByPXQuYmxvY2tMaXN0LHU9KGU9aShlKSlbMF0sYz10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHUpLHM9Yy5pbmRleCxhPWMub2Zmc2V0LGw9dGhpcyxuPXRoaXMuZ2V0QmxvY2tBdFBvc2l0aW9uKHUpLG8oZSkmJm4uaXNFbXB0eSgpJiYhbi5oYXNBdHRyaWJ1dGVzKCk/bD1uZXcgdGhpcy5jb25zdHJ1Y3RvcihsLmJsb2NrTGlzdC5yZW1vdmVPYmplY3RBdEluZGV4KHMpKTpuLmdldEJsb2NrQnJlYWtQb3NpdGlvbigpPT09YSYmdSsrLGw9bC5yZW1vdmVUZXh0QXRSYW5nZShlKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihsLmJsb2NrTGlzdC5pbnNlcnRTcGxpdHRhYmxlTGlzdEF0UG9zaXRpb24ocix1KSl9LGMucHJvdG90eXBlLm1lcmdlRG9jdW1lbnRBdFJhbmdlPWZ1bmN0aW9uKGUsbil7dmFyIG8scixzLGEsdSxjLGwsaCxwLGQsZixnO3JldHVybiBmPShuPWkobikpWzBdLGQ9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihmKSxyPXRoaXMuZ2V0QmxvY2tBdEluZGV4KGQuaW5kZXgpLmdldEF0dHJpYnV0ZXMoKSxvPWUuZ2V0QmFzZUJsb2NrQXR0cmlidXRlcygpLGc9ci5zbGljZSgtby5sZW5ndGgpLHQobyxnKT8obD1yLnNsaWNlKDAsLW8ubGVuZ3RoKSxjPWUuY29weVdpdGhCYXNlQmxvY2tBdHRyaWJ1dGVzKGwpKTpjPWUuY29weSh7Y29uc29saWRhdGVCbG9ja3M6ITB9KS5jb3B5V2l0aEJhc2VCbG9ja0F0dHJpYnV0ZXMocikscz1jLmdldEJsb2NrQ291bnQoKSxhPWMuZ2V0QmxvY2tBdEluZGV4KDApLHQocixhLmdldEF0dHJpYnV0ZXMoKSk/KHU9YS5nZXRUZXh0V2l0aG91dEJsb2NrQnJlYWsoKSxwPXRoaXMuaW5zZXJ0VGV4dEF0UmFuZ2UodSxuKSxzPjEmJihjPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGMuZ2V0QmxvY2tzKCkuc2xpY2UoMSkpLGg9Zit1LmdldExlbmd0aCgpLHA9cC5pbnNlcnREb2N1bWVudEF0UmFuZ2UoYyxoKSkpOnA9dGhpcy5pbnNlcnREb2N1bWVudEF0UmFuZ2UoYyxuKSxwfSxjLnByb3RvdHlwZS5pbnNlcnRUZXh0QXRSYW5nZT1mdW5jdGlvbih0LGUpe3ZhciBuLG8scixzLGE7cmV0dXJuIGE9KGU9aShlKSlbMF0scz10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKGEpLG89cy5pbmRleCxyPXMub2Zmc2V0LG49dGhpcy5yZW1vdmVUZXh0QXRSYW5nZShlKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihuLmJsb2NrTGlzdC5lZGl0T2JqZWN0QXRJbmRleChvLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlXaXRoVGV4dChlLnRleHQuaW5zZXJ0VGV4dEF0UG9zaXRpb24odCxyKSl9KSl9LGMucHJvdG90eXBlLnJlbW92ZVRleHRBdFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixzLGEsdSxjLGwsaCxwLGQsZixnLG0seSx2LGIsQSx4LEMsUztyZXR1cm4gcD10PWkodCksbD1wWzBdLEE9cFsxXSxvKHQpP3RoaXM6KGQ9dGhpcy5sb2NhdGlvblJhbmdlRnJvbVJhbmdlKHQpLHU9ZFswXSx2PWRbMV0sYT11LmluZGV4LGM9dS5vZmZzZXQscz10aGlzLmdldEJsb2NrQXRJbmRleChhKSx5PXYuaW5kZXgsYj12Lm9mZnNldCxtPXRoaXMuZ2V0QmxvY2tBdEluZGV4KHkpLGY9QS1sPT09MSYmcy5nZXRCbG9ja0JyZWFrUG9zaXRpb24oKT09PWMmJm0uZ2V0QmxvY2tCcmVha1Bvc2l0aW9uKCkhPT1iJiZcIlxcblwiPT09bS50ZXh0LmdldFN0cmluZ0F0UG9zaXRpb24oYiksZj9yPXRoaXMuYmxvY2tMaXN0LmVkaXRPYmplY3RBdEluZGV4KHksZnVuY3Rpb24odCl7cmV0dXJuIHQuY29weVdpdGhUZXh0KHQudGV4dC5yZW1vdmVUZXh0QXRSYW5nZShbYixiKzFdKSl9KTooaD1zLnRleHQuZ2V0VGV4dEF0UmFuZ2UoWzAsY10pLHg9bS50ZXh0LmdldFRleHRBdFJhbmdlKFtiLG0uZ2V0TGVuZ3RoKCldKSxDPWguYXBwZW5kVGV4dCh4KSxnPWEhPT15JiYwPT09YyxTPWcmJnMuZ2V0QXR0cmlidXRlTGV2ZWwoKT49bS5nZXRBdHRyaWJ1dGVMZXZlbCgpLG49Uz9tLmNvcHlXaXRoVGV4dChDKTpzLmNvcHlXaXRoVGV4dChDKSxlPXkrMS1hLHI9dGhpcy5ibG9ja0xpc3Quc3BsaWNlKGEsZSxuKSksbmV3IHRoaXMuY29uc3RydWN0b3IocikpfSxjLnByb3RvdHlwZS5tb3ZlVGV4dEZyb21SYW5nZVRvUG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbixvLHIscyx1LGMsbCxoLHAsZDtyZXR1cm4gYz10PWkodCkscD1jWzBdLHI9Y1sxXSxlPj1wJiZyPj1lP3RoaXM6KG89dGhpcy5nZXREb2N1bWVudEF0UmFuZ2UodCksaD10aGlzLnJlbW92ZVRleHRBdFJhbmdlKHQpLHU9ZT5wLHUmJihlLT1vLmdldExlbmd0aCgpKSxsPW8uZ2V0QmxvY2tzKCkscz1sWzBdLG49Mjw9bC5sZW5ndGg/YS5jYWxsKGwsMSk6W10sMD09PW4ubGVuZ3RoPyhkPXMuZ2V0VGV4dFdpdGhvdXRCbG9ja0JyZWFrKCksdSYmKGUrPTEpKTpkPXMudGV4dCxoPWguaW5zZXJ0VGV4dEF0UmFuZ2UoZCxlKSwwPT09bi5sZW5ndGg/aDoobz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihuKSxlKz1kLmdldExlbmd0aCgpLGguaW5zZXJ0RG9jdW1lbnRBdFJhbmdlKG8sZSkpKX0sYy5wcm90b3R5cGUuYWRkQXR0cmlidXRlQXRSYW5nZT1mdW5jdGlvbih0LGUsaSl7dmFyIG87cmV0dXJuIG89dGhpcy5ibG9ja0xpc3QsdGhpcy5lYWNoQmxvY2tBdFJhbmdlKGksZnVuY3Rpb24oaSxyLHMpe3JldHVybiBvPW8uZWRpdE9iamVjdEF0SW5kZXgocyxmdW5jdGlvbigpe3JldHVybiBuKHQpP2kuYWRkQXR0cmlidXRlKHQsZSk6clswXT09PXJbMV0/aTppLmNvcHlXaXRoVGV4dChpLnRleHQuYWRkQXR0cmlidXRlQXRSYW5nZSh0LGUscikpfSl9KSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihvKX0sYy5wcm90b3R5cGUuYWRkQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49dGhpcy5ibG9ja0xpc3QsdGhpcy5lYWNoQmxvY2soZnVuY3Rpb24oaSxvKXtyZXR1cm4gbj1uLmVkaXRPYmplY3RBdEluZGV4KG8sZnVuY3Rpb24oKXtyZXR1cm4gaS5hZGRBdHRyaWJ1dGUodCxlKX0pfSksbmV3IHRoaXMuY29uc3RydWN0b3Iobil9LGMucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZUF0UmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gaT10aGlzLmJsb2NrTGlzdCx0aGlzLmVhY2hCbG9ja0F0UmFuZ2UoZSxmdW5jdGlvbihlLG8scil7cmV0dXJuIG4odCk/aT1pLmVkaXRPYmplY3RBdEluZGV4KHIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZW1vdmVBdHRyaWJ1dGUodCl9KTpvWzBdIT09b1sxXT9pPWkuZWRpdE9iamVjdEF0SW5kZXgocixmdW5jdGlvbigpe3JldHVybiBlLmNvcHlXaXRoVGV4dChlLnRleHQucmVtb3ZlQXR0cmlidXRlQXRSYW5nZSh0LG8pKX0pOnZvaWQgMH0pLG5ldyB0aGlzLmNvbnN0cnVjdG9yKGkpfSxjLnByb3RvdHlwZS51cGRhdGVBdHRyaWJ1dGVzRm9yQXR0YWNobWVudD1mdW5jdGlvbih0LGUpe3ZhciBuLGksbyxyO3JldHVybiBvPShpPXRoaXMuZ2V0UmFuZ2VPZkF0dGFjaG1lbnQoZSkpWzBdLG49dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihvKS5pbmRleCxyPXRoaXMuZ2V0VGV4dEF0SW5kZXgobiksbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5ibG9ja0xpc3QuZWRpdE9iamVjdEF0SW5kZXgobixmdW5jdGlvbihuKXtyZXR1cm4gbi5jb3B5V2l0aFRleHQoci51cGRhdGVBdHRyaWJ1dGVzRm9yQXR0YWNobWVudCh0LGUpKX0pKX0sYy5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlRm9yQXR0YWNobWVudD1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPXRoaXMuZ2V0UmFuZ2VPZkF0dGFjaG1lbnQoZSksdGhpcy5yZW1vdmVBdHRyaWJ1dGVBdFJhbmdlKHQsbil9LGMucHJvdG90eXBlLmluc2VydEJsb2NrQnJlYWtBdFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBuLG8scixzO3JldHVybiBzPSh0PWkodCkpWzBdLHI9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihzKS5vZmZzZXQsbz10aGlzLnJlbW92ZVRleHRBdFJhbmdlKHQpLDA9PT1yJiYobj1bbmV3IGUuQmxvY2tdKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihvLmJsb2NrTGlzdC5pbnNlcnRTcGxpdHRhYmxlTGlzdEF0UG9zaXRpb24obmV3IGUuU3BsaXR0YWJsZUxpc3QobikscykpfSxjLnByb3RvdHlwZS5hcHBseUJsb2NrQXR0cmlidXRlQXRSYW5nZT1mdW5jdGlvbih0LGUsaSl7dmFyIG8scixzLGE7cmV0dXJuIHM9dGhpcy5leHBhbmRSYW5nZVRvTGluZUJyZWFrc0FuZFNwbGl0QmxvY2tzKGkpLHI9cy5kb2N1bWVudCxpPXMucmFuZ2Usbz1uKHQpLG8ubGlzdEF0dHJpYnV0ZT8ocj1yLnJlbW92ZUxhc3RMaXN0QXR0cmlidXRlQXRSYW5nZShpLHtleGNlcHRBdHRyaWJ1dGVOYW1lOnR9KSxhPXIuY29udmVydExpbmVCcmVha3NUb0Jsb2NrQnJlYWtzSW5SYW5nZShpKSxyPWEuZG9jdW1lbnQsaT1hLnJhbmdlKTpyPW8uZXhjbHVzaXZlP3IucmVtb3ZlQmxvY2tBdHRyaWJ1dGVzQXRSYW5nZShpKTpvLnRlcm1pbmFsP3IucmVtb3ZlTGFzdFRlcm1pbmFsQXR0cmlidXRlQXRSYW5nZShpKTpyLmNvbnNvbGlkYXRlQmxvY2tzQXRSYW5nZShpKSxyLmFkZEF0dHJpYnV0ZUF0UmFuZ2UodCxlLGkpfSxjLnByb3RvdHlwZS5yZW1vdmVMYXN0TGlzdEF0dHJpYnV0ZUF0UmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gbnVsbD09ZSYmKGU9e30pLGk9dGhpcy5ibG9ja0xpc3QsdGhpcy5lYWNoQmxvY2tBdFJhbmdlKHQsZnVuY3Rpb24odCxvLHIpe3ZhciBzO2lmKChzPXQuZ2V0TGFzdEF0dHJpYnV0ZSgpKSYmbihzKS5saXN0QXR0cmlidXRlJiZzIT09ZS5leGNlcHRBdHRyaWJ1dGVOYW1lKXJldHVybiBpPWkuZWRpdE9iamVjdEF0SW5kZXgocixmdW5jdGlvbigpe3JldHVybiB0LnJlbW92ZUF0dHJpYnV0ZShzKX0pfSksbmV3IHRoaXMuY29uc3RydWN0b3IoaSl9LGMucHJvdG90eXBlLnJlbW92ZUxhc3RUZXJtaW5hbEF0dHJpYnV0ZUF0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5ibG9ja0xpc3QsdGhpcy5lYWNoQmxvY2tBdFJhbmdlKHQsZnVuY3Rpb24odCxpLG8pe3ZhciByO2lmKChyPXQuZ2V0TGFzdEF0dHJpYnV0ZSgpKSYmbihyKS50ZXJtaW5hbClyZXR1cm4gZT1lLmVkaXRPYmplY3RBdEluZGV4KG8sZnVuY3Rpb24oKXtyZXR1cm4gdC5yZW1vdmVBdHRyaWJ1dGUocil9KX0pLG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUpfSxjLnByb3RvdHlwZS5yZW1vdmVCbG9ja0F0dHJpYnV0ZXNBdFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMuYmxvY2tMaXN0LHRoaXMuZWFjaEJsb2NrQXRSYW5nZSh0LGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gdC5oYXNBdHRyaWJ1dGVzKCk/ZT1lLmVkaXRPYmplY3RBdEluZGV4KGksZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3B5V2l0aG91dEF0dHJpYnV0ZXMoKX0pOnZvaWQgMH0pLG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUpfSxjLnByb3RvdHlwZS5leHBhbmRSYW5nZVRvTGluZUJyZWFrc0FuZFNwbGl0QmxvY2tzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxyLHMsYSx1LGMsbDtyZXR1cm4gYT10PWkodCksbD1hWzBdLHI9YVsxXSxjPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24obCksbz10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHIpLGU9dGhpcyx1PWUuZ2V0QmxvY2tBdEluZGV4KGMuaW5kZXgpLG51bGwhPShjLm9mZnNldD11LmZpbmRMaW5lQnJlYWtJbkRpcmVjdGlvbkZyb21Qb3NpdGlvbihcImJhY2t3YXJkXCIsYy5vZmZzZXQpKSYmKHM9ZS5wb3NpdGlvbkZyb21Mb2NhdGlvbihjKSxlPWUuaW5zZXJ0QmxvY2tCcmVha0F0UmFuZ2UoW3MscysxXSksby5pbmRleCs9MSxvLm9mZnNldC09ZS5nZXRCbG9ja0F0SW5kZXgoYy5pbmRleCkuZ2V0TGVuZ3RoKCksYy5pbmRleCs9MSksYy5vZmZzZXQ9MCwwPT09by5vZmZzZXQmJm8uaW5kZXg+Yy5pbmRleD8oby5pbmRleC09MSxvLm9mZnNldD1lLmdldEJsb2NrQXRJbmRleChvLmluZGV4KS5nZXRCbG9ja0JyZWFrUG9zaXRpb24oKSk6KG49ZS5nZXRCbG9ja0F0SW5kZXgoby5pbmRleCksXCJcXG5cIj09PW4udGV4dC5nZXRTdHJpbmdBdFJhbmdlKFtvLm9mZnNldC0xLG8ub2Zmc2V0XSk/by5vZmZzZXQtPTE6by5vZmZzZXQ9bi5maW5kTGluZUJyZWFrSW5EaXJlY3Rpb25Gcm9tUG9zaXRpb24oXCJmb3J3YXJkXCIsby5vZmZzZXQpLG8ub2Zmc2V0IT09bi5nZXRCbG9ja0JyZWFrUG9zaXRpb24oKSYmKHM9ZS5wb3NpdGlvbkZyb21Mb2NhdGlvbihvKSxlPWUuaW5zZXJ0QmxvY2tCcmVha0F0UmFuZ2UoW3MscysxXSkpKSxsPWUucG9zaXRpb25Gcm9tTG9jYXRpb24oYykscj1lLnBvc2l0aW9uRnJvbUxvY2F0aW9uKG8pLHQ9aShbbCxyXSkse2RvY3VtZW50OmUscmFuZ2U6dH19LGMucHJvdG90eXBlLmNvbnZlcnRMaW5lQnJlYWtzVG9CbG9ja0JyZWFrc0luUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbixvO3JldHVybiBuPSh0PWkodCkpWzBdLG89dGhpcy5nZXRTdHJpbmdBdFJhbmdlKHQpLnNsaWNlKDAsLTEpLGU9dGhpcyxvLnJlcGxhY2UoLy4qP1xcbi9nLGZ1bmN0aW9uKHQpe3JldHVybiBuKz10Lmxlbmd0aCxlPWUuaW5zZXJ0QmxvY2tCcmVha0F0UmFuZ2UoW24tMSxuXSl9KSx7ZG9jdW1lbnQ6ZSxyYW5nZTp0fX0sYy5wcm90b3R5cGUuY29uc29saWRhdGVCbG9ja3NBdFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxyLHM7cmV0dXJuIG89dD1pKHQpLHM9b1swXSxuPW9bMV0scj10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHMpLmluZGV4LGU9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihuKS5pbmRleCxuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmJsb2NrTGlzdC5jb25zb2xpZGF0ZUZyb21JbmRleFRvSW5kZXgocixlKSl9LGMucHJvdG90eXBlLmdldERvY3VtZW50QXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdD1pKHQpLGU9dGhpcy5ibG9ja0xpc3QuZ2V0U3BsaXR0YWJsZUxpc3RJblJhbmdlKHQpLnRvQXJyYXkoKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihlKX0sYy5wcm90b3R5cGUuZ2V0U3RyaW5nQXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxuLG87cmV0dXJuIG89dD1pKHQpLG49b1tvLmxlbmd0aC0xXSxuIT09dGhpcy5nZXRMZW5ndGgoKSYmKGU9LTEpLHRoaXMuZ2V0RG9jdW1lbnRBdFJhbmdlKHQpLnRvU3RyaW5nKCkuc2xpY2UoMCxlKX0sYy5wcm90b3R5cGUuZ2V0QmxvY2tBdEluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJsb2NrTGlzdC5nZXRPYmplY3RBdEluZGV4KHQpfSxjLnByb3RvdHlwZS5nZXRCbG9ja0F0UG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KS5pbmRleCx0aGlzLmdldEJsb2NrQXRJbmRleChlKX0sYy5wcm90b3R5cGUuZ2V0VGV4dEF0SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuZ2V0QmxvY2tBdEluZGV4KHQpKT9lLnRleHQ6dm9pZCAwfSxjLnByb3RvdHlwZS5nZXRUZXh0QXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHQpLmluZGV4LHRoaXMuZ2V0VGV4dEF0SW5kZXgoZSl9LGMucHJvdG90eXBlLmdldFBpZWNlQXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIGk9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KSxlPWkuaW5kZXgsbj1pLm9mZnNldCx0aGlzLmdldFRleHRBdEluZGV4KGUpLmdldFBpZWNlQXRQb3NpdGlvbihuKX0sYy5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIGk9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KSxlPWkuaW5kZXgsbj1pLm9mZnNldCx0aGlzLmdldFRleHRBdEluZGV4KGUpLmdldFN0cmluZ0F0UmFuZ2UoW24sbisxXSl9LGMucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrTGlzdC5nZXRFbmRQb3NpdGlvbigpfSxjLnByb3RvdHlwZS5nZXRCbG9ja3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9ja0xpc3QudG9BcnJheSgpfSxjLnByb3RvdHlwZS5nZXRCbG9ja0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tMaXN0Lmxlbmd0aH0sYy5wcm90b3R5cGUuZ2V0RWRpdENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdENvdW50fSxjLnByb3RvdHlwZS5lYWNoQmxvY2s9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYmxvY2tMaXN0LmVhY2hPYmplY3QodCl9LGMucHJvdG90eXBlLmVhY2hCbG9ja0F0UmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbixvLHIscyxhLHUsYyxsLGgscCxkLGY7aWYodT10PWkodCksZD11WzBdLHI9dVsxXSxwPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24oZCksbz10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHIpLHAuaW5kZXg9PT1vLmluZGV4KXJldHVybiBuPXRoaXMuZ2V0QmxvY2tBdEluZGV4KHAuaW5kZXgpLGY9W3Aub2Zmc2V0LG8ub2Zmc2V0XSxlKG4sZixwLmluZGV4KTtmb3IoaD1bXSxhPXM9Yz1wLmluZGV4LGw9by5pbmRleDtsPj1jP2w+PXM6cz49bDthPWw+PWM/KytzOi0tcykobj10aGlzLmdldEJsb2NrQXRJbmRleChhKSk/KGY9ZnVuY3Rpb24oKXtzd2l0Y2goYSl7Y2FzZSBwLmluZGV4OnJldHVybltwLm9mZnNldCxuLnRleHQuZ2V0TGVuZ3RoKCldO2Nhc2Ugby5pbmRleDpyZXR1cm5bMCxvLm9mZnNldF07ZGVmYXVsdDpyZXR1cm5bMCxuLnRleHQuZ2V0TGVuZ3RoKCldfX0oKSxoLnB1c2goZShuLGYsYSkpKTpoLnB1c2godm9pZCAwKTtyZXR1cm4gaH0sYy5wcm90b3R5cGUuZ2V0Q29tbW9uQXR0cmlidXRlc0F0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIG4scixzO3JldHVybiByPSh0PWkodCkpWzBdLG8odCk/dGhpcy5nZXRDb21tb25BdHRyaWJ1dGVzQXRQb3NpdGlvbihyKToocz1bXSxuPVtdLHRoaXMuZWFjaEJsb2NrQXRSYW5nZSh0LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0hPT1lWzFdPyhzLnB1c2godC50ZXh0LmdldENvbW1vbkF0dHJpYnV0ZXNBdFJhbmdlKGUpKSxuLnB1c2gobCh0KSkpOnZvaWQgMH0pLGUuSGFzaC5mcm9tQ29tbW9uQXR0cmlidXRlc09mT2JqZWN0cyhzKS5tZXJnZShlLkhhc2guZnJvbUNvbW1vbkF0dHJpYnV0ZXNPZk9iamVjdHMobikpLnRvT2JqZWN0KCkpfSxjLnByb3RvdHlwZS5nZXRDb21tb25BdHRyaWJ1dGVzQXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgbixpLG8scixzLGEsYyxoLHAsZDtpZihwPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24odCkscz1wLmluZGV4LGg9cC5vZmZzZXQsbz10aGlzLmdldEJsb2NrQXRJbmRleChzKSwhbylyZXR1cm57fTtyPWwobyksbj1vLnRleHQuZ2V0QXR0cmlidXRlc0F0UG9zaXRpb24oaCksaT1vLnRleHQuZ2V0QXR0cmlidXRlc0F0UG9zaXRpb24oaC0xKSxhPWZ1bmN0aW9uKCl7dmFyIHQsbjt0PWUuY29uZmlnLnRleHRBdHRyaWJ1dGVzLG49W107Zm9yKGMgaW4gdClkPXRbY10sZC5pbmhlcml0YWJsZSYmbi5wdXNoKGMpO3JldHVybiBufSgpO2ZvcihjIGluIGkpZD1pW2NdLChkPT09bltjXXx8dS5jYWxsKGEsYyk+PTApJiYocltjXT1kKTtyZXR1cm4gcn0sYy5wcm90b3R5cGUuZ2V0UmFuZ2VPZkNvbW1vbkF0dHJpYnV0ZUF0UG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbixvLHIscyxhLHUsYyxsLGg7cmV0dXJuIGE9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihlKSxyPWEuaW5kZXgscz1hLm9mZnNldCxoPXRoaXMuZ2V0VGV4dEF0SW5kZXgociksdT1oLmdldEV4cGFuZGVkUmFuZ2VGb3JBdHRyaWJ1dGVBdE9mZnNldCh0LHMpLGw9dVswXSxvPXVbMV0sYz10aGlzLnBvc2l0aW9uRnJvbUxvY2F0aW9uKHtpbmRleDpyLG9mZnNldDpsfSksbj10aGlzLnBvc2l0aW9uRnJvbUxvY2F0aW9uKHtpbmRleDpyLG9mZnNldDpvfSksaShbYyxuXSl9LGMucHJvdG90eXBlLmdldEJhc2VCbG9ja0F0dHJpYnV0ZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLHIscztmb3IodD10aGlzLmdldEJsb2NrQXRJbmRleCgwKS5nZXRBdHRyaWJ1dGVzKCksbj1pPTEscz10aGlzLmdldEJsb2NrQ291bnQoKTtzPj0xP3M+aTppPnM7bj1zPj0xPysraTotLWkpZT10aGlzLmdldEJsb2NrQXRJbmRleChuKS5nZXRBdHRyaWJ1dGVzKCkscj1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCksdD1mdW5jdGlvbigpe3ZhciBuLGkscztmb3Iocz1bXSxvPW49MCxpPXI7KGk+PTA/aT5uOm4+aSkmJmVbb109PT10W29dO289aT49MD8rK246LS1uKXMucHVzaChlW29dKTtyZXR1cm4gc30oKTtyZXR1cm4gdH0sbD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBuPXt9LChlPXQuZ2V0TGFzdEF0dHJpYnV0ZSgpKSYmKG5bZV09ITApLG59LGMucHJvdG90eXBlLmdldEF0dGFjaG1lbnRCeUlkPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO2ZvcihvPXRoaXMuZ2V0QXR0YWNobWVudHMoKSxuPTAsaT1vLmxlbmd0aDtpPm47bisrKWlmKGU9b1tuXSxlLmlkPT09dClyZXR1cm4gZX0sYy5wcm90b3R5cGUuZ2V0QXR0YWNobWVudFBpZWNlcz1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PVtdLHRoaXMuYmxvY2tMaXN0LmVhY2hPYmplY3QoZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIG49ZS50ZXh0LHQ9dC5jb25jYXQobi5nZXRBdHRhY2htZW50UGllY2VzKCkpfSksdH0sYy5wcm90b3R5cGUuZ2V0QXR0YWNobWVudHM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvO2ZvcihpPXRoaXMuZ2V0QXR0YWNobWVudFBpZWNlcygpLG89W10sdD0wLGU9aS5sZW5ndGg7ZT50O3QrKyluPWlbdF0sby5wdXNoKG4uYXR0YWNobWVudCk7cmV0dXJuIG99LGMucHJvdG90eXBlLmdldFJhbmdlT2ZBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxyLHMsYSx1O2ZvcihyPTAscz10aGlzLmJsb2NrTGlzdC50b0FycmF5KCksbj1lPTAsbz1zLmxlbmd0aDtvPmU7bj0rK2Upe2lmKGE9c1tuXS50ZXh0LHU9YS5nZXRSYW5nZU9mQXR0YWNobWVudCh0KSlyZXR1cm4gaShbcit1WzBdLHIrdVsxXV0pO3IrPWEuZ2V0TGVuZ3RoKCl9fSxjLnByb3RvdHlwZS5nZXRMb2NhdGlvblJhbmdlT2ZBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMuZ2V0UmFuZ2VPZkF0dGFjaG1lbnQodCksdGhpcy5sb2NhdGlvblJhbmdlRnJvbVJhbmdlKGUpfSxjLnByb3RvdHlwZS5nZXRBdHRhY2htZW50UGllY2VGb3JBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO2ZvcihvPXRoaXMuZ2V0QXR0YWNobWVudFBpZWNlcygpLGU9MCxuPW8ubGVuZ3RoO24+ZTtlKyspaWYoaT1vW2VdLGkuYXR0YWNobWVudD09PXQpcmV0dXJuIGl9LGMucHJvdG90eXBlLmZpbmRSYW5nZXNGb3JCbG9ja0F0dHJpYnV0ZT1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyLHMsYTtmb3Iocj0wLHM9W10sYT10aGlzLmdldEJsb2NrcygpLG49MCxpPWEubGVuZ3RoO2k+bjtuKyspZT1hW25dLG89ZS5nZXRMZW5ndGgoKSxlLmhhc0F0dHJpYnV0ZSh0KSYmcy5wdXNoKFtyLHIrb10pLHIrPW87cmV0dXJuIHN9LGMucHJvdG90eXBlLmZpbmRSYW5nZXNGb3JUZXh0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvLHIscyxhLHUsYyxsLGg7Zm9yKGg9KG51bGwhPWU/ZTp7fSkud2l0aFZhbHVlLGE9MCx1PVtdLGM9W10scj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9aD9lLmdldEF0dHJpYnV0ZSh0KT09PWg6ZS5oYXNBdHRyaWJ1dGUodCl9LGw9dGhpcy5nZXRQaWVjZXMoKSxuPTAsaT1sLmxlbmd0aDtpPm47bisrKXM9bFtuXSxvPXMuZ2V0TGVuZ3RoKCkscihzKSYmKHVbMV09PT1hP3VbMV09YStvOmMucHVzaCh1PVthLGErb10pKSxhKz1vO3JldHVybiBjfSxjLnByb3RvdHlwZS5sb2NhdGlvbkZyb21Qb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBuPXRoaXMuYmxvY2tMaXN0LmZpbmRJbmRleEFuZE9mZnNldEF0UG9zaXRpb24oTWF0aC5tYXgoMCx0KSksbnVsbCE9bi5pbmRleD9uOihlPXRoaXMuZ2V0QmxvY2tzKCkse2luZGV4OmUubGVuZ3RoLTEsb2Zmc2V0OmVbZS5sZW5ndGgtMV0uZ2V0TGVuZ3RoKCl9KX0sYy5wcm90b3R5cGUucG9zaXRpb25Gcm9tTG9jYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYmxvY2tMaXN0LmZpbmRQb3NpdGlvbkF0SW5kZXhBbmRPZmZzZXQodC5pbmRleCx0Lm9mZnNldCl9LGMucHJvdG90eXBlLmxvY2F0aW9uUmFuZ2VGcm9tUG9zaXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIGkodGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KSl9LGMucHJvdG90eXBlLmxvY2F0aW9uUmFuZ2VGcm9tUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbixvLHI7aWYodD1pKHQpKXJldHVybiByPXRbMF0sbj10WzFdLG89dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihyKSxlPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24obiksaShbbyxlXSl9LGMucHJvdG90eXBlLnJhbmdlRnJvbUxvY2F0aW9uUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gdD1pKHQpLGU9dGhpcy5wb3NpdGlvbkZyb21Mb2NhdGlvbih0WzBdKSxvKHQpfHwobj10aGlzLnBvc2l0aW9uRnJvbUxvY2F0aW9uKHRbMV0pKSxpKFtlLG5dKX0sYy5wcm90b3R5cGUuaXNFcXVhbFRvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJsb2NrTGlzdC5pc0VxdWFsVG8obnVsbCE9dD90LmJsb2NrTGlzdDp2b2lkIDApfSxjLnByb3RvdHlwZS5nZXRUZXh0cz1mdW5jdGlvbigpe3ZhciB0LGUsbixpLG87Zm9yKGk9dGhpcy5nZXRCbG9ja3MoKSxvPVtdLGU9MCxuPWkubGVuZ3RoO24+ZTtlKyspdD1pW2VdLG8ucHVzaCh0LnRleHQpO3JldHVybiBvfSxjLnByb3RvdHlwZS5nZXRQaWVjZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvO2ZvcihuPVtdLGk9dGhpcy5nZXRUZXh0cygpLHQ9MCxlPWkubGVuZ3RoO2U+dDt0Kyspbz1pW3RdLG4ucHVzaC5hcHBseShuLG8uZ2V0UGllY2VzKCkpO3JldHVybiBufSxjLnByb3RvdHlwZS5nZXRPYmplY3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QmxvY2tzKCkuY29uY2F0KHRoaXMuZ2V0VGV4dHMoKSkuY29uY2F0KHRoaXMuZ2V0UGllY2VzKCkpfSxjLnByb3RvdHlwZS50b1NlcmlhbGl6YWJsZURvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9W10sdGhpcy5ibG9ja0xpc3QuZWFjaE9iamVjdChmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKGUuY29weVdpdGhUZXh0KGUudGV4dC50b1NlcmlhbGl6YWJsZVRleHQoKSkpfSksbmV3IHRoaXMuY29uc3RydWN0b3IodCl9LGMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tMaXN0LnRvU3RyaW5nKCl9LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrTGlzdC50b0pTT04oKX0sYy5wcm90b3R5cGUudG9Db25zb2xlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uKCl7dmFyIGUsbixpLG87Zm9yKGk9dGhpcy5ibG9ja0xpc3QudG9BcnJheSgpLG89W10sZT0wLG49aS5sZW5ndGg7bj5lO2UrKyl0PWlbZV0sby5wdXNoKEpTT04ucGFyc2UodC50ZXh0LnRvQ29uc29sZSgpKSk7cmV0dXJuIG99LmNhbGwodGhpcykpfSxjfShlLk9iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXtlLkxpbmVCcmVha0luc2VydGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU7dGhpcy5jb21wb3NpdGlvbj10LHRoaXMuZG9jdW1lbnQ9dGhpcy5jb21wb3NpdGlvbi5kb2N1bWVudCxlPXRoaXMuY29tcG9zaXRpb24uZ2V0U2VsZWN0ZWRSYW5nZSgpLHRoaXMuc3RhcnRQb3NpdGlvbj1lWzBdLHRoaXMuZW5kUG9zaXRpb249ZVsxXSx0aGlzLnN0YXJ0TG9jYXRpb249dGhpcy5kb2N1bWVudC5sb2NhdGlvbkZyb21Qb3NpdGlvbih0aGlzLnN0YXJ0UG9zaXRpb24pLHRoaXMuZW5kTG9jYXRpb249dGhpcy5kb2N1bWVudC5sb2NhdGlvbkZyb21Qb3NpdGlvbih0aGlzLmVuZFBvc2l0aW9uKSx0aGlzLmJsb2NrPXRoaXMuZG9jdW1lbnQuZ2V0QmxvY2tBdEluZGV4KHRoaXMuZW5kTG9jYXRpb24uaW5kZXgpLHRoaXMuYnJlYWtzT25SZXR1cm49dGhpcy5ibG9jay5icmVha3NPblJldHVybigpLHRoaXMucHJldmlvdXNDaGFyYWN0ZXI9dGhpcy5ibG9jay50ZXh0LmdldFN0cmluZ0F0UG9zaXRpb24odGhpcy5lbmRMb2NhdGlvbi5vZmZzZXQtMSksdGhpcy5uZXh0Q2hhcmFjdGVyPXRoaXMuYmxvY2sudGV4dC5nZXRTdHJpbmdBdFBvc2l0aW9uKHRoaXMuZW5kTG9jYXRpb24ub2Zmc2V0KX1yZXR1cm4gdC5wcm90b3R5cGUuc2hvdWxkSW5zZXJ0QmxvY2tCcmVhaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrLmhhc0F0dHJpYnV0ZXMoKSYmdGhpcy5ibG9jay5pc0xpc3RJdGVtKCkmJiF0aGlzLmJsb2NrLmlzRW1wdHkoKT8wIT09dGhpcy5zdGFydExvY2F0aW9uLm9mZnNldDp0aGlzLmJyZWFrc09uUmV0dXJuJiZcIlxcblwiIT09dGhpcy5uZXh0Q2hhcmFjdGVyfSx0LnByb3RvdHlwZS5zaG91bGRCcmVha0Zvcm1hdHRlZEJsb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2suaGFzQXR0cmlidXRlcygpJiYhdGhpcy5ibG9jay5pc0xpc3RJdGVtKCkmJih0aGlzLmJyZWFrc09uUmV0dXJuJiZcIlxcblwiPT09dGhpcy5uZXh0Q2hhcmFjdGVyfHxcIlxcblwiPT09dGhpcy5wcmV2aW91c0NoYXJhY3Rlcil9LHQucHJvdG90eXBlLnNob3VsZERlY3JlYXNlTGlzdExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2suaGFzQXR0cmlidXRlcygpJiZ0aGlzLmJsb2NrLmlzTGlzdEl0ZW0oKSYmdGhpcy5ibG9jay5pc0VtcHR5KCl9LHQucHJvdG90eXBlLnNob3VsZFByZXBlbmRMaXN0SXRlbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrLmlzTGlzdEl0ZW0oKSYmMD09PXRoaXMuc3RhcnRMb2NhdGlvbi5vZmZzZXQmJiF0aGlzLmJsb2NrLmlzRW1wdHkoKX0sdC5wcm90b3R5cGUuc2hvdWxkUmVtb3ZlTGFzdEJsb2NrQXR0cmlidXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2suaGFzQXR0cmlidXRlcygpJiYhdGhpcy5ibG9jay5pc0xpc3RJdGVtKCkmJnRoaXMuYmxvY2suaXNFbXB0eSgpfSx0fSgpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scixzLGEsdSxjLGwsaD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIGUpcC5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxwPXt9Lmhhc093blByb3BlcnR5O3M9ZS5ub3JtYWxpemVSYW5nZSxjPWUucmFuZ2VzQXJlRXF1YWwsdT1lLnJhbmdlSXNDb2xsYXBzZWQsYT1lLm9iamVjdHNBcmVFcXVhbCx0PWUuYXJyYXlTdGFydHNXaXRoLGw9ZS5zdW1tYXJpemVBcnJheUNoYW5nZSxpPWUuZ2V0QWxsQXR0cmlidXRlTmFtZXMsbz1lLmdldEJsb2NrQ29uZmlnLHI9ZS5nZXRUZXh0Q29uZmlnLG49ZS5leHRlbmQsZS5Db21wb3NpdGlvbj1mdW5jdGlvbihwKXtmdW5jdGlvbiBkKCl7dGhpcy5kb2N1bWVudD1uZXcgZS5Eb2N1bWVudCx0aGlzLmF0dGFjaG1lbnRzPVtdLHRoaXMuY3VycmVudEF0dHJpYnV0ZXM9e30sdGhpcy5yZXZpc2lvbj0wfXZhciBmO3JldHVybiBoKGQscCksZC5wcm90b3R5cGUuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQuaXNFcXVhbFRvKHRoaXMuZG9jdW1lbnQpP3ZvaWQgMDoodGhpcy5kb2N1bWVudD10LHRoaXMucmVmcmVzaEF0dGFjaG1lbnRzKCksdGhpcy5yZXZpc2lvbisrLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNvbXBvc2l0aW9uRGlkQ2hhbmdlRG9jdW1lbnQ/ZS5jb21wb3NpdGlvbkRpZENoYW5nZURvY3VtZW50KHQpOnZvaWQgMCl9LGQucHJvdG90eXBlLmdldFNuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJue2RvY3VtZW50OnRoaXMuZG9jdW1lbnQsc2VsZWN0ZWRSYW5nZTp0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKX19LGQucHJvdG90eXBlLmxvYWRTbmFwc2hvdD1mdW5jdGlvbih0KXt2YXIgbixpLG8scjtyZXR1cm4gbj10LmRvY3VtZW50LHI9dC5zZWxlY3RlZFJhbmdlLG51bGwhPShpPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmNvbXBvc2l0aW9uV2lsbExvYWRTbmFwc2hvdCYmaS5jb21wb3NpdGlvbldpbGxMb2FkU25hcHNob3QoKSx0aGlzLnNldERvY3VtZW50KG51bGwhPW4/bjpuZXcgZS5Eb2N1bWVudCksdGhpcy5zZXRTZWxlY3Rpb24obnVsbCE9cj9yOlswLDBdKSxudWxsIT0obz10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygby5jb21wb3NpdGlvbkRpZExvYWRTbmFwc2hvdD9vLmNvbXBvc2l0aW9uRGlkTG9hZFNuYXBzaG90KCk6dm9pZCAwfSxkLnByb3RvdHlwZS5pbnNlcnRUZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvLHI7cmV0dXJuIHI9KG51bGwhPWU/ZTp7dXBkYXRlUG9zaXRpb246ITB9KS51cGRhdGVQb3NpdGlvbixpPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5pbnNlcnRUZXh0QXRSYW5nZSh0LGkpKSxvPWlbMF0sbj1vK3QuZ2V0TGVuZ3RoKCksciYmdGhpcy5zZXRTZWxlY3Rpb24obiksdGhpcy5ub3RpZnlEZWxlZ2F0ZU9mSW5zZXJ0aW9uQXRSYW5nZShbbyxuXSl9LGQucHJvdG90eXBlLmluc2VydEJsb2NrPWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBudWxsPT10JiYodD1uZXcgZS5CbG9jayksbj1uZXcgZS5Eb2N1bWVudChbdF0pLHRoaXMuaW5zZXJ0RG9jdW1lbnQobil9LGQucHJvdG90eXBlLmluc2VydERvY3VtZW50PWZ1bmN0aW9uKHQpe3ZhciBuLGksbztyZXR1cm4gbnVsbD09dCYmKHQ9bmV3IGUuRG9jdW1lbnQpLGk9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50Lmluc2VydERvY3VtZW50QXRSYW5nZSh0LGkpKSxvPWlbMF0sbj1vK3QuZ2V0TGVuZ3RoKCksdGhpcy5zZXRTZWxlY3Rpb24obiksdGhpcy5ub3RpZnlEZWxlZ2F0ZU9mSW5zZXJ0aW9uQXRSYW5nZShbbyxuXSl9LGQucHJvdG90eXBlLmluc2VydFN0cmluZz1mdW5jdGlvbih0LG4pe3ZhciBpLG87cmV0dXJuIGk9dGhpcy5nZXRDdXJyZW50VGV4dEF0dHJpYnV0ZXMoKSxvPWUuVGV4dC50ZXh0Rm9yU3RyaW5nV2l0aEF0dHJpYnV0ZXModCxpKSx0aGlzLmluc2VydFRleHQobyxuKX0sZC5wcm90b3R5cGUuaW5zZXJ0QmxvY2tCcmVhaz1mdW5jdGlvbigpe3ZhciB0LGUsbjtyZXR1cm4gZT10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSx0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQuaW5zZXJ0QmxvY2tCcmVha0F0UmFuZ2UoZSkpLG49ZVswXSx0PW4rMSx0aGlzLnNldFNlbGVjdGlvbih0KSx0aGlzLm5vdGlmeURlbGVnYXRlT2ZJbnNlcnRpb25BdFJhbmdlKFtuLHRdKX0sZC5wcm90b3R5cGUuaW5zZXJ0TGluZUJyZWFrPWZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gbj1uZXcgZS5MaW5lQnJlYWtJbnNlcnRpb24odGhpcyksbi5zaG91bGREZWNyZWFzZUxpc3RMZXZlbCgpPyh0aGlzLmRlY3JlYXNlTGlzdExldmVsKCksdGhpcy5zZXRTZWxlY3Rpb24obi5zdGFydFBvc2l0aW9uKSk6bi5zaG91bGRQcmVwZW5kTGlzdEl0ZW0oKT8odD1uZXcgZS5Eb2N1bWVudChbbi5ibG9jay5jb3B5V2l0aG91dFRleHQoKV0pLHRoaXMuaW5zZXJ0RG9jdW1lbnQodCkpOm4uc2hvdWxkSW5zZXJ0QmxvY2tCcmVhaygpP3RoaXMuaW5zZXJ0QmxvY2tCcmVhaygpOm4uc2hvdWxkUmVtb3ZlTGFzdEJsb2NrQXR0cmlidXRlKCk/dGhpcy5yZW1vdmVMYXN0QmxvY2tBdHRyaWJ1dGUoKTpuLnNob3VsZEJyZWFrRm9ybWF0dGVkQmxvY2soKT90aGlzLmJyZWFrRm9ybWF0dGVkQmxvY2sobik6dGhpcy5pbnNlcnRTdHJpbmcoXCJcXG5cIil9LGQucHJvdG90eXBlLmluc2VydEhUTUw9ZnVuY3Rpb24odCl7dmFyIG4saSxvLHI7cmV0dXJuIG49ZS5Eb2N1bWVudC5mcm9tSFRNTCh0KSxvPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5tZXJnZURvY3VtZW50QXRSYW5nZShuLG8pKSxyPW9bMF0saT1yK24uZ2V0TGVuZ3RoKCktMSx0aGlzLnNldFNlbGVjdGlvbihpKSx0aGlzLm5vdGlmeURlbGVnYXRlT2ZJbnNlcnRpb25BdFJhbmdlKFtyLGldKX0sZC5wcm90b3R5cGUucmVwbGFjZUhUTUw9ZnVuY3Rpb24odCl7dmFyIG4saSxvO3JldHVybiBuPWUuRG9jdW1lbnQuZnJvbUhUTUwodCkuY29weVVzaW5nT2JqZWN0c0Zyb21Eb2N1bWVudCh0aGlzLmRvY3VtZW50KSxpPXRoaXMuZ2V0TG9jYXRpb25SYW5nZSh7c3RyaWN0OiExfSksbz10aGlzLmRvY3VtZW50LnJhbmdlRnJvbUxvY2F0aW9uUmFuZ2UoaSksdGhpcy5zZXREb2N1bWVudChuKSx0aGlzLnNldFNlbGVjdGlvbihvKX0sZC5wcm90b3R5cGUuaW5zZXJ0RmlsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnNlcnRGaWxlcyhbdF0pfSxkLnByb3RvdHlwZS5pbnNlcnRGaWxlcz1mdW5jdGlvbih0KXt2YXIgbixpLG8scixzLGE7Zm9yKGk9W10scj0wLHM9dC5sZW5ndGg7cz5yO3IrKylvPXRbcl0sKG51bGwhPShhPXRoaXMuZGVsZWdhdGUpP2EuY29tcG9zaXRpb25TaG91bGRBY2NlcHRGaWxlKG8pOnZvaWQgMCkmJihuPWUuQXR0YWNobWVudC5hdHRhY2htZW50Rm9yRmlsZShvKSxpLnB1c2gobikpO3JldHVybiB0aGlzLmluc2VydEF0dGFjaG1lbnRzKGkpfSxkLnByb3RvdHlwZS5pbnNlcnRBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluc2VydEF0dGFjaG1lbnRzKFt0XSl9LGQucHJvdG90eXBlLmluc2VydEF0dGFjaG1lbnRzPWZ1bmN0aW9uKHQpe3ZhciBuLGksbyxyLHMsYSx1LGMsbDtmb3IoYz1uZXcgZS5UZXh0LHI9MCxzPXQubGVuZ3RoO3M+cjtyKyspbj10W3JdLGw9bi5nZXRUeXBlKCksYT1udWxsIT0odT1lLmNvbmZpZy5hdHRhY2htZW50c1tsXSk/dS5wcmVzZW50YXRpb246dm9pZCAwLG89dGhpcy5nZXRDdXJyZW50VGV4dEF0dHJpYnV0ZXMoKSxhJiYoby5wcmVzZW50YXRpb249YSksaT1lLlRleHQudGV4dEZvckF0dGFjaG1lbnRXaXRoQXR0cmlidXRlcyhuLG8pLGM9Yy5hcHBlbmRUZXh0KGkpO3JldHVybiB0aGlzLmluc2VydFRleHQoYyl9LGQucHJvdG90eXBlLnNob3VsZE1hbmFnZURlbGV0aW5nSW5EaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU7aWYoZT10aGlzLmdldExvY2F0aW9uUmFuZ2UoKSx1KGUpKXtpZihcImJhY2t3YXJkXCI9PT10JiYwPT09ZVswXS5vZmZzZXQpcmV0dXJuITA7aWYodGhpcy5zaG91bGRNYW5hZ2VNb3ZpbmdDdXJzb3JJbkRpcmVjdGlvbih0KSlyZXR1cm4hMH1lbHNlIGlmKGVbMF0uaW5kZXghPT1lWzFdLmluZGV4KXJldHVybiEwO3JldHVybiExfSxkLnByb3RvdHlwZS5kZWxldGVJbkRpcmVjdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuLGksbyxyLHMsYSxjLGw7cmV0dXJuIHI9KG51bGwhPWU/ZTp7fSkubGVuZ3RoLHM9dGhpcy5nZXRMb2NhdGlvblJhbmdlKCksYT10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxjPXUoYSksYz9vPVwiYmFja3dhcmRcIj09PXQmJjA9PT1zWzBdLm9mZnNldDpsPXNbMF0uaW5kZXghPT1zWzFdLmluZGV4LG8mJnRoaXMuY2FuRGVjcmVhc2VCbG9ja0F0dHJpYnV0ZUxldmVsKCkmJihpPXRoaXMuZ2V0QmxvY2soKSxpLmlzTGlzdEl0ZW0oKT90aGlzLmRlY3JlYXNlTGlzdExldmVsKCk6dGhpcy5kZWNyZWFzZUJsb2NrQXR0cmlidXRlTGV2ZWwoKSx0aGlzLnNldFNlbGVjdGlvbihhWzBdKSxpLmlzRW1wdHkoKSk/ITE6KGMmJihhPXRoaXMuZ2V0RXhwYW5kZWRSYW5nZUluRGlyZWN0aW9uKHQse2xlbmd0aDpyfSksXCJiYWNrd2FyZFwiPT09dCYmKG49dGhpcy5nZXRBdHRhY2htZW50QXRSYW5nZShhKSkpLG4/KHRoaXMuZWRpdEF0dGFjaG1lbnQobiksITEpOih0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQucmVtb3ZlVGV4dEF0UmFuZ2UoYSkpLHRoaXMuc2V0U2VsZWN0aW9uKGFbMF0pLG98fGw/ITE6dm9pZCAwKSl9LGQucHJvdG90eXBlLm1vdmVUZXh0RnJvbVJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpWzBdLHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5tb3ZlVGV4dEZyb21SYW5nZVRvUG9zaXRpb24odCxlKSksdGhpcy5zZXRTZWxlY3Rpb24oZSl9LGQucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5kb2N1bWVudC5nZXRSYW5nZU9mQXR0YWNobWVudCh0KSk/KHRoaXMuc3RvcEVkaXRpbmdBdHRhY2htZW50KCksdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50LnJlbW92ZVRleHRBdFJhbmdlKGUpKSx0aGlzLnNldFNlbGVjdGlvbihlWzBdKSk6dm9pZCAwfSxkLnByb3RvdHlwZS5yZW1vdmVMYXN0QmxvY2tBdHRyaWJ1dGU9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saTtyZXR1cm4gbj10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxpPW5bMF0sZT1uWzFdLHQ9dGhpcy5kb2N1bWVudC5nZXRCbG9ja0F0UG9zaXRpb24oZSksdGhpcy5yZW1vdmVDdXJyZW50QXR0cmlidXRlKHQuZ2V0TGFzdEF0dHJpYnV0ZSgpKSx0aGlzLnNldFNlbGVjdGlvbihpKX0sZj1cIiBcIixkLnByb3RvdHlwZS5pbnNlcnRQbGFjZWhvbGRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYWNlaG9sZGVyUG9zaXRpb249dGhpcy5nZXRQb3NpdGlvbigpLHRoaXMuaW5zZXJ0U3RyaW5nKGYpfSxkLnByb3RvdHlwZS5zZWxlY3RQbGFjZWhvbGRlcj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnBsYWNlaG9sZGVyUG9zaXRpb24/KHRoaXMuc2V0U2VsZWN0ZWRSYW5nZShbdGhpcy5wbGFjZWhvbGRlclBvc2l0aW9uLHRoaXMucGxhY2Vob2xkZXJQb3NpdGlvbitmLmxlbmd0aF0pLHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpKTp2b2lkIDB9LGQucHJvdG90eXBlLmZvcmdldFBsYWNlaG9sZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxhY2Vob2xkZXJQb3NpdGlvbj1udWxsfSxkLnByb3RvdHlwZS5oYXNDdXJyZW50QXR0cmlidXRlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMuY3VycmVudEF0dHJpYnV0ZXNbdF0sbnVsbCE9ZSYmZSE9PSExfSxkLnByb3RvdHlwZS50b2dnbGVDdXJyZW50QXR0cmlidXRlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPSF0aGlzLmN1cnJlbnRBdHRyaWJ1dGVzW3RdKT90aGlzLnNldEN1cnJlbnRBdHRyaWJ1dGUodCxlKTp0aGlzLnJlbW92ZUN1cnJlbnRBdHRyaWJ1dGUodCl9LGQucHJvdG90eXBlLmNhblNldEN1cnJlbnRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCk/dGhpcy5jYW5TZXRDdXJyZW50QmxvY2tBdHRyaWJ1dGUodCk6dGhpcy5jYW5TZXRDdXJyZW50VGV4dEF0dHJpYnV0ZSh0KX0sZC5wcm90b3R5cGUuY2FuU2V0Q3VycmVudFRleHRBdHRyaWJ1dGU9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvO2lmKGU9dGhpcy5nZXRTZWxlY3RlZERvY3VtZW50KCkpe2ZvcihvPWUuZ2V0QXR0YWNobWVudHMoKSxuPTAsaT1vLmxlbmd0aDtpPm47bisrKWlmKHQ9b1tuXSwhdC5oYXNDb250ZW50KCkpcmV0dXJuITE7cmV0dXJuITB9fSxkLnByb3RvdHlwZS5jYW5TZXRDdXJyZW50QmxvY2tBdHRyaWJ1dGU9ZnVuY3Rpb24oKXt2YXIgdDtpZih0PXRoaXMuZ2V0QmxvY2soKSlyZXR1cm4hdC5pc1Rlcm1pbmFsQmxvY2soKX0sZC5wcm90b3R5cGUuc2V0Q3VycmVudEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBvKHQpP3RoaXMuc2V0QmxvY2tBdHRyaWJ1dGUodCxlKToodGhpcy5zZXRUZXh0QXR0cmlidXRlKHQsZSksdGhpcy5jdXJyZW50QXR0cmlidXRlc1t0XT1lLHRoaXMubm90aWZ5RGVsZWdhdGVPZkN1cnJlbnRBdHRyaWJ1dGVzQ2hhbmdlKCkpfSxkLnByb3RvdHlwZS5zZXRUZXh0QXR0cmlidXRlPWZ1bmN0aW9uKHQsbil7dmFyIGksbyxyLHM7aWYobz10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSlyZXR1cm4gcj1vWzBdLGk9b1sxXSxyIT09aT90aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQuYWRkQXR0cmlidXRlQXRSYW5nZSh0LG4sbykpOlwiaHJlZlwiPT09dD8ocz1lLlRleHQudGV4dEZvclN0cmluZ1dpdGhBdHRyaWJ1dGVzKG4se2hyZWY6bn0pLHRoaXMuaW5zZXJ0VGV4dChzKSk6dm9pZCAwfSxkLnByb3RvdHlwZS5zZXRCbG9ja0F0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3ZhciBuLGk7aWYoaT10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSlyZXR1cm4gdGhpcy5jYW5TZXRDdXJyZW50QXR0cmlidXRlKHQpPyhuPXRoaXMuZ2V0QmxvY2soKSx0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQuYXBwbHlCbG9ja0F0dHJpYnV0ZUF0UmFuZ2UodCxlLGkpKSx0aGlzLnNldFNlbGVjdGlvbihpKSk6dm9pZCAwfSxkLnByb3RvdHlwZS5yZW1vdmVDdXJyZW50QXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQpPyh0aGlzLnJlbW92ZUJsb2NrQXR0cmlidXRlKHQpLHRoaXMudXBkYXRlQ3VycmVudEF0dHJpYnV0ZXMoKSk6KHRoaXMucmVtb3ZlVGV4dEF0dHJpYnV0ZSh0KSxkZWxldGUgdGhpcy5jdXJyZW50QXR0cmlidXRlc1t0XSx0aGlzLm5vdGlmeURlbGVnYXRlT2ZDdXJyZW50QXR0cmlidXRlc0NoYW5nZSgpKX0sZC5wcm90b3R5cGUucmVtb3ZlVGV4dEF0dHJpYnV0ZT1mdW5jdGlvbih0KXt2YXIgZTtpZihlPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpKXJldHVybiB0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQucmVtb3ZlQXR0cmlidXRlQXRSYW5nZSh0LGUpKX0sZC5wcm90b3R5cGUucmVtb3ZlQmxvY2tBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7dmFyIGU7aWYoZT10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSlyZXR1cm4gdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50LnJlbW92ZUF0dHJpYnV0ZUF0UmFuZ2UodCxlKSl9LGQucHJvdG90eXBlLmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKG51bGwhPSh0PXRoaXMuZ2V0QmxvY2soKSk/dC5nZXROZXN0aW5nTGV2ZWwoKTp2b2lkIDApPjB9LGQucHJvdG90eXBlLmNhbkluY3JlYXNlTmVzdGluZ0xldmVsPWZ1bmN0aW9uKCl7dmFyIGUsbixpO2lmKGU9dGhpcy5nZXRCbG9jaygpKXJldHVybihudWxsIT0oaT1vKGUuZ2V0TGFzdE5lc3RhYmxlQXR0cmlidXRlKCkpKT9pLmxpc3RBdHRyaWJ1dGU6MCk/KG49dGhpcy5nZXRQcmV2aW91c0Jsb2NrKCkpP3Qobi5nZXRMaXN0SXRlbUF0dHJpYnV0ZXMoKSxlLmdldExpc3RJdGVtQXR0cmlidXRlcygpKTp2b2lkIDA6ZS5nZXROZXN0aW5nTGV2ZWwoKT4wfSxkLnByb3RvdHlwZS5kZWNyZWFzZU5lc3RpbmdMZXZlbD1mdW5jdGlvbigpe3ZhciB0O2lmKHQ9dGhpcy5nZXRCbG9jaygpKXJldHVybiB0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQucmVwbGFjZUJsb2NrKHQsdC5kZWNyZWFzZU5lc3RpbmdMZXZlbCgpKSl9LGQucHJvdG90eXBlLmluY3JlYXNlTmVzdGluZ0xldmVsPWZ1bmN0aW9uKCl7dmFyIHQ7aWYodD10aGlzLmdldEJsb2NrKCkpcmV0dXJuIHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5yZXBsYWNlQmxvY2sodCx0LmluY3JlYXNlTmVzdGluZ0xldmVsKCkpKX0sZC5wcm90b3R5cGUuY2FuRGVjcmVhc2VCbG9ja0F0dHJpYnV0ZUxldmVsPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKG51bGwhPSh0PXRoaXMuZ2V0QmxvY2soKSk/dC5nZXRBdHRyaWJ1dGVMZXZlbCgpOnZvaWQgMCk+MH0sZC5wcm90b3R5cGUuZGVjcmVhc2VCbG9ja0F0dHJpYnV0ZUxldmVsPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4odD1udWxsIT0oZT10aGlzLmdldEJsb2NrKCkpP2UuZ2V0TGFzdEF0dHJpYnV0ZSgpOnZvaWQgMCk/dGhpcy5yZW1vdmVDdXJyZW50QXR0cmlidXRlKHQpOnZvaWQgMH0sZC5wcm90b3R5cGUuZGVjcmVhc2VMaXN0TGV2ZWw9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLHI7Zm9yKHI9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKClbMF0sbz10aGlzLmRvY3VtZW50LmxvY2F0aW9uRnJvbVBvc2l0aW9uKHIpLmluZGV4LG49byx0PXRoaXMuZ2V0QmxvY2soKS5nZXRBdHRyaWJ1dGVMZXZlbCgpOyhlPXRoaXMuZG9jdW1lbnQuZ2V0QmxvY2tBdEluZGV4KG4rMSkpJiZlLmlzTGlzdEl0ZW0oKSYmZS5nZXRBdHRyaWJ1dGVMZXZlbCgpPnQ7KW4rKztyZXR1cm4gcj10aGlzLmRvY3VtZW50LnBvc2l0aW9uRnJvbUxvY2F0aW9uKHtpbmRleDpvLG9mZnNldDowfSksaT10aGlzLmRvY3VtZW50LnBvc2l0aW9uRnJvbUxvY2F0aW9uKHtpbmRleDpuLG9mZnNldDowfSksdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50LnJlbW92ZUxhc3RMaXN0QXR0cmlidXRlQXRSYW5nZShbcixpXSkpfSxkLnByb3RvdHlwZS51cGRhdGVDdXJyZW50QXR0cmlidXRlcz1mdW5jdGlvbigpe3ZhciB0LGUsbixvLHIscztpZihzPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSh7aWdub3JlTG9jazohMH0pKXtmb3IoZT10aGlzLmRvY3VtZW50LmdldENvbW1vbkF0dHJpYnV0ZXNBdFJhbmdlKHMpLHI9aSgpLG49MCxvPXIubGVuZ3RoO28+bjtuKyspdD1yW25dLGVbdF18fHRoaXMuY2FuU2V0Q3VycmVudEF0dHJpYnV0ZSh0KXx8KGVbdF09ITEpO2lmKCFhKGUsdGhpcy5jdXJyZW50QXR0cmlidXRlcykpcmV0dXJuIHRoaXMuY3VycmVudEF0dHJpYnV0ZXM9ZSx0aGlzLm5vdGlmeURlbGVnYXRlT2ZDdXJyZW50QXR0cmlidXRlc0NoYW5nZSgpfX0sZC5wcm90b3R5cGUuZ2V0Q3VycmVudEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jYWxsKHt9LHRoaXMuY3VycmVudEF0dHJpYnV0ZXMpfSxkLnByb3RvdHlwZS5nZXRDdXJyZW50VGV4dEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saTt0PXt9LG49dGhpcy5jdXJyZW50QXR0cmlidXRlcztmb3IoZSBpbiBuKWk9bltlXSxpIT09ITEmJnIoZSkmJih0W2VdPWkpO3JldHVybiB0fSxkLnByb3RvdHlwZS5mcmVlemVTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRDdXJyZW50QXR0cmlidXRlKFwiZnJvemVuXCIsITApfSxkLnByb3RvdHlwZS50aGF3U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlQ3VycmVudEF0dHJpYnV0ZShcImZyb3plblwiKX0sZC5wcm90b3R5cGUuaGFzRnJvemVuU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzQ3VycmVudEF0dHJpYnV0ZShcImZyb3plblwiKX0sZC5wcm94eU1ldGhvZChcImdldFNlbGVjdGlvbk1hbmFnZXIoKS5nZXRQb2ludFJhbmdlXCIpLGQucHJveHlNZXRob2QoXCJnZXRTZWxlY3Rpb25NYW5hZ2VyKCkuc2V0TG9jYXRpb25SYW5nZUZyb21Qb2ludFJhbmdlXCIpLGQucHJveHlNZXRob2QoXCJnZXRTZWxlY3Rpb25NYW5hZ2VyKCkuY3JlYXRlTG9jYXRpb25SYW5nZUZyb21ET01SYW5nZVwiKSxkLnByb3h5TWV0aG9kKFwiZ2V0U2VsZWN0aW9uTWFuYWdlcigpLmxvY2F0aW9uSXNDdXJzb3JUYXJnZXRcIiksZC5wcm94eU1ldGhvZChcImdldFNlbGVjdGlvbk1hbmFnZXIoKS5zZWxlY3Rpb25Jc0V4cGFuZGVkXCIpLGQucHJveHlNZXRob2QoXCJkZWxlZ2F0ZT8uZ2V0U2VsZWN0aW9uTWFuYWdlclwiKSxkLnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT10aGlzLmRvY3VtZW50LmxvY2F0aW9uUmFuZ2VGcm9tUmFuZ2UodCksbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSk/bi5jb21wb3NpdGlvbkRpZFJlcXVlc3RDaGFuZ2luZ1NlbGVjdGlvblRvTG9jYXRpb25SYW5nZShlKTp2b2lkIDB9LGQucHJvdG90eXBlLmdldFNlbGVjdGVkUmFuZ2U9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLmdldExvY2F0aW9uUmFuZ2UoKSk/dGhpcy5kb2N1bWVudC5yYW5nZUZyb21Mb2NhdGlvblJhbmdlKHQpOnZvaWQgMH0sZC5wcm90b3R5cGUuc2V0U2VsZWN0ZWRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmRvY3VtZW50LmxvY2F0aW9uUmFuZ2VGcm9tUmFuZ2UodCksdGhpcy5nZXRTZWxlY3Rpb25NYW5hZ2VyKCkuc2V0TG9jYXRpb25SYW5nZShlKX0sZC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLmdldExvY2F0aW9uUmFuZ2UoKSk/dGhpcy5kb2N1bWVudC5wb3NpdGlvbkZyb21Mb2NhdGlvbih0WzBdKTp2b2lkIDB9LGQucHJvdG90eXBlLmdldExvY2F0aW9uUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gbnVsbCE9KGU9bnVsbCE9KG49dGhpcy50YXJnZXRMb2NhdGlvblJhbmdlKT9uOnRoaXMuZ2V0U2VsZWN0aW9uTWFuYWdlcigpLmdldExvY2F0aW9uUmFuZ2UodCkpP2U6cyh7aW5kZXg6MCxvZmZzZXQ6MH0pfSxkLnByb3RvdHlwZS53aXRoVGFyZ2V0TG9jYXRpb25SYW5nZT1mdW5jdGlvbih0LGUpe3ZhciBuO3RoaXMudGFyZ2V0TG9jYXRpb25SYW5nZT10O3RyeXtuPWUoKX1maW5hbGx5e3RoaXMudGFyZ2V0TG9jYXRpb25SYW5nZT1udWxsfXJldHVybiBufSxkLnByb3RvdHlwZS53aXRoVGFyZ2V0UmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbj10aGlzLmRvY3VtZW50LmxvY2F0aW9uUmFuZ2VGcm9tUmFuZ2UodCksdGhpcy53aXRoVGFyZ2V0TG9jYXRpb25SYW5nZShuLGUpfSxkLnByb3RvdHlwZS53aXRoVGFyZ2V0RE9NUmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbj10aGlzLmNyZWF0ZUxvY2F0aW9uUmFuZ2VGcm9tRE9NUmFuZ2UodCx7c3RyaWN0OiExfSksdGhpcy53aXRoVGFyZ2V0TG9jYXRpb25SYW5nZShuLGUpfSxkLnByb3RvdHlwZS5nZXRFeHBhbmRlZFJhbmdlSW5EaXJlY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbixpLG8scjtyZXR1cm4gaT0obnVsbCE9ZT9lOnt9KS5sZW5ndGgsbz10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxyPW9bMF0sbj1vWzFdLFwiYmFja3dhcmRcIj09PXQ/aT9yLT1pOnI9dGhpcy50cmFuc2xhdGVVVEYxNlBvc2l0aW9uRnJvbU9mZnNldChyLC0xKTppP24rPWk6bj10aGlzLnRyYW5zbGF0ZVVURjE2UG9zaXRpb25Gcm9tT2Zmc2V0KG4sMSkscyhbcixuXSl9LGQucHJvdG90eXBlLnNob3VsZE1hbmFnZU1vdmluZ0N1cnNvckluRGlyZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLmVkaXRpbmdBdHRhY2htZW50PyEwOihlPXRoaXMuZ2V0RXhwYW5kZWRSYW5nZUluRGlyZWN0aW9uKHQpLG51bGwhPXRoaXMuZ2V0QXR0YWNobWVudEF0UmFuZ2UoZSkpfSxkLnByb3RvdHlwZS5tb3ZlQ3Vyc29ySW5EaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGUsbixpLG87cmV0dXJuIHRoaXMuZWRpdGluZ0F0dGFjaG1lbnQ/aT10aGlzLmRvY3VtZW50LmdldFJhbmdlT2ZBdHRhY2htZW50KHRoaXMuZWRpdGluZ0F0dGFjaG1lbnQpOihvPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLGk9dGhpcy5nZXRFeHBhbmRlZFJhbmdlSW5EaXJlY3Rpb24odCksbj0hYyhvLGkpKSx0aGlzLnNldFNlbGVjdGVkUmFuZ2UoXCJiYWNrd2FyZFwiPT09dD9pWzBdOmlbMV0pLG4mJihlPXRoaXMuZ2V0QXR0YWNobWVudEF0UmFuZ2UoaSkpP3RoaXMuZWRpdEF0dGFjaG1lbnQoZSk6dm9pZCAwXG59LGQucHJvdG90eXBlLmV4cGFuZFNlbGVjdGlvbkluRGlyZWN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtyZXR1cm4gbj0obnVsbCE9ZT9lOnt9KS5sZW5ndGgsaT10aGlzLmdldEV4cGFuZGVkUmFuZ2VJbkRpcmVjdGlvbih0LHtsZW5ndGg6bn0pLHRoaXMuc2V0U2VsZWN0ZWRSYW5nZShpKX0sZC5wcm90b3R5cGUuZXhwYW5kU2VsZWN0aW9uRm9yRWRpdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0N1cnJlbnRBdHRyaWJ1dGUoXCJocmVmXCIpP3RoaXMuZXhwYW5kU2VsZWN0aW9uQXJvdW5kQ29tbW9uQXR0cmlidXRlKFwiaHJlZlwiKTp2b2lkIDB9LGQucHJvdG90eXBlLmV4cGFuZFNlbGVjdGlvbkFyb3VuZENvbW1vbkF0dHJpYnV0ZT1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBlPXRoaXMuZ2V0UG9zaXRpb24oKSxuPXRoaXMuZG9jdW1lbnQuZ2V0UmFuZ2VPZkNvbW1vbkF0dHJpYnV0ZUF0UG9zaXRpb24odCxlKSx0aGlzLnNldFNlbGVjdGVkUmFuZ2Uobil9LGQucHJvdG90eXBlLnNlbGVjdGlvbkNvbnRhaW5zQXR0YWNobWVudHM9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4obnVsbCE9KHQ9dGhpcy5nZXRTZWxlY3RlZEF0dGFjaG1lbnRzKCkpP3QubGVuZ3RoOnZvaWQgMCk+MH0sZC5wcm90b3R5cGUuc2VsZWN0aW9uSXNJbkN1cnNvclRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRpbmdBdHRhY2htZW50fHx0aGlzLnBvc2l0aW9uSXNDdXJzb3JUYXJnZXQodGhpcy5nZXRQb3NpdGlvbigpKX0sZC5wcm90b3R5cGUucG9zaXRpb25Jc0N1cnNvclRhcmdldD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLmRvY3VtZW50LmxvY2F0aW9uRnJvbVBvc2l0aW9uKHQpKT90aGlzLmxvY2F0aW9uSXNDdXJzb3JUYXJnZXQoZSk6dm9pZCAwfSxkLnByb3RvdHlwZS5wb3NpdGlvbklzQmxvY2tCcmVhaz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5kb2N1bWVudC5nZXRQaWVjZUF0UG9zaXRpb24odCkpP2UuaXNCbG9ja0JyZWFrKCk6dm9pZCAwfSxkLnByb3RvdHlwZS5nZXRTZWxlY3RlZERvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCkpP3RoaXMuZG9jdW1lbnQuZ2V0RG9jdW1lbnRBdFJhbmdlKHQpOnZvaWQgMH0sZC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRBdHRhY2htZW50cz1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmdldFNlbGVjdGVkRG9jdW1lbnQoKSk/dC5nZXRBdHRhY2htZW50cygpOnZvaWQgMH0sZC5wcm90b3R5cGUuZ2V0QXR0YWNobWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRhY2htZW50cy5zbGljZSgwKX0sZC5wcm90b3R5cGUucmVmcmVzaEF0dGFjaG1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbyxyLHMsYSx1LGMsaCxwO2ZvcihuPXRoaXMuZG9jdW1lbnQuZ2V0QXR0YWNobWVudHMoKSxhPWwodGhpcy5hdHRhY2htZW50cyxuKSx0PWEuYWRkZWQsaD1hLnJlbW92ZWQsdGhpcy5hdHRhY2htZW50cz1uLGk9MCxyPWgubGVuZ3RoO3I+aTtpKyspZT1oW2ldLGUuZGVsZWdhdGU9bnVsbCxudWxsIT0odT10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdS5jb21wb3NpdGlvbkRpZFJlbW92ZUF0dGFjaG1lbnQmJnUuY29tcG9zaXRpb25EaWRSZW1vdmVBdHRhY2htZW50KGUpO2ZvcihwPVtdLG89MCxzPXQubGVuZ3RoO3M+bztvKyspZT10W29dLGUuZGVsZWdhdGU9dGhpcyxwLnB1c2gobnVsbCE9KGM9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGMuY29tcG9zaXRpb25EaWRBZGRBdHRhY2htZW50P2MuY29tcG9zaXRpb25EaWRBZGRBdHRhY2htZW50KGUpOnZvaWQgMCk7cmV0dXJuIHB9LGQucHJvdG90eXBlLmF0dGFjaG1lbnREaWRDaGFuZ2VBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLnJldmlzaW9uKyssbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29tcG9zaXRpb25EaWRFZGl0QXR0YWNobWVudD9lLmNvbXBvc2l0aW9uRGlkRWRpdEF0dGFjaG1lbnQodCk6dm9pZCAwfSxkLnByb3RvdHlwZS5hdHRhY2htZW50RGlkQ2hhbmdlUHJldmlld1VSTD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5yZXZpc2lvbisrLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNvbXBvc2l0aW9uRGlkQ2hhbmdlQXR0YWNobWVudFByZXZpZXdVUkw/ZS5jb21wb3NpdGlvbkRpZENoYW5nZUF0dGFjaG1lbnRQcmV2aWV3VVJMKHQpOnZvaWQgMH0sZC5wcm90b3R5cGUuZWRpdEF0dGFjaG1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZih0IT09dGhpcy5lZGl0aW5nQXR0YWNobWVudClyZXR1cm4gdGhpcy5zdG9wRWRpdGluZ0F0dGFjaG1lbnQoKSx0aGlzLmVkaXRpbmdBdHRhY2htZW50PXQsbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uY29tcG9zaXRpb25EaWRTdGFydEVkaXRpbmdBdHRhY2htZW50P24uY29tcG9zaXRpb25EaWRTdGFydEVkaXRpbmdBdHRhY2htZW50KHRoaXMuZWRpdGluZ0F0dGFjaG1lbnQsZSk6dm9pZCAwfSxkLnByb3RvdHlwZS5zdG9wRWRpdGluZ0F0dGFjaG1lbnQ9ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLmVkaXRpbmdBdHRhY2htZW50KXJldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb21wb3NpdGlvbkRpZFN0b3BFZGl0aW5nQXR0YWNobWVudCYmdC5jb21wb3NpdGlvbkRpZFN0b3BFZGl0aW5nQXR0YWNobWVudCh0aGlzLmVkaXRpbmdBdHRhY2htZW50KSx0aGlzLmVkaXRpbmdBdHRhY2htZW50PW51bGx9LGQucHJvdG90eXBlLnVwZGF0ZUF0dHJpYnV0ZXNGb3JBdHRhY2htZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC51cGRhdGVBdHRyaWJ1dGVzRm9yQXR0YWNobWVudCh0LGUpKX0sZC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlRm9yQXR0YWNobWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQucmVtb3ZlQXR0cmlidXRlRm9yQXR0YWNobWVudCh0LGUpKX0sZC5wcm90b3R5cGUuYnJlYWtGb3JtYXR0ZWRCbG9jaz1mdW5jdGlvbih0KXt2YXIgbixpLG8scixzO3JldHVybiBpPXQuZG9jdW1lbnQsbj10LmJsb2NrLHI9dC5zdGFydFBvc2l0aW9uLHM9W3ItMSxyXSxuLmdldEJsb2NrQnJlYWtQb3NpdGlvbigpPT09dC5zdGFydExvY2F0aW9uLm9mZnNldD8obi5icmVha3NPblJldHVybigpJiZcIlxcblwiPT09dC5uZXh0Q2hhcmFjdGVyP3IrPTE6aT1pLnJlbW92ZVRleHRBdFJhbmdlKHMpLHM9W3Iscl0pOlwiXFxuXCI9PT10Lm5leHRDaGFyYWN0ZXI/XCJcXG5cIj09PXQucHJldmlvdXNDaGFyYWN0ZXI/cz1bci0xLHIrMV06KHM9W3IscisxXSxyKz0xKTp0LnN0YXJ0TG9jYXRpb24ub2Zmc2V0LTEhPT0wJiYocis9MSksbz1uZXcgZS5Eb2N1bWVudChbbi5yZW1vdmVMYXN0QXR0cmlidXRlKCkuY29weVdpdGhvdXRUZXh0KCldKSx0aGlzLnNldERvY3VtZW50KGkuaW5zZXJ0RG9jdW1lbnRBdFJhbmdlKG8scykpLHRoaXMuc2V0U2VsZWN0aW9uKHIpfSxkLnByb3RvdHlwZS5nZXRQcmV2aW91c0Jsb2NrPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4oZT10aGlzLmdldExvY2F0aW9uUmFuZ2UoKSkmJih0PWVbMF0uaW5kZXgsdD4wKT90aGlzLmRvY3VtZW50LmdldEJsb2NrQXRJbmRleCh0LTEpOnZvaWQgMH0sZC5wcm90b3R5cGUuZ2V0QmxvY2s9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLmdldExvY2F0aW9uUmFuZ2UoKSk/dGhpcy5kb2N1bWVudC5nZXRCbG9ja0F0SW5kZXgodFswXS5pbmRleCk6dm9pZCAwfSxkLnByb3RvdHlwZS5nZXRBdHRhY2htZW50QXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gbj10aGlzLmRvY3VtZW50LmdldERvY3VtZW50QXRSYW5nZSh0KSxuLnRvU3RyaW5nKCk9PT1lLk9CSkVDVF9SRVBMQUNFTUVOVF9DSEFSQUNURVIrXCJcXG5cIj9uLmdldEF0dGFjaG1lbnRzKClbMF06dm9pZCAwfSxkLnByb3RvdHlwZS5ub3RpZnlEZWxlZ2F0ZU9mQ3VycmVudEF0dHJpYnV0ZXNDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29tcG9zaXRpb25EaWRDaGFuZ2VDdXJyZW50QXR0cmlidXRlcz90LmNvbXBvc2l0aW9uRGlkQ2hhbmdlQ3VycmVudEF0dHJpYnV0ZXModGhpcy5jdXJyZW50QXR0cmlidXRlcyk6dm9pZCAwfSxkLnByb3RvdHlwZS5ub3RpZnlEZWxlZ2F0ZU9mSW5zZXJ0aW9uQXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29tcG9zaXRpb25EaWRQZXJmb3JtSW5zZXJ0aW9uQXRSYW5nZT9lLmNvbXBvc2l0aW9uRGlkUGVyZm9ybUluc2VydGlvbkF0UmFuZ2UodCk6dm9pZCAwfSxkLnByb3RvdHlwZS50cmFuc2xhdGVVVEYxNlBvc2l0aW9uRnJvbU9mZnNldD1mdW5jdGlvbih0LGUpe3ZhciBuLGk7cmV0dXJuIGk9dGhpcy5kb2N1bWVudC50b1VURjE2U3RyaW5nKCksbj1pLm9mZnNldEZyb21VQ1MyT2Zmc2V0KHQpLGkub2Zmc2V0VG9VQ1MyT2Zmc2V0KG4rZSl9LGR9KGUuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKW4uY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sbj17fS5oYXNPd25Qcm9wZXJ0eTtlLlVuZG9NYW5hZ2VyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCl7dGhpcy5jb21wb3NpdGlvbj10LHRoaXMudW5kb0VudHJpZXM9W10sdGhpcy5yZWRvRW50cmllcz1bXX12YXIgaTtyZXR1cm4gdChuLGUpLG4ucHJvdG90eXBlLnJlY29yZFVuZG9FbnRyeT1mdW5jdGlvbih0LGUpe3ZhciBuLG8scixzLGE7cmV0dXJuIHM9bnVsbCE9ZT9lOnt9LG89cy5jb250ZXh0LG49cy5jb25zb2xpZGF0YWJsZSxyPXRoaXMudW5kb0VudHJpZXMuc2xpY2UoLTEpWzBdLG4mJmkocix0LG8pP3ZvaWQgMDooYT10aGlzLmNyZWF0ZUVudHJ5KHtkZXNjcmlwdGlvbjp0LGNvbnRleHQ6b30pLHRoaXMudW5kb0VudHJpZXMucHVzaChhKSx0aGlzLnJlZG9FbnRyaWVzPVtdKX0sbi5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuKGU9dGhpcy51bmRvRW50cmllcy5wb3AoKSk/KHQ9dGhpcy5jcmVhdGVFbnRyeShlKSx0aGlzLnJlZG9FbnRyaWVzLnB1c2godCksdGhpcy5jb21wb3NpdGlvbi5sb2FkU25hcHNob3QoZS5zbmFwc2hvdCkpOnZvaWQgMH0sbi5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuKHQ9dGhpcy5yZWRvRW50cmllcy5wb3AoKSk/KGU9dGhpcy5jcmVhdGVFbnRyeSh0KSx0aGlzLnVuZG9FbnRyaWVzLnB1c2goZSksdGhpcy5jb21wb3NpdGlvbi5sb2FkU25hcHNob3QodC5zbmFwc2hvdCkpOnZvaWQgMH0sbi5wcm90b3R5cGUuY2FuVW5kbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuZG9FbnRyaWVzLmxlbmd0aD4wfSxuLnByb3RvdHlwZS5jYW5SZWRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVkb0VudHJpZXMubGVuZ3RoPjB9LG4ucHJvdG90eXBlLmNyZWF0ZUVudHJ5PWZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gaT1udWxsIT10P3Q6e30sbj1pLmRlc2NyaXB0aW9uLGU9aS5jb250ZXh0LHtkZXNjcmlwdGlvbjpudWxsIT1uP24udG9TdHJpbmcoKTp2b2lkIDAsY29udGV4dDpKU09OLnN0cmluZ2lmeShlKSxzbmFwc2hvdDp0aGlzLmNvbXBvc2l0aW9uLmdldFNuYXBzaG90KCl9fSxpPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4obnVsbCE9dD90LmRlc2NyaXB0aW9uOnZvaWQgMCk9PT0obnVsbCE9ZT9lLnRvU3RyaW5nKCk6dm9pZCAwKSYmKG51bGwhPXQ/dC5jb250ZXh0OnZvaWQgMCk9PT1KU09OLnN0cmluZ2lmeShuKX0sbn0oZS5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdDtlLmF0dGFjaG1lbnRHYWxsZXJ5RmlsdGVyPWZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBuPW5ldyB0KGUpLG4ucGVyZm9ybSgpLG4uZ2V0U25hcHNob3QoKX0sdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5kb2N1bWVudD10LmRvY3VtZW50LHRoaXMuc2VsZWN0ZWRSYW5nZT10LnNlbGVjdGVkUmFuZ2V9dmFyIGUsbixpO3JldHVybiBlPVwiYXR0YWNobWVudEdhbGxlcnlcIixuPVwicHJlc2VudGF0aW9uXCIsaT1cImdhbGxlcnlcIix0LnByb3RvdHlwZS5wZXJmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlQmxvY2tBdHRyaWJ1dGUoKSx0aGlzLmFwcGx5QmxvY2tBdHRyaWJ1dGUoKX0sdC5wcm90b3R5cGUuZ2V0U25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm57ZG9jdW1lbnQ6dGhpcy5kb2N1bWVudCxzZWxlY3RlZFJhbmdlOnRoaXMuc2VsZWN0ZWRSYW5nZX19LHQucHJvdG90eXBlLnJlbW92ZUJsb2NrQXR0cmlidXRlPWZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scjtmb3Iobz10aGlzLmZpbmRSYW5nZXNPZkJsb2NrcygpLHI9W10sdD0wLG49by5sZW5ndGg7bj50O3QrKylpPW9bdF0sci5wdXNoKHRoaXMuZG9jdW1lbnQ9dGhpcy5kb2N1bWVudC5yZW1vdmVBdHRyaWJ1dGVBdFJhbmdlKGUsaSkpO3JldHVybiByfSx0LnByb3RvdHlwZS5hcHBseUJsb2NrQXR0cmlidXRlPWZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scixzO2ZvcihpPTAscj10aGlzLmZpbmRSYW5nZXNPZlBpZWNlcygpLHM9W10sdD0wLG49ci5sZW5ndGg7bj50O3QrKylvPXJbdF0sb1sxXS1vWzBdPjEmJihvWzBdKz1pLG9bMV0rPWksXCJcXG5cIiE9PXRoaXMuZG9jdW1lbnQuZ2V0Q2hhcmFjdGVyQXRQb3NpdGlvbihvWzFdKSYmKHRoaXMuZG9jdW1lbnQ9dGhpcy5kb2N1bWVudC5pbnNlcnRCbG9ja0JyZWFrQXRSYW5nZShvWzFdKSxvWzFdPHRoaXMuc2VsZWN0ZWRSYW5nZVsxXSYmdGhpcy5tb3ZlU2VsZWN0ZWRSYW5nZUZvcndhcmQoKSxvWzFdKyssaSsrKSwwIT09b1swXSYmXCJcXG5cIiE9PXRoaXMuZG9jdW1lbnQuZ2V0Q2hhcmFjdGVyQXRQb3NpdGlvbihvWzBdLTEpJiYodGhpcy5kb2N1bWVudD10aGlzLmRvY3VtZW50Lmluc2VydEJsb2NrQnJlYWtBdFJhbmdlKG9bMF0pLG9bMF08dGhpcy5zZWxlY3RlZFJhbmdlWzBdJiZ0aGlzLm1vdmVTZWxlY3RlZFJhbmdlRm9yd2FyZCgpLG9bMF0rKyxpKyspLHMucHVzaCh0aGlzLmRvY3VtZW50PXRoaXMuZG9jdW1lbnQuYXBwbHlCbG9ja0F0dHJpYnV0ZUF0UmFuZ2UoZSwhMCxvKSkpO3JldHVybiBzfSx0LnByb3RvdHlwZS5maW5kUmFuZ2VzT2ZCbG9ja3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudC5maW5kUmFuZ2VzRm9yQmxvY2tBdHRyaWJ1dGUoZSl9LHQucHJvdG90eXBlLmZpbmRSYW5nZXNPZlBpZWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50LmZpbmRSYW5nZXNGb3JUZXh0QXR0cmlidXRlKG4se3dpdGhWYWx1ZTppfSl9LHQucHJvdG90eXBlLm1vdmVTZWxlY3RlZFJhbmdlRm9yd2FyZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGVkUmFuZ2VbMF0rPTEsdGhpcy5zZWxlY3RlZFJhbmdlWzFdKz0xfSx0fSgpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fTtlLkVkaXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obixvLHIpe3RoaXMuY29tcG9zaXRpb249bix0aGlzLnNlbGVjdGlvbk1hbmFnZXI9byx0aGlzLmVsZW1lbnQ9cix0aGlzLmluc2VydEZpbGVzPXQodGhpcy5pbnNlcnRGaWxlcyx0aGlzKSx0aGlzLnVuZG9NYW5hZ2VyPW5ldyBlLlVuZG9NYW5hZ2VyKHRoaXMuY29tcG9zaXRpb24pLHRoaXMuZmlsdGVycz1pLnNsaWNlKDApfXZhciBpO3JldHVybiBpPVtlLmF0dGFjaG1lbnRHYWxsZXJ5RmlsdGVyXSxuLnByb3RvdHlwZS5sb2FkRG9jdW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9hZFNuYXBzaG90KHtkb2N1bWVudDp0LHNlbGVjdGVkUmFuZ2U6WzAsMF19KX0sbi5wcm90b3R5cGUubG9hZEhUTUw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQmJih0PVwiXCIpLHRoaXMubG9hZERvY3VtZW50KGUuRG9jdW1lbnQuZnJvbUhUTUwodCx7cmVmZXJlbmNlRWxlbWVudDp0aGlzLmVsZW1lbnR9KSl9LG4ucHJvdG90eXBlLmxvYWRKU09OPWZ1bmN0aW9uKHQpe3ZhciBuLGk7cmV0dXJuIG49dC5kb2N1bWVudCxpPXQuc2VsZWN0ZWRSYW5nZSxuPWUuRG9jdW1lbnQuZnJvbUpTT04obiksdGhpcy5sb2FkU25hcHNob3Qoe2RvY3VtZW50Om4sc2VsZWN0ZWRSYW5nZTppfSl9LG4ucHJvdG90eXBlLmxvYWRTbmFwc2hvdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51bmRvTWFuYWdlcj1uZXcgZS5VbmRvTWFuYWdlcih0aGlzLmNvbXBvc2l0aW9uKSx0aGlzLmNvbXBvc2l0aW9uLmxvYWRTbmFwc2hvdCh0KX0sbi5wcm90b3R5cGUuZ2V0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5kb2N1bWVudH0sbi5wcm90b3R5cGUuZ2V0U2VsZWN0ZWREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLmdldFNlbGVjdGVkRG9jdW1lbnQoKX0sbi5wcm90b3R5cGUuZ2V0U25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5nZXRTbmFwc2hvdCgpfSxuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTbmFwc2hvdCgpfSxuLnByb3RvdHlwZS5kZWxldGVJbkRpcmVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5kZWxldGVJbkRpcmVjdGlvbih0KX0sbi5wcm90b3R5cGUuaW5zZXJ0QXR0YWNobWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5pbnNlcnRBdHRhY2htZW50KHQpfSxuLnByb3RvdHlwZS5pbnNlcnRBdHRhY2htZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5pbnNlcnRBdHRhY2htZW50cyh0KX0sbi5wcm90b3R5cGUuaW5zZXJ0RG9jdW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uaW5zZXJ0RG9jdW1lbnQodCl9LG4ucHJvdG90eXBlLmluc2VydEZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uaW5zZXJ0RmlsZSh0KX0sbi5wcm90b3R5cGUuaW5zZXJ0RmlsZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uaW5zZXJ0RmlsZXModCl9LG4ucHJvdG90eXBlLmluc2VydEhUTUw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uaW5zZXJ0SFRNTCh0KX0sbi5wcm90b3R5cGUuaW5zZXJ0U3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLmluc2VydFN0cmluZyh0KX0sbi5wcm90b3R5cGUuaW5zZXJ0VGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5pbnNlcnRUZXh0KHQpfSxuLnByb3RvdHlwZS5pbnNlcnRMaW5lQnJlYWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5pbnNlcnRMaW5lQnJlYWsoKX0sbi5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLmdldFNlbGVjdGVkUmFuZ2UoKX0sbi5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5nZXRQb3NpdGlvbigpfSxuLnByb3RvdHlwZS5nZXRDbGllbnRSZWN0QXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmdldERvY3VtZW50KCkubG9jYXRpb25SYW5nZUZyb21SYW5nZShbdCx0KzFdKSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIuZ2V0Q2xpZW50UmVjdEF0TG9jYXRpb25SYW5nZShlKX0sbi5wcm90b3R5cGUuZXhwYW5kU2VsZWN0aW9uSW5EaXJlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uZXhwYW5kU2VsZWN0aW9uSW5EaXJlY3Rpb24odCl9LG4ucHJvdG90eXBlLm1vdmVDdXJzb3JJbkRpcmVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5tb3ZlQ3Vyc29ySW5EaXJlY3Rpb24odCl9LG4ucHJvdG90eXBlLnNldFNlbGVjdGVkUmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uc2V0U2VsZWN0ZWRSYW5nZSh0KX0sbi5wcm90b3R5cGUuYWN0aXZhdGVBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09ZSYmKGU9ITApLHRoaXMuY29tcG9zaXRpb24uc2V0Q3VycmVudEF0dHJpYnV0ZSh0LGUpfSxuLnByb3RvdHlwZS5hdHRyaWJ1dGVJc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5oYXNDdXJyZW50QXR0cmlidXRlKHQpfSxuLnByb3RvdHlwZS5jYW5BY3RpdmF0ZUF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5jYW5TZXRDdXJyZW50QXR0cmlidXRlKHQpfSxuLnByb3RvdHlwZS5kZWFjdGl2YXRlQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLnJlbW92ZUN1cnJlbnRBdHRyaWJ1dGUodCl9LG4ucHJvdG90eXBlLmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uY2FuRGVjcmVhc2VOZXN0aW5nTGV2ZWwoKX0sbi5wcm90b3R5cGUuY2FuSW5jcmVhc2VOZXN0aW5nTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5jYW5JbmNyZWFzZU5lc3RpbmdMZXZlbCgpfSxuLnByb3RvdHlwZS5kZWNyZWFzZU5lc3RpbmdMZXZlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsKCk/dGhpcy5jb21wb3NpdGlvbi5kZWNyZWFzZU5lc3RpbmdMZXZlbCgpOnZvaWQgMH0sbi5wcm90b3R5cGUuaW5jcmVhc2VOZXN0aW5nTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5JbmNyZWFzZU5lc3RpbmdMZXZlbCgpP3RoaXMuY29tcG9zaXRpb24uaW5jcmVhc2VOZXN0aW5nTGV2ZWwoKTp2b2lkIDB9LG4ucHJvdG90eXBlLmNhblJlZG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmRvTWFuYWdlci5jYW5SZWRvKCl9LG4ucHJvdG90eXBlLmNhblVuZG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmRvTWFuYWdlci5jYW5VbmRvKCl9LG4ucHJvdG90eXBlLnJlY29yZFVuZG9FbnRyeT1mdW5jdGlvbih0LGUpe3ZhciBuLGksbztyZXR1cm4gbz1udWxsIT1lP2U6e30saT1vLmNvbnRleHQsbj1vLmNvbnNvbGlkYXRhYmxlLHRoaXMudW5kb01hbmFnZXIucmVjb3JkVW5kb0VudHJ5KHQse2NvbnRleHQ6aSxjb25zb2xpZGF0YWJsZTpufSl9LG4ucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5SZWRvKCk/dGhpcy51bmRvTWFuYWdlci5yZWRvKCk6dm9pZCAwfSxuLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FuVW5kbygpP3RoaXMudW5kb01hbmFnZXIudW5kbygpOnZvaWQgMH0sbn0oKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIG8gaW4gZSluLmNhbGwoZSxvKSYmKHRbb109ZVtvXSk7cmV0dXJuIGkucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBpLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG49e30uaGFzT3duUHJvcGVydHk7ZS5NYW5hZ2VkQXR0YWNobWVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG47dGhpcy5hdHRhY2htZW50TWFuYWdlcj10LHRoaXMuYXR0YWNobWVudD1lLG49dGhpcy5hdHRhY2htZW50LHRoaXMuaWQ9bi5pZCx0aGlzLmZpbGU9bi5maWxlfXJldHVybiB0KG4sZSksbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNobWVudE1hbmFnZXIucmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQodGhpcy5hdHRhY2htZW50KX0sbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQuZ2V0QXR0cmlidXRlXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50Lmhhc0F0dHJpYnV0ZVwiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5zZXRBdHRyaWJ1dGVcIiksbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQuZ2V0QXR0cmlidXRlc1wiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5zZXRBdHRyaWJ1dGVzXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmlzUGVuZGluZ1wiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5pc1ByZXZpZXdhYmxlXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldFVSTFwiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5nZXRIcmVmXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldEZpbGVuYW1lXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldEZpbGVzaXplXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldEZvcm1hdHRlZEZpbGVzaXplXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldEV4dGVuc2lvblwiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5nZXRDb250ZW50VHlwZVwiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5nZXRGaWxlXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LnNldEZpbGVcIiksbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQucmVsZWFzZUZpbGVcIiksbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQuZ2V0VXBsb2FkUHJvZ3Jlc3NcIiksbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQuc2V0VXBsb2FkUHJvZ3Jlc3NcIiksbn0oZS5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBvIGluIGUpbi5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiBpLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgaSx0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxuPXt9Lmhhc093blByb3BlcnR5O2UuQXR0YWNobWVudE1hbmFnZXI9ZnVuY3Rpb24obil7ZnVuY3Rpb24gaSh0KXt2YXIgZSxuLGk7Zm9yKG51bGw9PXQmJih0PVtdKSx0aGlzLm1hbmFnZWRBdHRhY2htZW50cz17fSxuPTAsaT10Lmxlbmd0aDtpPm47bisrKWU9dFtuXSx0aGlzLm1hbmFnZUF0dGFjaG1lbnQoZSl9cmV0dXJuIHQoaSxuKSxpLnByb3RvdHlwZS5nZXRBdHRhY2htZW50cz1mdW5jdGlvbigpe3ZhciB0LGUsbixpO249dGhpcy5tYW5hZ2VkQXR0YWNobWVudHMsaT1bXTtmb3IoZSBpbiBuKXQ9bltlXSxpLnB1c2godCk7cmV0dXJuIGl9LGkucHJvdG90eXBlLm1hbmFnZUF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIG4saTtyZXR1cm4gbnVsbCE9KG49dGhpcy5tYW5hZ2VkQXR0YWNobWVudHMpW2k9dC5pZF0/bltpXTpuW2ldPW5ldyBlLk1hbmFnZWRBdHRhY2htZW50KHRoaXMsdCl9LGkucHJvdG90eXBlLmF0dGFjaG1lbnRJc01hbmFnZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQgaW4gdGhpcy5tYW5hZ2VkQXR0YWNobWVudHN9LGkucHJvdG90eXBlLnJlcXVlc3RSZW1vdmFsT2ZBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLmF0dGFjaG1lbnRJc01hbmFnZWQodCkmJm51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmF0dGFjaG1lbnRNYW5hZ2VyRGlkUmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQ/ZS5hdHRhY2htZW50TWFuYWdlckRpZFJlcXVlc3RSZW1vdmFsT2ZBdHRhY2htZW50KHQpOnZvaWQgMH0saS5wcm90b3R5cGUudW5tYW5hZ2VBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMubWFuYWdlZEF0dGFjaG1lbnRzW3QuaWRdLGRlbGV0ZSB0aGlzLm1hbmFnZWRBdHRhY2htZW50c1t0LmlkXSxlfSxpfShlLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG4saSxvLHIscyxhLHUsYyxsLGg7dD1lLmVsZW1lbnRDb250YWluc05vZGUsbj1lLmZpbmRDaGlsZEluZGV4T2ZOb2RlLHI9ZS5ub2RlSXNCbG9ja1N0YXJ0LHM9ZS5ub2RlSXNCbG9ja1N0YXJ0Q29tbWVudCxvPWUubm9kZUlzQmxvY2tDb250YWluZXIsYT1lLm5vZGVJc0N1cnNvclRhcmdldCx1PWUubm9kZUlzRW1wdHlUZXh0Tm9kZSxjPWUubm9kZUlzVGV4dE5vZGUsaT1lLm5vZGVJc0F0dGFjaG1lbnRFbGVtZW50LGw9ZS50YWdOYW1lLGg9ZS53YWxrVHJlZSxlLkxvY2F0aW9uTWFwcGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0aGlzLmVsZW1lbnQ9dH12YXIgcCxkLGYsZztyZXR1cm4gZS5wcm90b3R5cGUuZmluZExvY2F0aW9uRnJvbUNvbnRhaW5lckFuZE9mZnNldD1mdW5jdGlvbihlLGksbyl7dmFyIHMsdSxsLHAsZyxtLHk7Zm9yKG09KG51bGwhPW8/bzp7c3RyaWN0OiEwfSkuc3RyaWN0LHU9MCxsPSExLHA9e2luZGV4OjAsb2Zmc2V0OjB9LChzPXRoaXMuZmluZEF0dGFjaG1lbnRFbGVtZW50UGFyZW50Rm9yTm9kZShlKSkmJihlPXMucGFyZW50Tm9kZSxpPW4ocykpLHk9aCh0aGlzLmVsZW1lbnQse3VzaW5nRmlsdGVyOmZ9KTt5Lm5leHROb2RlKCk7KXtpZihnPXkuY3VycmVudE5vZGUsZz09PWUmJmMoZSkpe2EoZyl8fChwLm9mZnNldCs9aSk7YnJlYWt9aWYoZy5wYXJlbnROb2RlPT09ZSl7aWYodSsrPT09aSlicmVha31lbHNlIGlmKCF0KGUsZykmJnU+MClicmVhaztyKGcse3N0cmljdDptfSk/KGwmJnAuaW5kZXgrKyxwLm9mZnNldD0wLGw9ITApOnAub2Zmc2V0Kz1kKGcpfXJldHVybiBwfSxlLnByb3RvdHlwZS5maW5kQ29udGFpbmVyQW5kT2Zmc2V0RnJvbUxvY2F0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLGkscyx1LGw7aWYoMD09PXQuaW5kZXgmJjA9PT10Lm9mZnNldCl7Zm9yKGU9dGhpcy5lbGVtZW50LHU9MDtlLmZpcnN0Q2hpbGQ7KWlmKGU9ZS5maXJzdENoaWxkLG8oZSkpe3U9MTticmVha31yZXR1cm5bZSx1XX1pZihsPXRoaXMuZmluZE5vZGVBbmRPZmZzZXRGcm9tTG9jYXRpb24odCksaT1sWzBdLHM9bFsxXSxpKXtpZihjKGkpKTA9PT1kKGkpPyhlPWkucGFyZW50Tm9kZS5wYXJlbnROb2RlLHU9bihpLnBhcmVudE5vZGUpLGEoaSx7bmFtZTpcInJpZ2h0XCJ9KSYmdSsrKTooZT1pLHU9dC5vZmZzZXQtcyk7ZWxzZXtpZihlPWkucGFyZW50Tm9kZSwhcihpLnByZXZpb3VzU2libGluZykmJiFvKGUpKWZvcig7aT09PWUubGFzdENoaWxkJiYoaT1lLGU9ZS5wYXJlbnROb2RlLCFvKGUpKTspO3U9bihpKSwwIT09dC5vZmZzZXQmJnUrK31yZXR1cm5bZSx1XX19LGUucHJvdG90eXBlLmZpbmROb2RlQW5kT2Zmc2V0RnJvbUxvY2F0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLHIscyx1LGw7Zm9yKHU9MCxsPXRoaXMuZ2V0U2lnbmlmaWNhbnROb2Rlc0ZvckluZGV4KHQuaW5kZXgpLG49MCxpPWwubGVuZ3RoO2k+bjtuKyspe2lmKGU9bFtuXSxvPWQoZSksdC5vZmZzZXQ8PXUrbylpZihjKGUpKXtpZihyPWUscz11LHQub2Zmc2V0PT09cyYmYShyKSlicmVha31lbHNlIHJ8fChyPWUscz11KTtpZih1Kz1vLHU+dC5vZmZzZXQpYnJlYWt9cmV0dXJuW3Isc119LGUucHJvdG90eXBlLmZpbmRBdHRhY2htZW50RWxlbWVudFBhcmVudEZvck5vZGU9ZnVuY3Rpb24odCl7Zm9yKDt0JiZ0IT09dGhpcy5lbGVtZW50Oyl7aWYoaSh0KSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX19LGUucHJvdG90eXBlLmdldFNpZ25pZmljYW50Tm9kZXNGb3JJbmRleD1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxyO2ZvcihpPVtdLHI9aCh0aGlzLmVsZW1lbnQse3VzaW5nRmlsdGVyOnB9KSxvPSExO3IubmV4dE5vZGUoKTspaWYobj1yLmN1cnJlbnROb2RlLHMobikpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZudWxsIT09ZT9lKys6ZT0wLGU9PT10KW89ITA7ZWxzZSBpZihvKWJyZWFrfWVsc2UgbyYmaS5wdXNoKG4pO3JldHVybiBpfSxkPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0Lm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/YSh0KT8wOihlPXQudGV4dENvbnRlbnQsZS5sZW5ndGgpOlwiYnJcIj09PWwodCl8fGkodCk/MTowfSxwPWZ1bmN0aW9uKHQpe3JldHVybiBnKHQpPT09Tm9kZUZpbHRlci5GSUxURVJfQUNDRVBUP2YodCk6Tm9kZUZpbHRlci5GSUxURVJfUkVKRUNUfSxnPWZ1bmN0aW9uKHQpe3JldHVybiB1KHQpP05vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVDpOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFR9LGY9ZnVuY3Rpb24odCl7cmV0dXJuIGkodC5wYXJlbnROb2RlKT9Ob2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1Q6Tm9kZUZpbHRlci5GSUxURVJfQUNDRVBUfSxlfSgpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpPVtdLnNsaWNlO3Q9ZS5nZXRET01SYW5nZSxuPWUuc2V0RE9NUmFuZ2UsZS5Qb2ludE1hcHBlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmNyZWF0ZURPTVJhbmdlRnJvbVBvaW50PWZ1bmN0aW9uKGUpe3ZhciBpLG8scixzLGEsdSxjLGw7aWYoYz1lLngsbD1lLnksZG9jdW1lbnQuY2FyZXRQb3NpdGlvbkZyb21Qb2ludClyZXR1cm4gYT1kb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGMsbCkscj1hLm9mZnNldE5vZGUsbz1hLm9mZnNldCxpPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksaS5zZXRTdGFydChyLG8pLGk7aWYoZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludClyZXR1cm4gZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludChjLGwpO2lmKGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKXtzPXQoKTt0cnl7dT1kb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpLHUubW92ZVRvUG9pbnQoYyxsKSx1LnNlbGVjdCgpfWNhdGNoKGgpe31yZXR1cm4gaT10KCksbihzKSxpfX0sZS5wcm90b3R5cGUuZ2V0Q2xpZW50UmVjdHNGb3JET01SYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxuLG87cmV0dXJuIG49aS5jYWxsKHQuZ2V0Q2xpZW50UmVjdHMoKSksbz1uWzBdLGU9bltuLmxlbmd0aC0xXSxbbyxlXX0sZX0oKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fSxpPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gZSlvLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG89e30uaGFzT3duUHJvcGVydHkscj1bXS5pbmRleE9mfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMubGVuZ3RoO24+ZTtlKyspaWYoZSBpbiB0aGlzJiZ0aGlzW2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX07dD1lLmdldERPTVJhbmdlLGUuU2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbygpe3RoaXMucnVuPW4odGhpcy5ydW4sdGhpcyksdGhpcy51cGRhdGU9bih0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLnNlbGVjdGlvbk1hbmFnZXJzPVtdfXZhciBzO3JldHVybiBpKG8sZSksby5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydGVkP3ZvaWQgMDoodGhpcy5zdGFydGVkPSEwLFwib25zZWxlY3Rpb25jaGFuZ2VcImluIGRvY3VtZW50P2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIix0aGlzLnVwZGF0ZSwhMCk6dGhpcy5ydW4oKSl9LG8ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydGVkPyh0aGlzLnN0YXJ0ZWQ9ITEsZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLHRoaXMudXBkYXRlLCEwKSk6dm9pZCAwfSxvLnByb3RvdHlwZS5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHIuY2FsbCh0aGlzLnNlbGVjdGlvbk1hbmFnZXJzLHQpPDA/KHRoaXMuc2VsZWN0aW9uTWFuYWdlcnMucHVzaCh0KSx0aGlzLnN0YXJ0KCkpOnZvaWQgMH0sby5wcm90b3R5cGUudW5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuc2VsZWN0aW9uTWFuYWdlcnM9ZnVuY3Rpb24oKXt2YXIgbixpLG8scjtmb3Iobz10aGlzLnNlbGVjdGlvbk1hbmFnZXJzLHI9W10sbj0wLGk9by5sZW5ndGg7aT5uO24rKyllPW9bbl0sZSE9PXQmJnIucHVzaChlKTtyZXR1cm4gcn0uY2FsbCh0aGlzKSwwPT09dGhpcy5zZWxlY3Rpb25NYW5hZ2Vycy5sZW5ndGg/dGhpcy5zdG9wKCk6dm9pZCAwfSxvLnByb3RvdHlwZS5ub3RpZnlTZWxlY3Rpb25NYW5hZ2Vyc09mU2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbztmb3Iobj10aGlzLnNlbGVjdGlvbk1hbmFnZXJzLGk9W10sdD0wLGU9bi5sZW5ndGg7ZT50O3QrKylvPW5bdF0saS5wdXNoKG8uc2VsZWN0aW9uRGlkQ2hhbmdlKCkpO3JldHVybiBpfSxvLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZT10KCkscyhlLHRoaXMuZG9tUmFuZ2UpP3ZvaWQgMDoodGhpcy5kb21SYW5nZT1lLHRoaXMubm90aWZ5U2VsZWN0aW9uTWFuYWdlcnNPZlNlbGVjdGlvbkNoYW5nZSgpKX0sby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21SYW5nZT1udWxsLHRoaXMudXBkYXRlKCl9LG8ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0ZWQ/KHRoaXMudXBkYXRlKCkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucnVuKSk6dm9pZCAwfSxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKG51bGwhPXQ/dC5zdGFydENvbnRhaW5lcjp2b2lkIDApPT09KG51bGwhPWU/ZS5zdGFydENvbnRhaW5lcjp2b2lkIDApJiYobnVsbCE9dD90LnN0YXJ0T2Zmc2V0OnZvaWQgMCk9PT0obnVsbCE9ZT9lLnN0YXJ0T2Zmc2V0OnZvaWQgMCkmJihudWxsIT10P3QuZW5kQ29udGFpbmVyOnZvaWQgMCk9PT0obnVsbCE9ZT9lLmVuZENvbnRhaW5lcjp2b2lkIDApJiYobnVsbCE9dD90LmVuZE9mZnNldDp2b2lkIDApPT09KG51bGwhPWU/ZS5lbmRPZmZzZXQ6dm9pZCAwKX0sb30oZS5CYXNpY09iamVjdCksbnVsbD09ZS5zZWxlY3Rpb25DaGFuZ2VPYnNlcnZlciYmKGUuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXI9bmV3IGUuU2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXIpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scixzLGEsdSxjLGwsaD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LHA9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKWQuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sZD17fS5oYXNPd25Qcm9wZXJ0eTtpPWUuZ2V0RE9NU2VsZWN0aW9uLG49ZS5nZXRET01SYW5nZSxsPWUuc2V0RE9NUmFuZ2UsdD1lLmVsZW1lbnRDb250YWluc05vZGUscz1lLm5vZGVJc0N1cnNvclRhcmdldCxyPWUuaW5uZXJFbGVtZW50SXNBY3RpdmUsbz1lLmhhbmRsZUV2ZW50LGE9ZS5ub3JtYWxpemVSYW5nZSx1PWUucmFuZ2VJc0NvbGxhcHNlZCxjPWUucmFuZ2VzQXJlRXF1YWwsZS5TZWxlY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGYodCl7dGhpcy5lbGVtZW50PXQsdGhpcy5zZWxlY3Rpb25EaWRDaGFuZ2U9aCh0aGlzLnNlbGVjdGlvbkRpZENoYW5nZSx0aGlzKSx0aGlzLmRpZE1vdXNlRG93bj1oKHRoaXMuZGlkTW91c2VEb3duLHRoaXMpLHRoaXMubG9jYXRpb25NYXBwZXI9bmV3IGUuTG9jYXRpb25NYXBwZXIodGhpcy5lbGVtZW50KSx0aGlzLnBvaW50TWFwcGVyPW5ldyBlLlBvaW50TWFwcGVyLHRoaXMubG9ja0NvdW50PTAsbyhcIm1vdXNlZG93blwiLHtvbkVsZW1lbnQ6dGhpcy5lbGVtZW50LHdpdGhDYWxsYmFjazp0aGlzLmRpZE1vdXNlRG93bn0pfXJldHVybiBwKGYsZCksZi5wcm90b3R5cGUuZ2V0TG9jYXRpb25SYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiBudWxsPT10JiYodD17fSksZT10LnN0cmljdD09PSExP3RoaXMuY3JlYXRlTG9jYXRpb25SYW5nZUZyb21ET01SYW5nZShuKCkse3N0cmljdDohMX0pOnQuaWdub3JlTG9jaz90aGlzLmN1cnJlbnRMb2NhdGlvblJhbmdlOm51bGwhPShpPXRoaXMubG9ja2VkTG9jYXRpb25SYW5nZSk/aTp0aGlzLmN1cnJlbnRMb2NhdGlvblJhbmdlfSxmLnByb3RvdHlwZS5zZXRMb2NhdGlvblJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKCF0aGlzLmxvY2tlZExvY2F0aW9uUmFuZ2UpcmV0dXJuIHQ9YSh0KSwoZT10aGlzLmNyZWF0ZURPTVJhbmdlRnJvbUxvY2F0aW9uUmFuZ2UodCkpPyhsKGUpLHRoaXMudXBkYXRlQ3VycmVudExvY2F0aW9uUmFuZ2UodCkpOnZvaWQgMH0sZi5wcm90b3R5cGUuc2V0TG9jYXRpb25SYW5nZUZyb21Qb2ludFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHQ9YSh0KSxuPXRoaXMuZ2V0TG9jYXRpb25BdFBvaW50KHRbMF0pLGU9dGhpcy5nZXRMb2NhdGlvbkF0UG9pbnQodFsxXSksdGhpcy5zZXRMb2NhdGlvblJhbmdlKFtuLGVdKX0sZi5wcm90b3R5cGUuZ2V0Q2xpZW50UmVjdEF0TG9jYXRpb25SYW5nZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLmNyZWF0ZURPTVJhbmdlRnJvbUxvY2F0aW9uUmFuZ2UodCkpP3RoaXMuZ2V0Q2xpZW50UmVjdHNGb3JET01SYW5nZShlKVsxXTp2b2lkIDB9LGYucHJvdG90eXBlLmxvY2F0aW9uSXNDdXJzb3JUYXJnZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpO3JldHVybiBpPXRoaXMuZmluZE5vZGVBbmRPZmZzZXRGcm9tTG9jYXRpb24odCksZT1pWzBdLG49aVsxXSxzKGUpfSxmLnByb3RvdHlwZS5sb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxvY2tDb3VudCsrPyh0aGlzLnVwZGF0ZUN1cnJlbnRMb2NhdGlvblJhbmdlKCksdGhpcy5sb2NrZWRMb2NhdGlvblJhbmdlPXRoaXMuZ2V0TG9jYXRpb25SYW5nZSgpKTp2b2lkIDB9LGYucHJvdG90eXBlLnVubG9jaz1mdW5jdGlvbigpe3ZhciB0O3JldHVybiAwPT09LS10aGlzLmxvY2tDb3VudCYmKHQ9dGhpcy5sb2NrZWRMb2NhdGlvblJhbmdlLHRoaXMubG9ja2VkTG9jYXRpb25SYW5nZT1udWxsLG51bGwhPXQpP3RoaXMuc2V0TG9jYXRpb25SYW5nZSh0KTp2b2lkIDB9LGYucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PWkoKSk/dC5yZW1vdmVBbGxSYW5nZXMoKTp2b2lkIDB9LGYucHJvdG90eXBlLnNlbGVjdGlvbklzQ29sbGFwc2VkPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKG51bGwhPSh0PW4oKSk/dC5jb2xsYXBzZWQ6dm9pZCAwKT09PSEwfSxmLnByb3RvdHlwZS5zZWxlY3Rpb25Jc0V4cGFuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuc2VsZWN0aW9uSXNDb2xsYXBzZWQoKX0sZi5wcm90b3R5cGUuY3JlYXRlTG9jYXRpb25SYW5nZUZyb21ET01SYW5nZT1mdW5jdGlvbih0LGUpe3ZhciBuLGk7aWYobnVsbCE9dCYmdGhpcy5kb21SYW5nZVdpdGhpbkVsZW1lbnQodCkmJihpPXRoaXMuZmluZExvY2F0aW9uRnJvbUNvbnRhaW5lckFuZE9mZnNldCh0LnN0YXJ0Q29udGFpbmVyLHQuc3RhcnRPZmZzZXQsZSkpKXJldHVybiB0LmNvbGxhcHNlZHx8KG49dGhpcy5maW5kTG9jYXRpb25Gcm9tQ29udGFpbmVyQW5kT2Zmc2V0KHQuZW5kQ29udGFpbmVyLHQuZW5kT2Zmc2V0LGUpKSxhKFtpLG5dKX0sZi5wcm94eU1ldGhvZChcImxvY2F0aW9uTWFwcGVyLmZpbmRMb2NhdGlvbkZyb21Db250YWluZXJBbmRPZmZzZXRcIiksZi5wcm94eU1ldGhvZChcImxvY2F0aW9uTWFwcGVyLmZpbmRDb250YWluZXJBbmRPZmZzZXRGcm9tTG9jYXRpb25cIiksZi5wcm94eU1ldGhvZChcImxvY2F0aW9uTWFwcGVyLmZpbmROb2RlQW5kT2Zmc2V0RnJvbUxvY2F0aW9uXCIpLGYucHJveHlNZXRob2QoXCJwb2ludE1hcHBlci5jcmVhdGVET01SYW5nZUZyb21Qb2ludFwiKSxmLnByb3h5TWV0aG9kKFwicG9pbnRNYXBwZXIuZ2V0Q2xpZW50UmVjdHNGb3JET01SYW5nZVwiKSxmLnByb3RvdHlwZS5kaWRNb3VzZURvd249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZVRlbXBvcmFyaWx5KCl9LGYucHJvdG90eXBlLnBhdXNlVGVtcG9yYXJpbHk9ZnVuY3Rpb24oKXt2YXIgZSxuLGkscjtyZXR1cm4gdGhpcy5wYXVzZWQ9ITAsbj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixvLHM7Zm9yKGUucGF1c2VkPSExLGNsZWFyVGltZW91dChyKSxvPTAscz1pLmxlbmd0aDtzPm87bysrKW49aVtvXSxuLmRlc3Ryb3koKTtyZXR1cm4gdChkb2N1bWVudCxlLmVsZW1lbnQpP2Uuc2VsZWN0aW9uRGlkQ2hhbmdlKCk6dm9pZCAwfX0odGhpcykscj1zZXRUaW1lb3V0KG4sMjAwKSxpPWZ1bmN0aW9uKCl7dmFyIHQsaSxyLHM7Zm9yKHI9W1wibW91c2Vtb3ZlXCIsXCJrZXlkb3duXCJdLHM9W10sdD0wLGk9ci5sZW5ndGg7aT50O3QrKyllPXJbdF0scy5wdXNoKG8oZSx7b25FbGVtZW50OmRvY3VtZW50LHdpdGhDYWxsYmFjazpufSkpO3JldHVybiBzfSgpfSxmLnByb3RvdHlwZS5zZWxlY3Rpb25EaWRDaGFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZWR8fHIodGhpcy5lbGVtZW50KT92b2lkIDA6dGhpcy51cGRhdGVDdXJyZW50TG9jYXRpb25SYW5nZSgpfSxmLnByb3RvdHlwZS51cGRhdGVDdXJyZW50TG9jYXRpb25SYW5nZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4obnVsbCE9dD90OnQ9dGhpcy5jcmVhdGVMb2NhdGlvblJhbmdlRnJvbURPTVJhbmdlKG4oKSkpJiYhYyh0LHRoaXMuY3VycmVudExvY2F0aW9uUmFuZ2UpPyh0aGlzLmN1cnJlbnRMb2NhdGlvblJhbmdlPXQsbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUubG9jYXRpb25SYW5nZURpZENoYW5nZT9lLmxvY2F0aW9uUmFuZ2VEaWRDaGFuZ2UodGhpcy5jdXJyZW50TG9jYXRpb25SYW5nZS5zbGljZSgwKSk6dm9pZCAwKTp2b2lkIDB9LGYucHJvdG90eXBlLmNyZWF0ZURPTVJhbmdlRnJvbUxvY2F0aW9uUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG87cmV0dXJuIGk9dGhpcy5maW5kQ29udGFpbmVyQW5kT2Zmc2V0RnJvbUxvY2F0aW9uKHRbMF0pLG49dSh0KT9pOm51bGwhPShvPXRoaXMuZmluZENvbnRhaW5lckFuZE9mZnNldEZyb21Mb2NhdGlvbih0WzFdKSk/bzppLG51bGwhPWkmJm51bGwhPW4/KGU9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxlLnNldFN0YXJ0LmFwcGx5KGUsaSksZS5zZXRFbmQuYXBwbHkoZSxuKSxlKTp2b2lkIDB9LGYucHJvdG90eXBlLmdldExvY2F0aW9uQXRQb2ludD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybihlPXRoaXMuY3JlYXRlRE9NUmFuZ2VGcm9tUG9pbnQodCkpJiZudWxsIT0obj10aGlzLmNyZWF0ZUxvY2F0aW9uUmFuZ2VGcm9tRE9NUmFuZ2UoZSkpP25bMF06dm9pZCAwfSxmLnByb3RvdHlwZS5kb21SYW5nZVdpdGhpbkVsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29sbGFwc2VkP3QodGhpcy5lbGVtZW50LGUuc3RhcnRDb250YWluZXIpOnQodGhpcy5lbGVtZW50LGUuc3RhcnRDb250YWluZXIpJiZ0KHRoaXMuZWxlbWVudCxlLmVuZENvbnRhaW5lcil9LGZ9KGUuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scj1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIGUpcy5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxzPXt9Lmhhc093blByb3BlcnR5LGE9W10uc2xpY2U7aT1lLnJhbmdlSXNDb2xsYXBzZWQsbz1lLnJhbmdlc0FyZUVxdWFsLG49ZS5vYmplY3RzQXJlRXF1YWwsdD1lLmdldEJsb2NrQ29uZmlnLGUuRWRpdG9yQ29udHJvbGxlcj1mdW5jdGlvbihzKXtmdW5jdGlvbiB1KHQpe3ZhciBuLGk7dGhpcy5lZGl0b3JFbGVtZW50PXQuZWRpdG9yRWxlbWVudCxuPXQuZG9jdW1lbnQsaT10Lmh0bWwsdGhpcy5zZWxlY3Rpb25NYW5hZ2VyPW5ldyBlLlNlbGVjdGlvbk1hbmFnZXIodGhpcy5lZGl0b3JFbGVtZW50KSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIuZGVsZWdhdGU9dGhpcyx0aGlzLmNvbXBvc2l0aW9uPW5ldyBlLkNvbXBvc2l0aW9uLHRoaXMuY29tcG9zaXRpb24uZGVsZWdhdGU9dGhpcyx0aGlzLmF0dGFjaG1lbnRNYW5hZ2VyPW5ldyBlLkF0dGFjaG1lbnRNYW5hZ2VyKHRoaXMuY29tcG9zaXRpb24uZ2V0QXR0YWNobWVudHMoKSksdGhpcy5hdHRhY2htZW50TWFuYWdlci5kZWxlZ2F0ZT10aGlzLHRoaXMuaW5wdXRDb250cm9sbGVyPW5ldyhlW1wiTGV2ZWxcIitlLmNvbmZpZy5pbnB1dC5nZXRMZXZlbCgpK1wiSW5wdXRDb250cm9sbGVyXCJdKSh0aGlzLmVkaXRvckVsZW1lbnQpLHRoaXMuaW5wdXRDb250cm9sbGVyLmRlbGVnYXRlPXRoaXMsdGhpcy5pbnB1dENvbnRyb2xsZXIucmVzcG9uZGVyPXRoaXMuY29tcG9zaXRpb24sdGhpcy5jb21wb3NpdGlvbkNvbnRyb2xsZXI9bmV3IGUuQ29tcG9zaXRpb25Db250cm9sbGVyKHRoaXMuZWRpdG9yRWxlbWVudCx0aGlzLmNvbXBvc2l0aW9uKSx0aGlzLmNvbXBvc2l0aW9uQ29udHJvbGxlci5kZWxlZ2F0ZT10aGlzLHRoaXMudG9vbGJhckNvbnRyb2xsZXI9bmV3IGUuVG9vbGJhckNvbnRyb2xsZXIodGhpcy5lZGl0b3JFbGVtZW50LnRvb2xiYXJFbGVtZW50KSx0aGlzLnRvb2xiYXJDb250cm9sbGVyLmRlbGVnYXRlPXRoaXMsdGhpcy5lZGl0b3I9bmV3IGUuRWRpdG9yKHRoaXMuY29tcG9zaXRpb24sdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLHRoaXMuZWRpdG9yRWxlbWVudCksbnVsbCE9bj90aGlzLmVkaXRvci5sb2FkRG9jdW1lbnQobik6dGhpcy5lZGl0b3IubG9hZEhUTUwoaSl9dmFyIGM7cmV0dXJuIHIodSxzKSx1LnByb3RvdHlwZS5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZWxlY3Rpb25DaGFuZ2VPYnNlcnZlci5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXIodGhpcy5zZWxlY3Rpb25NYW5hZ2VyKX0sdS5wcm90b3R5cGUudW5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZWxlY3Rpb25DaGFuZ2VPYnNlcnZlci51bnJlZ2lzdGVyU2VsZWN0aW9uTWFuYWdlcih0aGlzLnNlbGVjdGlvbk1hbmFnZXIpfSx1LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbkNvbnRyb2xsZXIucmVuZGVyKCl9LHUucHJvdG90eXBlLnJlcGFyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5yZXBsYWNlSFRNTCh0aGlzLmVkaXRvckVsZW1lbnQuaW5uZXJIVE1MKX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25EaWRDaGFuZ2VEb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJkb2N1bWVudC1jaGFuZ2VcIiksdGhpcy5oYW5kbGluZ0lucHV0P3ZvaWQgMDp0aGlzLnJlbmRlcigpfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkRpZENoYW5nZUN1cnJlbnRBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnRBdHRyaWJ1dGVzPXQsdGhpcy50b29sYmFyQ29udHJvbGxlci51cGRhdGVBdHRyaWJ1dGVzKHRoaXMuY3VycmVudEF0dHJpYnV0ZXMpLHRoaXMudXBkYXRlQ3VycmVudEFjdGlvbnMoKSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJhdHRyaWJ1dGVzLWNoYW5nZVwiLHthdHRyaWJ1dGVzOnRoaXMuY3VycmVudEF0dHJpYnV0ZXN9KX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25EaWRQZXJmb3JtSW5zZXJ0aW9uQXRSYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXN0aW5nP3RoaXMucGFzdGVkUmFuZ2U9dDp2b2lkIDB9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uU2hvdWxkQWNjZXB0RmlsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiZmlsZS1hY2NlcHRcIix7ZmlsZTp0fSl9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uRGlkQWRkQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmF0dGFjaG1lbnRNYW5hZ2VyLm1hbmFnZUF0dGFjaG1lbnQodCksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiYXR0YWNobWVudC1hZGRcIix7YXR0YWNobWVudDplfSl9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uRGlkRWRpdEF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuY29tcG9zaXRpb25Db250cm9sbGVyLnJlcmVuZGVyVmlld0Zvck9iamVjdCh0KSxlPXRoaXMuYXR0YWNobWVudE1hbmFnZXIubWFuYWdlQXR0YWNobWVudCh0KSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJhdHRhY2htZW50LWVkaXRcIix7YXR0YWNobWVudDplfSksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiY2hhbmdlXCIpfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkRpZENoYW5nZUF0dGFjaG1lbnRQcmV2aWV3VVJMPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uQ29udHJvbGxlci5pbnZhbGlkYXRlVmlld0Zvck9iamVjdCh0KSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJjaGFuZ2VcIil9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uRGlkUmVtb3ZlQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmF0dGFjaG1lbnRNYW5hZ2VyLnVubWFuYWdlQXR0YWNobWVudCh0KSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJhdHRhY2htZW50LXJlbW92ZVwiLHthdHRhY2htZW50OmV9KX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25EaWRTdGFydEVkaXRpbmdBdHRhY2htZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXR0YWNobWVudExvY2F0aW9uUmFuZ2U9dGhpcy5jb21wb3NpdGlvbi5kb2N1bWVudC5nZXRMb2NhdGlvblJhbmdlT2ZBdHRhY2htZW50KHQpLHRoaXMuY29tcG9zaXRpb25Db250cm9sbGVyLmluc3RhbGxBdHRhY2htZW50RWRpdG9yRm9yQXR0YWNobWVudCh0LGUpLHRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZXRMb2NhdGlvblJhbmdlKHRoaXMuYXR0YWNobWVudExvY2F0aW9uUmFuZ2UpfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkRpZFN0b3BFZGl0aW5nQXR0YWNobWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uQ29udHJvbGxlci51bmluc3RhbGxBdHRhY2htZW50RWRpdG9yKCksdGhpcy5hdHRhY2htZW50TG9jYXRpb25SYW5nZT1udWxsfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkRpZFJlcXVlc3RDaGFuZ2luZ1NlbGVjdGlvblRvTG9jYXRpb25SYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5sb2FkaW5nU25hcHNob3R8fHRoaXMuaXNGb2N1c2VkKCk/KHRoaXMucmVxdWVzdGVkTG9jYXRpb25SYW5nZT10LHRoaXMuY29tcG9zaXRpb25SZXZpc2lvbldoZW5Mb2NhdGlvblJhbmdlUmVxdWVzdGVkPXRoaXMuY29tcG9zaXRpb24ucmV2aXNpb24sdGhpcy5oYW5kbGluZ0lucHV0P3ZvaWQgMDp0aGlzLnJlbmRlcigpKTp2b2lkIDB9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uV2lsbExvYWRTbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvYWRpbmdTbmFwc2hvdD0hMH0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25EaWRMb2FkU25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbkNvbnRyb2xsZXIucmVmcmVzaFZpZXdDYWNoZSgpLHRoaXMucmVuZGVyKCksdGhpcy5sb2FkaW5nU25hcHNob3Q9ITF9LHUucHJvdG90eXBlLmdldFNlbGVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25NYW5hZ2VyfSx1LnByb3h5TWV0aG9kKFwiZ2V0U2VsZWN0aW9uTWFuYWdlcigpLnNldExvY2F0aW9uUmFuZ2VcIiksdS5wcm94eU1ldGhvZChcImdldFNlbGVjdGlvbk1hbmFnZXIoKS5nZXRMb2NhdGlvblJhbmdlXCIpLHUucHJvdG90eXBlLmF0dGFjaG1lbnRNYW5hZ2VyRGlkUmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVtb3ZlQXR0YWNobWVudCh0KX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFN5bmNEb2N1bWVudFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dENvbnRyb2xsZXIuZWRpdG9yV2lsbFN5bmNEb2N1bWVudFZpZXcoKSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIubG9jaygpLHRoaXMuc2VsZWN0aW9uTWFuYWdlci5jbGVhclNlbGVjdGlvbigpfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRTeW5jRG9jdW1lbnRWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRDb250cm9sbGVyLmVkaXRvckRpZFN5bmNEb2N1bWVudFZpZXcoKSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIudW5sb2NrKCksdGhpcy51cGRhdGVDdXJyZW50QWN0aW9ucygpLHRoaXMubm90aWZ5RWRpdG9yRWxlbWVudChcInN5bmNcIil9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnJlcXVlc3RlZExvY2F0aW9uUmFuZ2UmJih0aGlzLmNvbXBvc2l0aW9uUmV2aXNpb25XaGVuTG9jYXRpb25SYW5nZVJlcXVlc3RlZD09PXRoaXMuY29tcG9zaXRpb24ucmV2aXNpb24mJnRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZXRMb2NhdGlvblJhbmdlKHRoaXMucmVxdWVzdGVkTG9jYXRpb25SYW5nZSksdGhpcy5yZXF1ZXN0ZWRMb2NhdGlvblJhbmdlPW51bGwsdGhpcy5jb21wb3NpdGlvblJldmlzaW9uV2hlbkxvY2F0aW9uUmFuZ2VSZXF1ZXN0ZWQ9bnVsbCksdGhpcy5yZW5kZXJlZENvbXBvc2l0aW9uUmV2aXNpb24hPT10aGlzLmNvbXBvc2l0aW9uLnJldmlzaW9uJiYodGhpcy5ydW5FZGl0b3JGaWx0ZXJzKCksdGhpcy5jb21wb3NpdGlvbi51cGRhdGVDdXJyZW50QXR0cmlidXRlcygpLHRoaXMubm90aWZ5RWRpdG9yRWxlbWVudChcInJlbmRlclwiKSksdGhpcy5yZW5kZXJlZENvbXBvc2l0aW9uUmV2aXNpb249dGhpcy5jb21wb3NpdGlvbi5yZXZpc2lvbn0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkRm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b29sYmFyQ29udHJvbGxlci5oaWRlRGlhbG9nKCksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiZm9jdXNcIil9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZEJsdXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiYmx1clwiKX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkU2VsZWN0QXR0YWNobWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRvb2xiYXJDb250cm9sbGVyLmhpZGVEaWFsb2coKSx0aGlzLmNvbXBvc2l0aW9uLmVkaXRBdHRhY2htZW50KHQsZSl9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFJlcXVlc3REZXNlbGVjdGluZ0F0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT1udWxsIT0obj10aGlzLmF0dGFjaG1lbnRMb2NhdGlvblJhbmdlKT9uOnRoaXMuY29tcG9zaXRpb24uZG9jdW1lbnQuZ2V0TG9jYXRpb25SYW5nZU9mQXR0YWNobWVudCh0KSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIuc2V0TG9jYXRpb25SYW5nZShlWzFdKX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFVwZGF0ZUF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIkVkaXQgQXR0YWNobWVudFwiLHtjb250ZXh0OnQuaWQsY29uc29saWRhdGFibGU6ITB9KX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkUmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVtb3ZlQXR0YWNobWVudCh0KX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbEhhbmRsZUlucHV0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFuZGxpbmdJbnB1dD0hMCx0aGlzLnJlcXVlc3RlZFJlbmRlcj0hMX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyRGlkUmVxdWVzdFJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVlc3RlZFJlbmRlcj0hMH0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyRGlkSGFuZGxlSW5wdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kbGluZ0lucHV0PSExLHRoaXMucmVxdWVzdGVkUmVuZGVyPyh0aGlzLnJlcXVlc3RlZFJlbmRlcj0hMSx0aGlzLnJlbmRlcigpKTp2b2lkIDB9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlckRpZEFsbG93VW5oYW5kbGVkSW5wdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiY2hhbmdlXCIpfSx1LnByb3RvdHlwZS5pbnB1dENvbnRyb2xsZXJEaWRSZXF1ZXN0UmVwYXJzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGFyc2UoKX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWNvcmRUeXBpbmdVbmRvRW50cnkoKX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1Gb3JtYXR0aW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlY29yZEZvcm1hdHRpbmdVbmRvRW50cnkodCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlcldpbGxDdXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIkN1dFwiKX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbFBhc3RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVkaXRvci5yZWNvcmRVbmRvRW50cnkoXCJQYXN0ZVwiKSx0aGlzLnBhc3Rpbmc9ITAsdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiYmVmb3JlLXBhc3RlXCIse3Bhc3RlOnR9KX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyRGlkUGFzdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmFuZ2U9dGhpcy5wYXN0ZWRSYW5nZSx0aGlzLnBhc3RlZFJhbmdlPW51bGwsdGhpcy5wYXN0aW5nPW51bGwsdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwicGFzdGVcIix7cGFzdGU6dH0pfSx1LnByb3RvdHlwZS5pbnB1dENvbnRyb2xsZXJXaWxsTW92ZVRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IucmVjb3JkVW5kb0VudHJ5KFwiTW92ZVwiKX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbEF0dGFjaEZpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIkRyb3AgRmlsZXNcIil9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVW5kbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci51bmRvKCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtUmVkbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5yZWRvKCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlckRpZFJlY2VpdmVLZXlib2FyZENvbW1hbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudG9vbGJhckNvbnRyb2xsZXIuYXBwbHlLZXlib2FyZENvbW1hbmQodCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlckRpZFN0YXJ0RHJhZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2F0aW9uUmFuZ2VCZWZvcmVEcmFnPXRoaXMuc2VsZWN0aW9uTWFuYWdlci5nZXRMb2NhdGlvblJhbmdlKCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlckRpZFJlY2VpdmVEcmFnT3ZlclBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlbGVjdGlvbk1hbmFnZXIuc2V0TG9jYXRpb25SYW5nZUZyb21Qb2ludFJhbmdlKHQpfSx1LnByb3RvdHlwZS5pbnB1dENvbnRyb2xsZXJEaWRDYW5jZWxEcmFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZXRMb2NhdGlvblJhbmdlKHRoaXMubG9jYXRpb25SYW5nZUJlZm9yZURyYWcpLHRoaXMubG9jYXRpb25SYW5nZUJlZm9yZURyYWc9bnVsbH0sdS5wcm90b3R5cGUubG9jYXRpb25SYW5nZURpZENoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi51cGRhdGVDdXJyZW50QXR0cmlidXRlcygpLHRoaXMudXBkYXRlQ3VycmVudEFjdGlvbnMoKSx0aGlzLmF0dGFjaG1lbnRMb2NhdGlvblJhbmdlJiYhbyh0aGlzLmF0dGFjaG1lbnRMb2NhdGlvblJhbmdlLHQpJiZ0aGlzLmNvbXBvc2l0aW9uLnN0b3BFZGl0aW5nQXR0YWNobWVudCgpLHRoaXMubm90aWZ5RWRpdG9yRWxlbWVudChcInNlbGVjdGlvbi1jaGFuZ2VcIil9LHUucHJvdG90eXBlLnRvb2xiYXJEaWRDbGlja0J1dHRvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExvY2F0aW9uUmFuZ2UoKT92b2lkIDA6dGhpcy5zZXRMb2NhdGlvblJhbmdlKHtpbmRleDowLG9mZnNldDowfSl9LHUucHJvdG90eXBlLnRvb2xiYXJEaWRJbnZva2VBY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW52b2tlQWN0aW9uKHQpfSx1LnByb3RvdHlwZS50b29sYmFyRGlkVG9nZ2xlQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlY29yZEZvcm1hdHRpbmdVbmRvRW50cnkodCksdGhpcy5jb21wb3NpdGlvbi50b2dnbGVDdXJyZW50QXR0cmlidXRlKHQpLHRoaXMucmVuZGVyKCksdGhpcy5zZWxlY3Rpb25Gcm96ZW4/dm9pZCAwOnRoaXMuZWRpdG9yRWxlbWVudC5mb2N1cygpfSx1LnByb3RvdHlwZS50b29sYmFyRGlkVXBkYXRlQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVjb3JkRm9ybWF0dGluZ1VuZG9FbnRyeSh0KSx0aGlzLmNvbXBvc2l0aW9uLnNldEN1cnJlbnRBdHRyaWJ1dGUodCxlKSx0aGlzLnJlbmRlcigpLHRoaXMuc2VsZWN0aW9uRnJvemVuP3ZvaWQgMDp0aGlzLmVkaXRvckVsZW1lbnQuZm9jdXMoKVxufSx1LnByb3RvdHlwZS50b29sYmFyRGlkUmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlY29yZEZvcm1hdHRpbmdVbmRvRW50cnkodCksdGhpcy5jb21wb3NpdGlvbi5yZW1vdmVDdXJyZW50QXR0cmlidXRlKHQpLHRoaXMucmVuZGVyKCksdGhpcy5zZWxlY3Rpb25Gcm96ZW4/dm9pZCAwOnRoaXMuZWRpdG9yRWxlbWVudC5mb2N1cygpfSx1LnByb3RvdHlwZS50b29sYmFyV2lsbFNob3dEaWFsb2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5leHBhbmRTZWxlY3Rpb25Gb3JFZGl0aW5nKCksdGhpcy5mcmVlemVTZWxlY3Rpb24oKX0sdS5wcm90b3R5cGUudG9vbGJhckRpZFNob3dEaWFsb2c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm90aWZ5RWRpdG9yRWxlbWVudChcInRvb2xiYXItZGlhbG9nLXNob3dcIix7ZGlhbG9nTmFtZTp0fSl9LHUucHJvdG90eXBlLnRvb2xiYXJEaWRIaWRlRGlhbG9nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoYXdTZWxlY3Rpb24oKSx0aGlzLmVkaXRvckVsZW1lbnQuZm9jdXMoKSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJ0b29sYmFyLWRpYWxvZy1oaWRlXCIse2RpYWxvZ05hbWU6dH0pfSx1LnByb3RvdHlwZS5mcmVlemVTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25Gcm96ZW4/dm9pZCAwOih0aGlzLnNlbGVjdGlvbk1hbmFnZXIubG9jaygpLHRoaXMuY29tcG9zaXRpb24uZnJlZXplU2VsZWN0aW9uKCksdGhpcy5zZWxlY3Rpb25Gcm96ZW49ITAsdGhpcy5yZW5kZXIoKSl9LHUucHJvdG90eXBlLnRoYXdTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25Gcm96ZW4/KHRoaXMuY29tcG9zaXRpb24udGhhd1NlbGVjdGlvbigpLHRoaXMuc2VsZWN0aW9uTWFuYWdlci51bmxvY2soKSx0aGlzLnNlbGVjdGlvbkZyb3plbj0hMSx0aGlzLnJlbmRlcigpKTp2b2lkIDB9LHUucHJvdG90eXBlLmFjdGlvbnM9e3VuZG86e3Rlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuY2FuVW5kbygpfSxwZXJmb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnVuZG8oKX19LHJlZG86e3Rlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuY2FuUmVkbygpfSxwZXJmb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlZG8oKX19LGxpbms6e3Rlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuY2FuQWN0aXZhdGVBdHRyaWJ1dGUoXCJocmVmXCIpfX0saW5jcmVhc2VOZXN0aW5nTGV2ZWw6e3Rlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuY2FuSW5jcmVhc2VOZXN0aW5nTGV2ZWwoKX0scGVyZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5pbmNyZWFzZU5lc3RpbmdMZXZlbCgpJiZ0aGlzLnJlbmRlcigpfX0sZGVjcmVhc2VOZXN0aW5nTGV2ZWw6e3Rlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuY2FuRGVjcmVhc2VOZXN0aW5nTGV2ZWwoKX0scGVyZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5kZWNyZWFzZU5lc3RpbmdMZXZlbCgpJiZ0aGlzLnJlbmRlcigpfX0sYXR0YWNoRmlsZXM6e3Rlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMH0scGVyZm9ybTpmdW5jdGlvbigpe3JldHVybiBlLmNvbmZpZy5pbnB1dC5waWNrRmlsZXModGhpcy5lZGl0b3IuaW5zZXJ0RmlsZXMpfX19LHUucHJvdG90eXBlLmNhbkludm9rZUFjdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiB0aGlzLmFjdGlvbklzRXh0ZXJuYWwodCk/ITA6ISEobnVsbCE9KGU9dGhpcy5hY3Rpb25zW3RdKSYmbnVsbCE9KG49ZS50ZXN0KT9uLmNhbGwodGhpcyk6dm9pZCAwKX0sdS5wcm90b3R5cGUuaW52b2tlQWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHRoaXMuYWN0aW9uSXNFeHRlcm5hbCh0KT90aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJhY3Rpb24taW52b2tlXCIse2FjdGlvbk5hbWU6dH0pOm51bGwhPShlPXRoaXMuYWN0aW9uc1t0XSkmJm51bGwhPShuPWUucGVyZm9ybSk/bi5jYWxsKHRoaXMpOnZvaWQgMH0sdS5wcm90b3R5cGUuYWN0aW9uSXNFeHRlcm5hbD1mdW5jdGlvbih0KXtyZXR1cm4vXngtLi8udGVzdCh0KX0sdS5wcm90b3R5cGUuZ2V0Q3VycmVudEFjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdCxlO2U9e307Zm9yKHQgaW4gdGhpcy5hY3Rpb25zKWVbdF09dGhpcy5jYW5JbnZva2VBY3Rpb24odCk7cmV0dXJuIGV9LHUucHJvdG90eXBlLnVwZGF0ZUN1cnJlbnRBY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5nZXRDdXJyZW50QWN0aW9ucygpLG4odCx0aGlzLmN1cnJlbnRBY3Rpb25zKT92b2lkIDA6KHRoaXMuY3VycmVudEFjdGlvbnM9dCx0aGlzLnRvb2xiYXJDb250cm9sbGVyLnVwZGF0ZUFjdGlvbnModGhpcy5jdXJyZW50QWN0aW9ucyksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiYWN0aW9ucy1jaGFuZ2VcIix7YWN0aW9uczp0aGlzLmN1cnJlbnRBY3Rpb25zfSkpfSx1LnByb3RvdHlwZS5ydW5FZGl0b3JGaWx0ZXJzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbyxyLHMsYTtmb3IoYT10aGlzLmNvbXBvc2l0aW9uLmdldFNuYXBzaG90KCksbz10aGlzLmVkaXRvci5maWx0ZXJzLG49MCxpPW8ubGVuZ3RoO2k+bjtuKyspZT1vW25dLHQ9YS5kb2N1bWVudCxzPWEuc2VsZWN0ZWRSYW5nZSxhPW51bGwhPShyPWUuY2FsbCh0aGlzLmVkaXRvcixhKSk/cjp7fSxudWxsPT1hLmRvY3VtZW50JiYoYS5kb2N1bWVudD10KSxudWxsPT1hLnNlbGVjdGVkUmFuZ2UmJihhLnNlbGVjdGVkUmFuZ2U9cyk7cmV0dXJuIGMoYSx0aGlzLmNvbXBvc2l0aW9uLmdldFNuYXBzaG90KCkpP3ZvaWQgMDp0aGlzLmNvbXBvc2l0aW9uLmxvYWRTbmFwc2hvdChhKX0sYz1mdW5jdGlvbih0LGUpe3JldHVybiBvKHQuc2VsZWN0ZWRSYW5nZSxlLnNlbGVjdGVkUmFuZ2UpJiZ0LmRvY3VtZW50LmlzRXF1YWxUbyhlLmRvY3VtZW50KX0sdS5wcm90b3R5cGUudXBkYXRlSW5wdXRFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gdD10aGlzLmNvbXBvc2l0aW9uQ29udHJvbGxlci5nZXRTZXJpYWxpemFibGVFbGVtZW50KCksbj1lLnNlcmlhbGl6ZVRvQ29udGVudFR5cGUodCxcInRleHQvaHRtbFwiKSx0aGlzLmVkaXRvckVsZW1lbnQuc2V0SW5wdXRFbGVtZW50VmFsdWUobil9LHUucHJvdG90eXBlLm5vdGlmeUVkaXRvckVsZW1lbnQ9ZnVuY3Rpb24odCxlKXtzd2l0Y2godCl7Y2FzZVwiZG9jdW1lbnQtY2hhbmdlXCI6dGhpcy5kb2N1bWVudENoYW5nZWRTaW5jZUxhc3RSZW5kZXI9ITA7YnJlYWs7Y2FzZVwicmVuZGVyXCI6dGhpcy5kb2N1bWVudENoYW5nZWRTaW5jZUxhc3RSZW5kZXImJih0aGlzLmRvY3VtZW50Q2hhbmdlZFNpbmNlTGFzdFJlbmRlcj0hMSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJjaGFuZ2VcIikpO2JyZWFrO2Nhc2VcImNoYW5nZVwiOmNhc2VcImF0dGFjaG1lbnQtYWRkXCI6Y2FzZVwiYXR0YWNobWVudC1lZGl0XCI6Y2FzZVwiYXR0YWNobWVudC1yZW1vdmVcIjp0aGlzLnVwZGF0ZUlucHV0RWxlbWVudCgpfXJldHVybiB0aGlzLmVkaXRvckVsZW1lbnQubm90aWZ5KHQsZSl9LHUucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIkRlbGV0ZSBBdHRhY2htZW50XCIpLHRoaXMuY29tcG9zaXRpb24ucmVtb3ZlQXR0YWNobWVudCh0KSx0aGlzLnJlbmRlcigpfSx1LnByb3RvdHlwZS5yZWNvcmRGb3JtYXR0aW5nVW5kb0VudHJ5PWZ1bmN0aW9uKGUpe3ZhciBuLG87cmV0dXJuIG49dChlKSxvPXRoaXMuc2VsZWN0aW9uTWFuYWdlci5nZXRMb2NhdGlvblJhbmdlKCksbnx8IWkobyk/dGhpcy5lZGl0b3IucmVjb3JkVW5kb0VudHJ5KFwiRm9ybWF0dGluZ1wiLHtjb250ZXh0OnRoaXMuZ2V0VW5kb0NvbnRleHQoKSxjb25zb2xpZGF0YWJsZTohMH0pOnZvaWQgMH0sdS5wcm90b3R5cGUucmVjb3JkVHlwaW5nVW5kb0VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIlR5cGluZ1wiLHtjb250ZXh0OnRoaXMuZ2V0VW5kb0NvbnRleHQodGhpcy5jdXJyZW50QXR0cmlidXRlcyksY29uc29saWRhdGFibGU6ITB9KX0sdS5wcm90b3R5cGUuZ2V0VW5kb0NvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD0xPD1hcmd1bWVudHMubGVuZ3RoP2EuY2FsbChhcmd1bWVudHMsMCk6W10sW3RoaXMuZ2V0TG9jYXRpb25Db250ZXh0KCksdGhpcy5nZXRUaW1lQ29udGV4dCgpXS5jb25jYXQoYS5jYWxsKHQpKX0sdS5wcm90b3R5cGUuZ2V0TG9jYXRpb25Db250ZXh0PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5zZWxlY3Rpb25NYW5hZ2VyLmdldExvY2F0aW9uUmFuZ2UoKSxpKHQpP3RbMF0uaW5kZXg6dH0sdS5wcm90b3R5cGUuZ2V0VGltZUNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25maWcudW5kb0ludGVydmFsPjA/TWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS9lLmNvbmZpZy51bmRvSW50ZXJ2YWwpOjB9LHUucHJvdG90eXBlLmlzRm9jdXNlZD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLmVkaXRvckVsZW1lbnQ9PT0obnVsbCE9KHQ9dGhpcy5lZGl0b3JFbGVtZW50Lm93bmVyRG9jdW1lbnQpP3QuYWN0aXZlRWxlbWVudDp2b2lkIDApfSx1fShlLkNvbnRyb2xsZXIpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scixzO249ZS5icm93c2VyLHI9ZS5tYWtlRWxlbWVudCxzPWUudHJpZ2dlckV2ZW50LGk9ZS5oYW5kbGVFdmVudCxvPWUuaGFuZGxlRXZlbnRPbmNlLHQ9ZS5BdHRhY2htZW50Vmlldy5hdHRhY2htZW50U2VsZWN0b3IsZS5yZWdpc3RlckVsZW1lbnQoXCJ0cml4LWVkaXRvclwiLGZ1bmN0aW9uKCl7dmFyIGEsdSxjLGwsaCxwLGQsZjtyZXR1cm4gcD0wLHU9ZnVuY3Rpb24odCl7cmV0dXJuIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCI6Zm9jdXNcIikmJnQuaGFzQXR0cmlidXRlKFwiYXV0b2ZvY3VzXCIpJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2F1dG9mb2N1c11cIik9PT10P3QuZm9jdXMoKTp2b2lkIDB9LGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP3ZvaWQgMDoodC5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIixcIlwiKSxvKFwiZm9jdXNcIix7b25FbGVtZW50OnQsd2l0aENhbGxiYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGModCl9fSkpfSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmhhc0F0dHJpYnV0ZShcInJvbGVcIik/dm9pZCAwOnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwidGV4dGJveFwiKX0sYz1mdW5jdGlvbih0KXtyZXR1cm4gaCh0KSxmKHQpfSxoPWZ1bmN0aW9uKHQpe3JldHVybihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ/ZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKFwiZW5hYmxlT2JqZWN0UmVzaXppbmdcIik6dm9pZCAwKT8oZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJlbmFibGVPYmplY3RSZXNpemluZ1wiLCExLCExKSxpKFwibXNjb250cm9sc2VsZWN0XCIse29uRWxlbWVudDp0LHByZXZlbnREZWZhdWx0OiEwfSkpOnZvaWQgMH0sZj1mdW5jdGlvbigpe3ZhciB0O3JldHVybihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ/ZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKFwiRGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvclwiKTp2b2lkIDApJiYodD1lLmNvbmZpZy5ibG9ja0F0dHJpYnV0ZXNbXCJkZWZhdWx0XCJdLnRhZ05hbWUsXCJkaXZcIj09PXR8fFwicFwiPT09dCk/ZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJEZWZhdWx0UGFyYWdyYXBoU2VwYXJhdG9yXCIsITEsdCk6dm9pZCAwfSxsPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZm9yY2VzT2JqZWN0UmVzaXppbmc/e2Rpc3BsYXk6XCJpbmxpbmVcIix3aWR0aDpcImF1dG9cIn06e2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIix3aWR0aDpcIjFweFwifX0oKSx7ZGVmYXVsdENTUzpcIiV0IHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4ldDplbXB0eTpub3QoOmZvY3VzKTo6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IGF0dHIocGxhY2Vob2xkZXIpO1xcbiAgY29sb3I6IGdyYXl0ZXh0O1xcbiAgY3Vyc29yOiB0ZXh0O1xcbn1cXG5cXG4ldCBhW2NvbnRlbnRlZGl0YWJsZT1mYWxzZV0ge1xcbiAgY3Vyc29yOiB0ZXh0O1xcbn1cXG5cXG4ldCBpbWcge1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG5cXG4ldCBcIit0K1wiIGZpZ2NhcHRpb24gdGV4dGFyZWEge1xcbiAgcmVzaXplOiBub25lO1xcbn1cXG5cXG4ldCBcIit0K1wiIGZpZ2NhcHRpb24gdGV4dGFyZWEudHJpeC1hdXRvcmVzaXplLWNsb25lIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IC05OTk5cHg7XFxuICBtYXgtaGVpZ2h0OiAwcHg7XFxufVxcblxcbiV0IFwiK3QrXCIgZmlnY2FwdGlvbltkYXRhLXRyaXgtcGxhY2Vob2xkZXJdOmVtcHR5OjpiZWZvcmUge1xcbiAgY29udGVudDogYXR0cihkYXRhLXRyaXgtcGxhY2Vob2xkZXIpO1xcbiAgY29sb3I6IGdyYXl0ZXh0O1xcbn1cXG5cXG4ldCBbZGF0YS10cml4LWN1cnNvci10YXJnZXRdIHtcXG4gIGRpc3BsYXk6IFwiK2wuZGlzcGxheStcIiAhaW1wb3J0YW50O1xcbiAgd2lkdGg6IFwiK2wud2lkdGgrXCIgIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcXG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XFxufVxcblxcbiV0IFtkYXRhLXRyaXgtY3Vyc29yLXRhcmdldD1sZWZ0XSB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wICFpbXBvcnRhbnQ7XFxuICBtYXJnaW4tbGVmdDogLTFweCAhaW1wb3J0YW50O1xcbn1cXG5cXG4ldCBbZGF0YS10cml4LWN1cnNvci10YXJnZXQ9cmlnaHRdIHtcXG4gIHZlcnRpY2FsLWFsaWduOiBib3R0b20gIWltcG9ydGFudDtcXG4gIG1hcmdpbi1yaWdodDogLTFweCAhaW1wb3J0YW50O1xcbn1cIix0cml4SWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShcInRyaXgtaWRcIik/dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0cml4LWlkXCIpOih0aGlzLnNldEF0dHJpYnV0ZShcInRyaXgtaWRcIiwrK3ApLHRoaXMudHJpeElkKX19LHRvb2xiYXJFbGVtZW50OntnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKFwidG9vbGJhclwiKT9udWxsIT0oZT10aGlzLm93bmVyRG9jdW1lbnQpP2UuZ2V0RWxlbWVudEJ5SWQodGhpcy5nZXRBdHRyaWJ1dGUoXCJ0b29sYmFyXCIpKTp2b2lkIDA6dGhpcy5wYXJlbnROb2RlPyhuPVwidHJpeC10b29sYmFyLVwiK3RoaXMudHJpeElkLHRoaXMuc2V0QXR0cmlidXRlKFwidG9vbGJhclwiLG4pLHQ9cihcInRyaXgtdG9vbGJhclwiLHtpZDpufSksdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LHRoaXMpLHQpOnZvaWQgMH19LGlucHV0RWxlbWVudDp7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShcImlucHV0XCIpP251bGwhPShuPXRoaXMub3duZXJEb2N1bWVudCk/bi5nZXRFbGVtZW50QnlJZCh0aGlzLmdldEF0dHJpYnV0ZShcImlucHV0XCIpKTp2b2lkIDA6dGhpcy5wYXJlbnROb2RlPyhlPVwidHJpeC1pbnB1dC1cIit0aGlzLnRyaXhJZCx0aGlzLnNldEF0dHJpYnV0ZShcImlucHV0XCIsZSksdD1yKFwiaW5wdXRcIix7dHlwZTpcImhpZGRlblwiLGlkOmV9KSx0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsdGhpcy5uZXh0RWxlbWVudFNpYmxpbmcpLHQpOnZvaWQgMH19LGVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZWRpdG9yQ29udHJvbGxlcik/dC5lZGl0b3I6dm9pZCAwfX0sbmFtZTp7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuaW5wdXRFbGVtZW50KT90Lm5hbWU6dm9pZCAwfX0sdmFsdWU6e2dldDpmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmlucHV0RWxlbWVudCk/dC52YWx1ZTp2b2lkIDB9LHNldDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU9dCxudWxsIT0oZT10aGlzLmVkaXRvcik/ZS5sb2FkSFRNTCh0aGlzLmRlZmF1bHRWYWx1ZSk6dm9pZCAwfX0sbm90aWZ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29udHJvbGxlcj9zKFwidHJpeC1cIit0LHtvbkVsZW1lbnQ6dGhpcyxhdHRyaWJ1dGVzOmV9KTp2b2lkIDB9LHNldElucHV0RWxlbWVudFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmlucHV0RWxlbWVudCk/ZS52YWx1ZT10OnZvaWQgMH0saW5pdGlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBkKHRoaXMpLGEodGhpcyl9LGNvbm5lY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtaW50ZXJuYWxcIik/dm9pZCAwOih0aGlzLmVkaXRvckNvbnRyb2xsZXJ8fChzKFwidHJpeC1iZWZvcmUtaW5pdGlhbGl6ZVwiLHtvbkVsZW1lbnQ6dGhpc30pLHRoaXMuZWRpdG9yQ29udHJvbGxlcj1uZXcgZS5FZGl0b3JDb250cm9sbGVyKHtlZGl0b3JFbGVtZW50OnRoaXMsaHRtbDp0aGlzLmRlZmF1bHRWYWx1ZT10aGlzLnZhbHVlfSkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBzKFwidHJpeC1pbml0aWFsaXplXCIse29uRWxlbWVudDp0fSl9fSh0aGlzKSkpLHRoaXMuZWRpdG9yQ29udHJvbGxlci5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXIoKSx0aGlzLnJlZ2lzdGVyUmVzZXRMaXN0ZW5lcigpLHUodGhpcykpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZWRpdG9yQ29udHJvbGxlcikmJnQudW5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXIoKSx0aGlzLnVucmVnaXN0ZXJSZXNldExpc3RlbmVyKCl9LHJlZ2lzdGVyUmVzZXRMaXN0ZW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2V0TGlzdGVuZXI9dGhpcy5yZXNldEJ1YmJsZWQuYmluZCh0aGlzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsdGhpcy5yZXNldExpc3RlbmVyLCExKX0sdW5yZWdpc3RlclJlc2V0TGlzdGVuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLHRoaXMucmVzZXRMaXN0ZW5lciwhMSl9LHJlc2V0QnViYmxlZDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdC50YXJnZXQhPT0obnVsbCE9KGU9dGhpcy5pbnB1dEVsZW1lbnQpP2UuZm9ybTp2b2lkIDApfHx0LmRlZmF1bHRQcmV2ZW50ZWQ/dm9pZCAwOnRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZT10aGlzLmRlZmF1bHRWYWx1ZX19fSgpKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe30uY2FsbCh0aGlzKX0pLmNhbGwodGhpcyksXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShlKX0uY2FsbCh0aGlzKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/trix/dist/trix-core.js\n");

/***/ }),

/***/ "./node_modules/trix/dist/trix.css":
/*!*****************************************!*\
  !*** ./node_modules/trix/dist/trix.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../css-loader??ref--6-1!../../postcss-loader/src??ref--6-2!./trix.css */ \"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/trix/dist/trix.css\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHJpeC9kaXN0L3RyaXguY3NzPzUzNGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLGNBQWMsbUJBQU8sQ0FBQyxvTUFBOEY7O0FBRXBILDRDQUE0QyxRQUFTOztBQUVyRDtBQUNBOzs7O0FBSUEsZUFBZTs7QUFFZjtBQUNBOztBQUVBLGFBQWEsbUJBQU8sQ0FBQyx5RkFBc0M7O0FBRTNEOztBQUVBLEdBQUcsS0FBVSxFQUFFIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3RyaXgvZGlzdC90cml4LmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTYtMSEuLi8uLi9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNi0yIS4vdHJpeC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS02LTEhLi4vLi4vcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTYtMiEuL3RyaXguY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS02LTEhLi4vLi4vcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTYtMiEuL3RyaXguY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/trix/dist/trix.css\n");

/***/ }),

/***/ "./resources/js/app.js":
/*!*****************************!*\
  !*** ./resources/js/app.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! ./bootstrap */ \"./resources/js/bootstrap.js\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBwLmpzPzZkNDAiXSwibmFtZXMiOlsicmVxdWlyZSJdLCJtYXBwaW5ncyI6IkFBQUFBLG1CQUFPLENBQUMsZ0RBQUQsQ0FBUCIsImZpbGUiOiIuL3Jlc291cmNlcy9qcy9hcHAuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL2Jvb3RzdHJhcCcpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/app.js\n");

/***/ }),

/***/ "./resources/js/bootstrap.js":
/*!***********************************!*\
  !*** ./resources/js/bootstrap.js ***!
  \***********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ \"./resources/js/store.js\");\n/* harmony import */ var alpinejs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! alpinejs */ \"./node_modules/alpinejs/dist/alpine.js\");\n/* harmony import */ var alpinejs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(alpinejs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var trix_dist_trix_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! trix/dist/trix-core */ \"./node_modules/trix/dist/trix-core.js\");\n/* harmony import */ var trix_dist_trix_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(trix_dist_trix_core__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var trix_dist_trix_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! trix/dist/trix.css */ \"./node_modules/trix/dist/trix.css\");\n/* harmony import */ var trix_dist_trix_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(trix_dist_trix_css__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n/**\n * Echo exposes an expressive API for subscribing to channels and listening\n * for events that are broadcast by Laravel. Echo and event broadcasting\n * allows your team to easily build robust real-time web applications.\n */\n// import Echo from 'laravel-echo'\n// window.Pusher = require('pusher-js');\n// window.Echo = new Echo({\n//     broadcaster: 'pusher',\n//     key: process.env.MIX_PUSHER_APP_KEY,\n//     cluster: process.env.MIX_PUSHER_APP_CLUSTER,\n//     forceTLS: true\n// });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYm9vdHN0cmFwLmpzP2Y1NjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvYm9vdHN0cmFwLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0b3JlIGZyb20gJy4vc3RvcmUnXG5pbXBvcnQgJ2FscGluZWpzJ1xuaW1wb3J0ICd0cml4L2Rpc3QvdHJpeC1jb3JlJ1xuaW1wb3J0ICd0cml4L2Rpc3QvdHJpeC5jc3MnXG5cbi8qKlxuICogRWNobyBleHBvc2VzIGFuIGV4cHJlc3NpdmUgQVBJIGZvciBzdWJzY3JpYmluZyB0byBjaGFubmVscyBhbmQgbGlzdGVuaW5nXG4gKiBmb3IgZXZlbnRzIHRoYXQgYXJlIGJyb2FkY2FzdCBieSBMYXJhdmVsLiBFY2hvIGFuZCBldmVudCBicm9hZGNhc3RpbmdcbiAqIGFsbG93cyB5b3VyIHRlYW0gdG8gZWFzaWx5IGJ1aWxkIHJvYnVzdCByZWFsLXRpbWUgd2ViIGFwcGxpY2F0aW9ucy5cbiAqL1xuXG4vLyBpbXBvcnQgRWNobyBmcm9tICdsYXJhdmVsLWVjaG8nXG5cbi8vIHdpbmRvdy5QdXNoZXIgPSByZXF1aXJlKCdwdXNoZXItanMnKTtcblxuLy8gd2luZG93LkVjaG8gPSBuZXcgRWNobyh7XG4vLyAgICAgYnJvYWRjYXN0ZXI6ICdwdXNoZXInLFxuLy8gICAgIGtleTogcHJvY2Vzcy5lbnYuTUlYX1BVU0hFUl9BUFBfS0VZLFxuLy8gICAgIGNsdXN0ZXI6IHByb2Nlc3MuZW52Lk1JWF9QVVNIRVJfQVBQX0NMVVNURVIsXG4vLyAgICAgZm9yY2VUTFM6IHRydWVcbi8vIH0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/bootstrap.js\n");

/***/ }),

/***/ "./resources/js/store.js":
/*!*******************************!*\
  !*** ./resources/js/store.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ryangjchandler_spruce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ryangjchandler/spruce */ \"./node_modules/@ryangjchandler/spruce/dist/spruce.js\");\n/* harmony import */ var _ryangjchandler_spruce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ryangjchandler_spruce__WEBPACK_IMPORTED_MODULE_0__);\n\n_ryangjchandler_spruce__WEBPACK_IMPORTED_MODULE_0___default.a.store('postModal', {\n  open: null\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (_ryangjchandler_spruce__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvc3RvcmUuanM/MjVjZSJdLCJuYW1lcyI6WyJTcHJ1Y2UiLCJzdG9yZSIsIm9wZW4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUFBLDZEQUFNLENBQUNDLEtBQVAsQ0FBYSxXQUFiLEVBQTBCO0FBQ3RCQyxNQUFJLEVBQUU7QUFEZ0IsQ0FBMUI7QUFJZUYsNEhBQWYiLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvc3RvcmUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3BydWNlIGZyb20gJ0ByeWFuZ2pjaGFuZGxlci9zcHJ1Y2UnXG5cblNwcnVjZS5zdG9yZSgncG9zdE1vZGFsJywge1xuICAgIG9wZW46IG51bGxcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IFNwcnVjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/store.js\n");

/***/ }),

/***/ "./resources/sass/app.scss":
/*!*********************************!*\
  !*** ./resources/sass/app.scss ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvc2Fzcy9hcHAuc2Nzcz80NGJjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ii4vcmVzb3VyY2VzL3Nhc3MvYXBwLnNjc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/sass/app.scss\n");

/***/ }),

/***/ 0:
/*!*************************************************************!*\
  !*** multi ./resources/js/app.js ./resources/sass/app.scss ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! /Users/evan/Code/Open Source/canary/resources/js/app.js */"./resources/js/app.js");
module.exports = __webpack_require__(/*! /Users/evan/Code/Open Source/canary/resources/sass/app.scss */"./resources/sass/app.scss");


/***/ })

/******/ });